{
  Padding insets=target.getPadding();
  int y=insets.getTop();
  int x=insets.getLeft();
  Size componentSize;
  View[] components=target.getComponents();
  int maxWidth=0;
  if (useMaxWidth) {
    for (int i=0; i < components.length; i++) {
      maxWidth=Math.max(maxWidth,components[i].getRequiredSize().getWidth());
    }
  }
  for (int i=0; i < components.length; i++) {
    componentSize=components[i].getRequiredSize();
    if (useMaxWidth) {
      componentSize.setWidth(maxWidth);
    }
    components[i].setSize(componentSize);
    components[i].setLocation(new Location(x,y));
    y+=componentSize.getHeight();
  }
  target.setLayoutValid();
}
