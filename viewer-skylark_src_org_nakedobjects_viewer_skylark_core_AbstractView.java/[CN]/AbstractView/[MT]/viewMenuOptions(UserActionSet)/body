{
  options.setColor(Style.VIEW_MENU);
  Content content=getContent();
  if (content != null) {
    content.viewMenuOptions(options);
  }
  if (getParent() != null) {
    Enumeration possibleViews=Skylark.getViewFactory().openRootViews(content,null);
    while (possibleViews.hasMoreElements()) {
      ViewSpecification specification=(ViewSpecification)possibleViews.nextElement();
      AbstractUserAction viewAs=new OpenViewOption(specification);
      options.add(viewAs);
    }
  }
  if (view.getSpecification() != null && view.getSpecification().isSubView()) {
    if (view.getSpecification().isReplaceable()) {
      replaceOptions(Skylark.getViewFactory().openSubviews(content,this),options);
      replaceOptions(Skylark.getViewFactory().closedSubviews(content,this),options);
    }
  }
 else {
    if (view.getSpecification() != null && view.getSpecification().isReplaceable()) {
      replaceOptions(Skylark.getViewFactory().openRootViews(content,this),options);
    }
    options.add(new PrintOption());
    if (getParent() != null) {
      options.add(CLOSE_OPTION);
      options.add(CLOSE_ALL_OPTION);
      options.add(CLOSE_VIEWS_FOR_OBJECT);
    }
  }
  options.add(new AbstractUserAction("Refresh view",UserAction.DEBUG){
    public void execute(    Workspace workspace,    View view,    Location at){
      refresh();
    }
  }
);
  options.add(new AbstractUserAction("Invalidate content",UserAction.DEBUG){
    public void execute(    Workspace workspace,    View view,    Location at){
      invalidateContent();
    }
  }
);
  options.add(new AbstractUserAction("Invalidate layout",UserAction.DEBUG){
    public void execute(    Workspace workspace,    View view,    Location at){
      invalidateLayout();
    }
  }
);
  final UndoStack undoStack=getViewManager().getUndoStack();
  if (!undoStack.isEmpty()) {
    options.add(new AbstractUserAction("Undo " + undoStack.getNameOfUndo()){
      public Consent disabled(      View component){
        return new Allow(undoStack.descriptionOfUndo());
      }
      public void execute(      Workspace workspace,      View view,      Location at){
        undoStack.undoLastCommand();
      }
    }
);
  }
}
