{
  InputEntity start=peekDeclaration("!ELEMENT");
  if (start == null)   return false;
  String name=getMarkupDeclname("F-015",true);
  ElementDecl element=(ElementDecl)elements.get(name);
  boolean declEffective=false;
  if (element != null) {
    if (element.contentType != null) {
      if (supportValidation && isValidating && element.contentType != null)       error("V-012",new Object[]{name});
      element=new ElementDecl(name);
    }
  }
 else {
    element=new ElementDecl(name);
    if (!ignoreDeclarations) {
      elements.put(element.name,element);
      declEffective=true;
    }
  }
  element.isFromInternalSubset=!inExternalPE;
  whitespace("F-000");
  if (peek(strEMPTY)) {
    element.contentType=strEMPTY;
    element.ignoreWhitespace=true;
  }
 else   if (peek(strANY)) {
    element.contentType=strANY;
    element.ignoreWhitespace=false;
  }
 else   element.contentType=getMixedOrChildren(element);
  maybeWhitespace();
  char c=getc();
  if (c != '>')   fatal("P-036",new Object[]{name,new Character(c)});
  if (supportValidation && isValidating && start != in)   error("V-013",null);
  if (declEffective) {
    declHandler.elementDecl(element.name,element.contentType);
  }
  return true;
}
