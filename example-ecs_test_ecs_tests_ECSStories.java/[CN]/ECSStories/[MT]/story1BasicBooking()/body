{
  story("A Basic Booking");
  subtitle("Set up the new booking");
  step();
  View booking=getClassView("Bookings").newInstance();
  step("Specify the city that the booking is for");
  View city=getClassView("Cities").findInstance("New York");
  booking.drop("City",city.drag());
  step("As this is for a new customer one should be specified rather than looked up");
  View customer=getClassView("Customers").newInstance();
  booking.drop("Customer",customer.drag());
  customer.fieldEntry("First Name","Richard");
  customer.fieldEntry("Last Name","Pawson");
  step("Specify pick up and drop off locations");
  View pickup=city.rightClick("New Location");
  pickup.fieldEntry("Street Address","234 E 42nd Street");
  booking.drop("Pick Up",pickup.drag());
  View dropoff=city.rightClick("New Location");
  dropoff.fieldEntry("Street Address","JFK Airport, BA Terminal");
  booking.drop("Drop Off",dropoff.drag());
  step("Specify when to pick up.");
  booking.fieldEntry("Date","Dec 16, 2001");
  booking.fieldEntry("Time","2:30:00 PM");
  step("Specify the  payment method.");
  View payment=getClassView("Credit Cards").newInstance();
  booking.drop("Payment Method",payment.drag());
  payment.fieldEntry("Name On Card","Richard W Pawson");
  payment.fieldEntry("Number","492783451234");
  payment.fieldEntry("Expires","01.04");
  step("Specify other details.");
  View phone=getClassView("Telephones").newInstance();
  booking.drop("Contact Telephone",phone.drag());
  phone.fieldEntry("Number","6175551234");
  step("Ask the customer if this is a regular number (e.g. a mobile) and if so, associate it with the customer for future use");
  phone.fieldEntry("Known As","Mobile");
  customer.drop("Phone Numbers",phone.drag());
  step("Check it is available.");
  booking.rightClick("Check Availability");
  booking.checkField("Status",new TextString("Available"));
  step("And then confirm.");
  booking.rightClick("Confirm");
  booking.checkField("Status","Confirmed");
  customer.checkField("Locations",pickup);
  customer.checkField("Locations",dropoff);
}
