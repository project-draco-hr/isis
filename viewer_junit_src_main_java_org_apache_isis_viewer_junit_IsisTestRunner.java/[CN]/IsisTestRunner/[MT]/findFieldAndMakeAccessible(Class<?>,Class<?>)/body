{
  for (Class<?> c=testClass; c != Object.class; c=c.getSuperclass()) {
    for (    final Field field : c.getDeclaredFields()) {
      if (clazz.isAssignableFrom(field.getType())) {
        field.setAccessible(true);
        return field;
      }
    }
  }
  return null;
}
