{
  for (  final String packagePrefix : Iterables.transform(Splitter.on(",").split(packagePrefixes),trim())) {
    Reflections reflections=new Reflections(packagePrefix);
    Set<Class<?>> entityTypes=reflections.getTypesAnnotatedWith(PersistenceCapable.class);
    if (noEntitiesIn(entityTypes)) {
      throw new IllegalStateException("Could not locate any @PersistenceCapable entities in package " + packagePrefix);
    }
    for (    Class<?> entityType : entityTypes) {
      if (ignore(entityType)) {
        continue;
      }
      getSpecificationLoader().loadSpecification(entityType);
    }
  }
}
