{
  LOG.debug("appendXml(" + log("parentPlace",parentPlace) + andlog("childObj",childObject)+ ")");
  Element parentElement=parentPlace.getXmlElement();
  Element parentXsElement=parentPlace.getXsdElement();
  if (parentElement.getOwnerDocument() != getXmlDocument()) {
    throw new IllegalArgumentException("parent XML Element must have snapshot's XML document as its owner");
  }
  LOG.debug("appendXml(Pl, NO): invoking objectToElement() for " + log("childObj",childObject));
  Place childPlace=objectToElement(childObject);
  Element childElement=childPlace.getXmlElement();
  Element childXsElement=childPlace.getXsdElement();
  LOG.debug("appendXml(Pl, NO): invoking mergeTree of parent with child");
  childElement=mergeTree(parentElement,childElement);
  LOG.debug("appendXml(Pl, NO): adding XS Element to schema if required");
  schema.addXsElementIfNotPresent(parentXsElement,childXsElement);
  return childElement;
}
