{
  if (layout == null)   return;
  String name=appender.getName() + ",layout=" + layout.getClass().getName();
  cat.debug("Adding LayoutMBean:" + name);
  ObjectName objectName=null;
  try {
    LayoutDynamicMBean appenderMBean=new LayoutDynamicMBean(layout);
    objectName=new ObjectName("log4j:appender=" + name);
    server.registerMBean(appenderMBean,objectName);
    dAttributes.add(new MBeanAttributeInfo("appender=" + name,"javax.management.ObjectName","The " + name + " layout.",true,true,false));
  }
 catch (  Exception e) {
    cat.error("Could not add DynamicLayoutMBean for [" + name + "].",e);
  }
}
