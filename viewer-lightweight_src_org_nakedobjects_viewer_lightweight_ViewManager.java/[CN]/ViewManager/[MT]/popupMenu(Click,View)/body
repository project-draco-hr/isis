{
  Location at=click.getAbsoluteLocation();
  if (over != null) {
    workspace.setIdentifiedView(over);
  }
  LOG.debug("popup over " + over + " "+ at);
  Location mouseAt=new Location(at);
  Location p=new Location(at);
  Location l=over.getAbsoluteLocation();
  p.translate(-l.x,-l.y);
  boolean forView=over.indicatesForView(p);
  forView=click.isCtrl() ^ forView;
  boolean extendedSet=click.isShift();
  boolean includeExploration=extendedSet || explorationMode;
  popup.init(over,mouseAt,forView,includeExploration,extendedSet);
  workspace.setOverlayView(popup);
  makeFocus(popup);
}
