{
  final Thread transactionId=getTransactionId();
  for (  final FileContent item : list) {
    if (!locks.acquireWrite(item.id,transactionId)) {
      return item.type + " being changed by another user, please try again\n" + item.data;
    }
    if (Util.shouldFileExist(item.command)) {
      final DataFileReader dataReader=new DataFileReader(item.type,item.id);
      final String version=dataReader.getVersion();
      if (!version.equals(item.currentVersion)) {
        dataReader.close();
        return "mismatch between FileContent version (" + item.currentVersion + ") and DataReader version ("+ version+ ")";
      }
      dataReader.close();
    }
  }
  return null;
}
