{
  if (isParented()) {
    getAggregateRoot().checkLock(version);
    return;
  }
  if (this.version != null && this.version.different(version)) {
    LOG.info("concurrency conflict on " + this + " ("+ version+ ")");
    throw new ConcurrencyException(this,version);
  }
}
