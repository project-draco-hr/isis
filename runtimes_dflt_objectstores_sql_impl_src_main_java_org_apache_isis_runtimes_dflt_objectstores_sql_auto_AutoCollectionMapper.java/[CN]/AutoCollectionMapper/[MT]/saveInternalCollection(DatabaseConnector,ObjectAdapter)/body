{
  final ObjectAdapter collection=field.get(parent);
  LOG.debug("saving internal collection " + collection);
  StringBuffer sql=new StringBuffer();
  sql.append("delete from ");
  sql.append(tableName);
  sql.append(" where ");
  idMapping.appendWhereClause(connector,sql,parent.getOid());
  connector.update(sql.toString());
  sql=new StringBuffer();
  sql.append("insert into ");
  sql.append(tableName);
  sql.append(" (");
  idMapping.appendColumnNames(sql);
  sql.append(", ");
  elementMapping.appendColumnNames(sql);
  sql.append(" ) values (");
  idMapping.appendInsertValues(connector,sql,parent);
  sql.append(", ");
  final CollectionFacet collectionFacet=collection.getSpecification().getFacet(CollectionFacet.class);
  for (  final ObjectAdapter element : collectionFacet.iterable(collection)) {
    final StringBuffer values=new StringBuffer();
    elementMapping.appendInsertValues(connector,values,element);
    connector.update(sql.toString() + values + ")");
  }
}
