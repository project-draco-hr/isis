{
  ensureInitialized();
  if (loadedImages.containsKey(name)) {
    return loadedImages.get(name);
  }
  if (missingImages.contains(name)) {
    return null;
  }
  List<String> candidates=getCandidates(name);
  for (  String candidate : candidates) {
    Image image=load(candidate);
    TemplateImageImpl templateImage=TemplateImageImpl.create(image);
    if (templateImage != null) {
      loadedImages.put(name,templateImage);
      return templateImage;
    }
  }
  if (LOG.isDebugEnabled()) {
    LOG.debug("failed to find image for " + name);
  }
  missingImages.addElement(name);
  return null;
}
