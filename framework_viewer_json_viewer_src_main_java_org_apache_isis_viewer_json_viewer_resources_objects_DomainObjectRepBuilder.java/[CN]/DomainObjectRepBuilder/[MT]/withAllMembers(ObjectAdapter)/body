{
  List<ObjectAssociation> associations=objectAdapter.getSpecification().getAssociations();
  for (  ObjectAssociation assoc : associations) {
    Consent visibility=assoc.isVisible(getSession(),objectAdapter);
    if (!visibility.isAllowed()) {
      continue;
    }
    String id=assoc.getId();
    if (assoc instanceof OneToOneAssociation) {
      OneToOneAssociation property=(OneToOneAssociation)assoc;
      Representation propertyRep=PropertyRepBuilder.newBuilder(repContext.underAttribute(id),objectAdapter,property).build();
      withMember(id,propertyRep);
    }
    if (assoc instanceof OneToManyAssociation) {
      OneToManyAssociation collection=(OneToManyAssociation)assoc;
      Representation collectionRep=CollectionRepBuilder.newBuilder(repContext.underAttribute(id),objectAdapter,collection).build();
      withMember(id,collectionRep);
    }
  }
  List<ObjectAction> actions=objectAdapter.getSpecification().getObjectActions(Contributed.EXCLUDED);
  for (  ObjectAction action : actions) {
    Consent visibility=action.isVisible(getSession(),objectAdapter);
    if (!visibility.isAllowed()) {
      continue;
    }
    String id=action.getId();
    Representation actionRep=ActionRepBuilder.newBuilder(repContext.underAttribute(id),objectAdapter,action).build();
    withMember(id,actionRep);
  }
}
