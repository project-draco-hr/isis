{
  NakedClass userClass=classManager().getNakedClass(User.class.getName());
  String name=this.getClass().getName();
  name=name.substring(name.lastIndexOf('.') + 1);
  User user;
  if (!objectManager.hasInstances(userClass)) {
    user=new User(name);
    user.getRoles().add(new Role("explorer"));
    context=new ExplorationContext();
    context.getName().setValue(name);
    context.associateUser(user);
    objectManager.makePersistent(context);
    NakedClassList set=new NakedClassList();
    classSet(set);
    set.setContext(context);
  }
 else {
    InstanceCollection users=InstanceCollection.findInstances(User.class.getName(),name);
    user=(User)users.elements().nextElement();
    context=(ExplorationContext)user.getRootObject();
  }
  return user;
}
