{
  if (context.isUserAuthenticated()) {
    final AuthenticationSession session=context.getSession();
    if (session != null) {
      IsisContext.getUpdateNotifier().clear();
      UserManager.logoffUser(session);
    }
    context.endHttpSession();
    context.setUserAuthenticated(false);
  }
  context.clearVariables(Scope.SESSION);
}
