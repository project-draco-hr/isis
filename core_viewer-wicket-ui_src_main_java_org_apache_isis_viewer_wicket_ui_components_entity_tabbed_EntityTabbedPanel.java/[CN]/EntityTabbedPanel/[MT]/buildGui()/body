{
  final EntityModel model=getModel();
  final ObjectAdapter objectAdapter=model.getObject();
  final CssClassFacet facet=objectAdapter.getSpecification().getFacet(CssClassFacet.class);
  if (facet != null) {
    final String cssClass=facet.cssClass(objectAdapter);
    CssClassAppender.appendCssClassTo(this,cssClass);
  }
  final ObjectLayoutMetadataFacet objectLayoutMetadataFacet=model.getTypeOfSpecification().getFacet(ObjectLayoutMetadataFacet.class);
  final FCPage FCPage=objectLayoutMetadataFacet.getMetadata();
  addOrReplace(ComponentType.ENTITY_SUMMARY,model);
  final int leftSpan=addColumnIfRequired(ID_LEFT_COLUMN,FCPage.getLeft(),FCColumn.Hint.LEFT);
  final TabGroupListPanel middleTabs=addTabGroups(ID_MIDDLE_COLUMN,FCPage.getTabGroups());
  final int rightSpan=addColumnIfRequired(ID_RIGHT_COLUMN,FCPage.getRight(),FCColumn.Hint.RIGHT);
  final int columnSpans=leftSpan + rightSpan;
  int tabGroupSpan=columnSpans < 12 ? 12 - (columnSpans) : 12;
  CssClassAppender.appendCssClassTo(middleTabs,"col-xs-" + tabGroupSpan);
}
