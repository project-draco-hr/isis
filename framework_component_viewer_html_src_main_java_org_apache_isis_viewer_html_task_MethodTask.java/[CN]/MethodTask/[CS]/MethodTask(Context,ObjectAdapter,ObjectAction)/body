{
  super(context,action.getName(),action.getDescription(),target,action.getParameterCount());
  this.action=action;
  final List<ObjectActionParameter> parameters=action.getParameters();
  final int len=parameters.size();
  for (int i=0; i < len; i++) {
    names[i]=parameters.get(i).getName();
    descriptions[i]=parameters.get(i).getDescription();
    fieldSpecifications[i]=parameters.get(i).getSpecification();
    optional[i]=parameters.get(i).isOptional();
    if (parameters.get(i).getSpecification().isParseable()) {
      final ParseableEntryActionParameter valueParameter=(ParseableEntryActionParameter)parameters.get(i);
      noLines[i]=valueParameter.getNoLines();
      wraps[i]=valueParameter.canWrap();
      maxLength[i]=valueParameter.getMaximumLength();
      typicalLength[i]=valueParameter.getTypicalLineLength();
    }
  }
  final ObjectAdapter[] defaultParameterValues=action.getDefaults(target);
  for (int i=0; i < names.length; i++) {
    if (defaultParameterValues[i] == null) {
      if (action.isContributed() && parameters.get(i).isObject()) {
        initialState[i]=target;
      }
 else {
        initialState[i]=null;
      }
    }
 else {
      initialState[i]=defaultParameterValues[i];
    }
  }
}
