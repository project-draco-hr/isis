{
  final RootAdapterMapping mappedObject=getMappedInstance(objectMap,id);
  final ObjectAdapter adapter=mappedObject.getObject();
  if (adapter.isPersistent() && adapter.isGhost()) {
    getPersistenceSession().resolveImmediately(adapter);
  }
  try {
    mappedObject.checkVersion(adapter);
  }
 catch (  final ConcurrencyException e) {
    LOG.info("concurrency conflict: " + e.getMessage());
    messages.clear();
    messages.add(e.getMessage());
    messages.add("Reloaded object " + adapter.titleString());
    updateVersion(adapter);
  }
  return adapter;
}
