{
  NakedObjectManager objectManager=NakedObjects.getObjectManager();
  preInstallFixtures(objectManager);
  for (int i=0, last=fixtures.size(); i < last; i++) {
    try {
      Fixture fixture=(Fixture)fixtures.elementAt(i);
      fixture.setBuilder(this);
      LOG.info("installing fixture: " + fixture);
      installFixture(objectManager,fixture);
    }
 catch (    RuntimeException e) {
      LOG.error("installing fixtures failed; aborting ",e);
      try {
        objectManager.abortTransaction();
      }
 catch (      Exception e2) {
        LOG.error("failure during abort",e2);
      }
      throw e;
    }
  }
  postInstallFixtures(objectManager);
  objectManager.reset();
  fixtures.removeAllElements();
}
