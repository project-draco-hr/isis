{
  if (oid instanceof AggregatedOid) {
    AggregatedOid aoid=(AggregatedOid)oid;
    Oid parentOid=aoid.getParentOid();
    String fieldName=aoid.getId();
    int element=-1;
    return Long.toString(((SerialOid)parentOid).getSerialNo(),16) + "@" + fieldName+ (element == -1 ? "" : "@" + element);
  }
 else   if (oid instanceof SerialOid) {
    return Long.toString(((SerialOid)oid).getSerialNo(),16);
  }
 else {
    return IsisContext.getPersistenceSession().getOidGenerator().getOidStringifier().enString(oid);
  }
}
