{
  final ObjectSpecification spec=field.getSpecification();
  FieldMappingFactory factory=fieldMappings.get(spec);
  if (factory != null) {
    return factory.createFieldMapping(field);
  }
 else   if (spec.isEncodeable()) {
    factory=new JdbcGeneralValueMapper.Factory(JdbcConnector.TYPE_DEFAULT());
    addFieldMappingFactory(spec,factory);
    return factory.createFieldMapping(field);
  }
 else {
    factory=referenceFieldMappingfactory;
    addFieldMappingFactory(spec,factory);
    return factory.createFieldMapping(field);
  }
}
