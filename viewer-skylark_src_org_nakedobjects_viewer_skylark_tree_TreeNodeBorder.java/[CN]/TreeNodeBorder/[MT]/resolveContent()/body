{
  Naked parent=getParent().getContent().getNaked();
  if (!(parent instanceof NakedObject)) {
    parent=getParent().getParent().getContent().getNaked();
  }
  if (getContent() instanceof FieldContent) {
    NakedObjectField field=((FieldContent)getContent()).getField();
    NakedObjects.getObjectPersistor().resolveField((NakedObject)parent,field);
  }
 else   if (getContent() instanceof CollectionContent) {
    NakedObjects.getObjectPersistor().resolveImmediately((NakedObject)parent);
  }
 else   if (getContent() instanceof CollectionElement) {
    NakedObjects.getObjectPersistor().resolveImmediately((NakedObject)getContent().getNaked());
  }
}
