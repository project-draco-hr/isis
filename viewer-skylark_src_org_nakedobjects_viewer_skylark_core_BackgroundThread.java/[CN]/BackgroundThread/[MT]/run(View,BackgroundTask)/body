{
  Thread t=new Thread("background task"){
    public void run(){
      view.getState().setActive();
      repaint(view);
      try {
        task.execute();
      }
 catch (      Exception e) {
        ExceptionHelper.log(BackgroundThread.class,"Error while executing action",e);
        Naked error=NakedObjects.getObjectLoader().createAdapterForTransient(new Error("Error while executing action:",e));
        view.getWorkspace().addOpenViewFor(error,new Location(20,20));
      }
      view.getState().setInactive();
      view.markDamaged();
      repaint(view);
    }
  }
;
  t.start();
}
