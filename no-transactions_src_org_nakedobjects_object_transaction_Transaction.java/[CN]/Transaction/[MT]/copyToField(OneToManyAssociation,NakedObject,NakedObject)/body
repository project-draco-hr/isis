{
  NakedCollection collectionOriginal=(NakedCollection)association.get(source);
  NakedCollection collectionCopy=(NakedCollection)association.get(proxy);
  if (collectionCopy.getOid() == null) {
    collectionCopy.setOid(collectionOriginal.getOid());
  }
  Enumeration elements=collectionOriginal.elements();
  while (elements.hasMoreElements()) {
    NakedObject originalElement=(NakedObject)elements.nextElement();
    Object originalElementOid=originalElement.getOid();
    NakedObject elementCopy=(NakedObject)transactionalObjects.get(originalElementOid);
    if (elementCopy == null) {
      NakedObject proxyX=originalElement.getNakedClass().acquireInstance();
      proxyX.setOid(originalElementOid);
      loaded(proxyX);
      elementCopy=proxyX;
    }
    collectionCopy.added(elementCopy);
    log("  copy: " + elementCopy + " -> "+ association.getName());
  }
  if (!collectionCopy.isResolved()) {
    collectionCopy.setResolved();
  }
}
