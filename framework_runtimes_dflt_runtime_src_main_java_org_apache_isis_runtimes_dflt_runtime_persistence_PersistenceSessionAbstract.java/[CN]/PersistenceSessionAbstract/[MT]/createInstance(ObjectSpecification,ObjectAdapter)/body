{
  if (LOG.isDebugEnabled()) {
    LOG.debug("creating aggregated instance of " + objectSpec);
  }
  final Object pojo=objectSpec.createObject();
  final ObjectAdapter adapter=getAdapterManager().adapterFor(pojo,parentAdapter);
  objectSpec.initialize(adapter);
  if (adapter.getResolveState().isGhost()) {
    adapter.changeState(ResolveState.RESOLVING);
  }
  if (adapter.getResolveState().isValidToChangeTo(ResolveState.RESOLVED)) {
    adapter.changeState(ResolveState.RESOLVED);
  }
  return adapter;
}
