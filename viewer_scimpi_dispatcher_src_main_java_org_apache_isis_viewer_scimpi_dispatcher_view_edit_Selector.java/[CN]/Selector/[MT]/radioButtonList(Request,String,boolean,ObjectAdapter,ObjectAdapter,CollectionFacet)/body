{
  final RequestContext context=request.getContext();
  final Iterator<ObjectAdapter> iterator=facet.iterator(collection);
  final StringBuffer buffer=new StringBuffer();
  if (allowNotSet) {
    buffer.append("<input type=\"radio\" name=\"" + field + "\" value=\"null\"></input><br/>\n");
  }
  while (iterator.hasNext()) {
    final ObjectAdapter element=iterator.next();
    final String elementId=context.mapObject(element,Scope.INTERACTION);
    final String title=element.titleString();
    final String checked=element == selectedItem ? "checked=\"checked\"" : "";
    buffer.append("<input type=\"radio\" name=\"" + field + "\" value=\""+ elementId+ "\""+ checked+ ">"+ title+ "</input><br/>\n");
  }
  return buffer.toString();
}
