{
  final EntityModel entityModel=(EntityModel)getModel();
  final ObjectAdapter adapter=entityModel.getObject();
  final ObjectSpecification noSpec=adapter.getSpecification();
  final List<ObjectAssociation> associations=visibleAssociations(adapter,noSpec);
  final RepeatingView rv=new RepeatingView(ID_PROPERTIES_AND_OR_COLLECTIONS);
  final EvenOrOddCssClassAppenderFactory eo=new EvenOrOddCssClassAppenderFactory();
  add(rv);
  @SuppressWarnings("unused") Component component;
  for (  final ObjectAssociation association : associations) {
    if (association instanceof OneToOneAssociation) {
      final WebMarkupContainer container=new WebMarkupContainer(rv.newChildId());
      rv.add(container);
      container.add(eo.nextClass());
      addPropertyToForm(entityModel,association,container);
    }
 else {
      final WebMarkupContainer container=new WebMarkupContainer(rv.newChildId());
      rv.add(container);
      container.add(eo.nextClass());
      addCollectionToForm(entityModel,association,container);
    }
  }
  final WebMarkupContainer container=new WebMarkupContainer(rv.newChildId());
  rv.add(container);
  container.add(new Label(ID_PROPERTY_OR_COLLECTION,Model.of(" ")));
  container.add(eo.nextClass());
}
