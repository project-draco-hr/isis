{
  try {
    LOG.debug("processing " + processor.getName() + " "+ tag);
    appendDebug("\n" + tag.debug());
    if (tag.getType() == SwfTag.END) {
      throw new TagProcessingException(tag.errorAt() + " - end tag mistaken for a start tag");
    }
    processor.process(this);
  }
 catch (  TagProcessingException e) {
    throw e;
  }
catch (  RuntimeException e) {
    throw new TagProcessingException("Error while processing " + tag.getName().toLowerCase() + " element at "+ tag.errorAt(),e);
  }
}
