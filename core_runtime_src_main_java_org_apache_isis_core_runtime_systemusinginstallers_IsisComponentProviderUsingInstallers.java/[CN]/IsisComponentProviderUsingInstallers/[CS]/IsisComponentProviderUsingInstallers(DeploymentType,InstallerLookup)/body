{
  this.deploymentType=deploymentType;
  ensureThatArg(installerLookup,is(not(nullValue())));
  this.authenticationInstaller=installerLookup.authenticationManagerInstaller(installerLookup.getConfiguration().getString(SystemConstants.AUTHENTICATION_INSTALLER_KEY),deploymentType);
  this.authorizationInstaller=installerLookup.authorizationManagerInstaller(installerLookup.getConfiguration().getString(SystemConstants.AUTHORIZATION_INSTALLER_KEY),deploymentType);
  this.fixtureInstaller=installerLookup.fixturesInstaller(installerLookup.getConfiguration().getString(SystemConstants.FIXTURES_INSTALLER_KEY));
  persistenceMechanismInstaller=installerLookup.persistenceMechanismInstaller(installerLookup.getConfiguration().getString(SystemConstants.OBJECT_PERSISTOR_INSTALLER_KEY),deploymentType);
  reflectorInstaller=installerLookup.reflectorInstaller(installerLookup.getConfiguration().getString(SystemConstants.REFLECTOR_KEY));
  servicesInstaller=installerLookup.servicesInstaller(null);
  TransactionFacetDecoratorInstaller transactionFacetDecoratorInstaller=installerLookup.getInstaller(TransactionFacetDecoratorInstaller.class);
  ensureThatState(authenticationInstaller,is(not(nullValue())),"authenticationInstaller could not be looked up");
  ensureThatState(authorizationInstaller,is(not(nullValue())),"authorizationInstaller could not be looked up");
  ensureThatState(fixtureInstaller,is(not(nullValue())),"fixtureInstaller could not be looked up");
  ensureThatState(persistenceMechanismInstaller,is(not(nullValue())),"persistenceMechanismInstaller could not be looked up");
  ensureThatState(reflectorInstaller,is(not(nullValue())),"reflectorInstaller could not be looked up");
  ensureThatState(transactionFacetDecoratorInstaller,is(not(nullValue())),"transactionFacetDecoratorInstaller could not be looked up");
  ensureThatState(servicesInstaller,is(not(nullValue())),"servicesInstaller could not be looked up");
  reflectorInstaller.addFacetDecoratorInstaller(transactionFacetDecoratorInstaller);
  configuration=installerLookup.getConfiguration();
}
