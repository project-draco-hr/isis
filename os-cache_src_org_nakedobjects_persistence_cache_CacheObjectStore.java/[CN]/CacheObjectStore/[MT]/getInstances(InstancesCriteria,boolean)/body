{
  Vector instances=new Vector();
  Enumeration objects=instances(criteria.getSpecification()).instances();
  while (objects.hasMoreElements()) {
    NakedObject instance=(NakedObject)objects.nextElement();
    if (criteria.matches(instance)) {
      instances.addElement(instance);
    }
  }
  return toArray(instances);
}
