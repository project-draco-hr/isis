{
  NakedObject object=instance;
  NakedObjectSpecification nc=object.getSpecification();
  FieldSpecification[] fields=nc.getFields();
  for (int f=0; f < fields.length; f++) {
    FieldSpecification fld=fields[f];
    if (fld.isPart() || fld.isDerived()) {
      continue;
    }
    if (fld.isValue()) {
      NakedValue reqd=(NakedValue)fld.getPojo(pattern);
      NakedValue search=(NakedValue)fld.getPojo(object);
      if (reqd.isEmpty()) {
        continue;
      }
      String r=reqd.titleString().toLowerCase();
      String s=search.titleString().toLowerCase();
      if (s.indexOf(r) == -1) {
        return false;
      }
    }
 else {
      NakedObject reqd=(NakedObject)fld.getPojo(pattern);
      NakedObject search=(NakedObject)fld.getPojo(object);
      if (reqd == null) {
        continue;
      }
      if (search == null) {
        return false;
      }
      if (!reqd.getOid().equals(search.getOid())) {
        return false;
      }
    }
  }
  return true;
}
