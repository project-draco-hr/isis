{
  NakedObjectSpecification requiredType=pattern.getSpecification();
  Vector instances=new Vector();
  Enumeration objects=instances(requiredType).instances();
  while (objects.hasMoreElements()) {
    NakedObject data=(NakedObject)objects.nextElement();
    if (matchesPattern(pattern,data)) {
      instances.addElement(data);
    }
  }
  return toArray(instances);
}
