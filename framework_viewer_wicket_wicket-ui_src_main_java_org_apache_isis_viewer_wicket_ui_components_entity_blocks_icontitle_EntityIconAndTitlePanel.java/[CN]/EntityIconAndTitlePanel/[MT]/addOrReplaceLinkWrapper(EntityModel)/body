{
  final ObjectAdapter adapter=entityModel.getObject();
  final PageParameters pageParameters=EntityModel.createPageParameters(adapter);
  final Class<? extends Page> pageClass=getPageClassRegistry().getPageClass(PageType.ENTITY);
  final AbstractLink link=newLink(ID_ENTITY_LINK,pageClass,pageParameters);
  label=new Label(ID_ENTITY_TITLE,determineTitle());
  link.add(label);
  final Class<?> correspondingClass=entityModel.getObject().getSpecification().getCorrespondingClass();
  final String specName=correspondingClass.getSimpleName();
  final ResourceReference imageResource=new PackageResourceReference(correspondingClass,specName + ".png");
  image=new Image(ID_ENTITY_ICON,imageResource);
  link.addOrReplace(image);
  final WebMarkupContainer entityLinkWrapper=new WebMarkupContainer(ID_ENTITY_LINK_WRAPPER);
  entityLinkWrapper.addOrReplace(link);
  return entityLinkWrapper;
}
