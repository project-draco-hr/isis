{
  actions=inclusionList.includedActions(actions);
  for (int j=0; j < actions.size(); j++) {
    final ObjectAction action=actions.get(j);
    if (action instanceof ObjectActionSet) {
      request.appendHtml("<div class=\"actions\">");
      writeMethods(request,adapter,action.getActions(),objectId,showForms,inclusionList,view,cancelTo);
      request.appendHtml("</div>");
    }
 else     if (action.isContributed()) {
      if (action.getParameterCount() == 1 && adapter.getSpecification().isOfType(action.getParameters().get(0).getSpecification())) {
        if (objectId != null) {
          final ObjectAdapter target=request.getContext().getMappedObject(objectId);
          final ObjectAdapter realTarget=action.realTarget(target);
          final String realTargetId=request.getContext().mapObject(realTarget,Scope.INTERACTION);
          writeMethod(request,adapter,new String[]{objectId},action,realTargetId,showForms,view,cancelTo);
        }
 else {
          request.appendHtml("<div class=\"action\">");
          request.appendAsHtmlEncoded(action.getName());
          request.appendHtml("???</div>");
        }
      }
 else       if (!adapter.getSpecification().isService()) {
        writeMethod(request,adapter,new String[0],action,objectId,showForms,view,cancelTo);
      }
    }
 else {
      writeMethod(request,adapter,new String[0],action,objectId,showForms,view,cancelTo);
    }
  }
}
