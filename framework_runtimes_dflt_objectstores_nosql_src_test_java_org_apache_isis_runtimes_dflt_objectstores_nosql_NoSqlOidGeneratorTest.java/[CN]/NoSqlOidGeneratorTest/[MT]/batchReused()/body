{
  context.checking(new Expectations(){
{
      one(db).nextSerialNumberBatch("_id",4);
      will(returnValue(1L));
    }
  }
);
  oidGenerator.asPersistent(oid);
  oid=(RootOidDefault)oidGenerator.createTransientOid(new ExamplePojo());
  oidGenerator.asPersistent(oid);
  assertFalse(oid.isTransient());
  assertEquals(2,oid.getIdentifier());
  context.assertIsSatisfied();
}
