{
  Assert.assertNotNull(session);
  query.setSession(session);
switch (getResultType()) {
case LIST:
{
      return query.list();
    }
case UNIQUE_RESULT:
{
    final Object result=query.uniqueResult();
    return result == null ? Collections.EMPTY_LIST : Arrays.asList(new Object[]{result});
  }
default :
throw new RuntimeException("Result type out of range");
}
}
