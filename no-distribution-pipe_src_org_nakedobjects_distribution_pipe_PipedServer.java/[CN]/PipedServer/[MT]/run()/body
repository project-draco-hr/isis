{
  while (true) {
    Request request=communication.getRequest();
    LOG.debug("client request: " + request);
    UpdatePackager updates=updateNotifier.createUpdatePackager();
    try {
      request.execute(facade);
      LOG.debug("server updates: " + updates.updateList());
    }
 catch (    Exception e) {
      ExceptionHelper.log(PipedServer.class,"Failure during request",e);
    }
    Response response=new Response(request);
    LOG.debug("server response: " + response);
    response.setUpdates(updates.getUpdates());
    communication.setResponse(response);
  }
}
