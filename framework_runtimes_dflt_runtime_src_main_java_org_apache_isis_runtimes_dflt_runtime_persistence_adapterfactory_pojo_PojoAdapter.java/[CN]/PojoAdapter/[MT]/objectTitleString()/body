{
  final ResolveState resolveState=getResolveState();
  if (resolveState.isNew()) {
    return "";
  }
 else {
    if (getObject() instanceof String) {
      return (String)getObject();
    }
    final ObjectSpecification specification=getSpecification();
    final Localization localization=getLocalization();
    String title=specification.getTitle(this,localization);
    if (title == null) {
      if (resolveState.isGhost()) {
        if (LOG.isInfoEnabled()) {
          LOG.info("attempting to use unresolved object; resolving it immediately: oid=" + this.getOid());
        }
        getObjectPersistor().resolveImmediately(this);
      }
    }
    if (title == null) {
      title=getDefaultTitle();
    }
    return title;
  }
}
