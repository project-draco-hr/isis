{
  Vector instances=loadInstances(pattern.getClassName());
  if (instances == null) {
    return 0;
  }
  int instanceCount=0;
  for (int i=0; i < instances.size(); i++) {
    SerialOid oid=(SerialOid)instances.elementAt(i);
    ObjectData instanceData=(ObjectData)loadData(oid);
    if (instanceData != null && matchesPattern(pattern,instanceData)) {
      instanceCount++;
    }
  }
  return instanceCount;
}
