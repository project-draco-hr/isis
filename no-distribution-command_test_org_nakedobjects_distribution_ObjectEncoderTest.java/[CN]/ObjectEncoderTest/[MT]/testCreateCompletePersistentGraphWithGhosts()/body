{
  rootObject.setupOid(new DummyOid(9));
  field1.setupOid(new DummyOid(11));
  field1.setupResolveState(ResolveState.GHOST);
  element1.setupOid(new DummyOid(13));
  element1.setupResolveState(ResolveState.GHOST);
  element2.setupOid(new DummyOid(15));
  element2.setupResolveState(ResolveState.GHOST);
  ObjectData rootData=(ObjectData)encoder.createCompletePersistentGraph(rootObject);
  assertObjectData(rootObject,NOT_RESOLVED,rootData);
  assertHasFields(4,rootData);
  assertReferenceData(field1,rootData.getFieldContent()[0]);
  assertValueData(field2,rootData.getFieldContent()[1]);
  assertNullData(rootData.getFieldContent()[3]);
  CollectionData collectionData=(CollectionData)rootData.getFieldContent()[2];
  assertReferenceData(element1,collectionData.getElements()[0]);
  assertReferenceData(element2,collectionData.getElements()[1]);
}
