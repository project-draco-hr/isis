{
  DummyNakedObject object=new DummyNakedObject();
  object.setupResolveState(ResolveState.PART_RESOLVED);
  DummyNakedObjectSpecification type=new DummyNakedObjectSpecification();
  object.setupSpecification(type);
  ServerActionResultData data=encoder.createServerActionResult(object,null,null,null,new String[0],new String[0]);
  assertObjectData(object,NOT_RESOLVED,data.getReturn());
  assertTrue(data.getReturn() instanceof ObjectData);
  assertEquals(type.getFullName(),data.getReturn().getType());
}
