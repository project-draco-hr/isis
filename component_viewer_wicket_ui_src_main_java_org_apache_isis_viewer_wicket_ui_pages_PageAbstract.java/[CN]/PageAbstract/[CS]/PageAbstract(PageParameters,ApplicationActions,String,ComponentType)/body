{
  try {
    addApplicationActions(applicationActions);
    this.childComponentIds=Collections.unmodifiableList(Arrays.asList(childComponentIds));
    this.pageParameters=pageParameters;
    addHomePageLinkAndApplicationName();
    addUserName();
    addLogoutLink();
    addAboutLink();
    addCopyLink();
    add(new Label(ID_PAGE_TITLE,title != null ? title : applicationName));
    add(new HeaderResponseContainer("footerJS","footerJS"));
  }
 catch (  RuntimeException ex) {
    LOG.error("Failed to construct page, going back to sign in page",ex);
    final List<ExceptionRecognizer> exceptionRecognizers=getServicesInjector().lookupServices(ExceptionRecognizer.class);
    final String recognizedMessageIfAny=new ExceptionRecognizerComposite(exceptionRecognizers).recognize(ex);
    final ExceptionModel exceptionModel=ExceptionModel.create(recognizedMessageIfAny,ex);
    getSession().invalidate();
    getSession().clear();
    EXCEPTION.set(exceptionModel);
    throw new RestartResponseAtInterceptPageException(WicketSignInPage.class);
  }
}
