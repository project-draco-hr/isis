{
  if (associatedObject == null || isEmpty) {
    data.saveValue(associationId,isEmpty,null);
  }
 else {
    final EncodableFacet facet=associatedObject.getSpecification().getFacet(EncodableFacet.class);
    final String encodedValue=facet.toEncodedString(associatedObject);
    data.saveValue(associationId,isEmpty,encodedValue);
  }
}
