{
  final String typeList=entityTypeList(objectSpecs);
  props.put("openjpa.MetaDataFactory","org.apache.openjpa.persistence.jdbc.PersistenceMappingFactory(types=" + typeList + ")");
  entityManagerFactory=javax.persistence.Persistence.createEntityManagerFactory(null,props);
  namedQueryByName=Collections.unmodifiableMap(catalogNamedQueries(objectSpecs));
  entityManagerFactorySpi=(OpenJPAEntityManagerFactorySPI)entityManagerFactory;
  lifecycleListener=new IsisLifecycleListener();
  entityManagerFactorySpi.addLifecycleListener(lifecycleListener,(Class[])null);
}
