{
  Size requiredSize=wrappedView.getRequiredSize();
  int availableHeight2=size.getHeight() - top;
  int contentHeight2=requiredSize.getHeight();
  right=availableHeight2 >= contentHeight2 ? 0 : SCROLLBAR_WIDTH;
  int availableWidth2=size.getWidth() - left;
  int contentWidth2=requiredSize.getWidth();
  bottom=availableWidth2 >= contentWidth2 ? 0 : SCROLLBAR_WIDTH;
  this.size=new Size(size);
  Bounds boundsOfVisibleArea=contentArea();
  Size contentSize=requiredSize;
  int availableHeight=boundsOfVisibleArea.getHeight();
  int contentHeight=Math.max(availableHeight,contentSize.getHeight());
  verticalVisibleAmount=availableHeight * availableHeight / contentHeight;
  verticalMaximum=availableHeight - verticalVisibleAmount;
  int availableWidth=boundsOfVisibleArea.getWidth();
  int contentWidth=Math.max(availableWidth,contentSize.getWidth());
  horizontalVisibleAmount=availableWidth * availableWidth / contentWidth;
  horizontalMaximum=availableWidth - horizontalVisibleAmount;
  if (leftHeader != null) {
    leftHeader.setSize(new Size(left,contentHeight));
  }
  if (topHeader != null) {
    topHeader.setSize(new Size(contentWidth,top));
  }
  wrappedView.setSize(requiredSize);
  verticalScrollPosition=0;
  horizontalScrollPosition=0;
}
