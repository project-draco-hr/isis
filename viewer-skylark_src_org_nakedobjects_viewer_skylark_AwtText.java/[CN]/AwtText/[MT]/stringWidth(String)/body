{
  int stringWidth=metrics.stringWidth(text);
  if (stringWidth > text.length() * maxCharWidth) {
    LOG.debug("spurious length of string; calculating manually: " + stringWidth + " for "+ this);
    stringWidth=0;
    for (int i=0; i < text.length(); i++) {
      stringWidth+=charWidth(text.charAt(i));
      LOG.debug(i + " " + stringWidth);
    }
  }
  return stringWidth;
}
