{
  if (t.getDueBy() == null) {
    return DateRange.Unknown;
  }
  final DateTime dueBy=t.getDueBy().toDateTimeAtStartOfDay();
  final DateTime today=clockService.now().toDateTimeAtStartOfDay();
  if (dueBy.isBefore(today)) {
    return DateRange.OverDue;
  }
  if (dueBy.isBefore(today.plusDays(1))) {
    return DateRange.Today;
  }
  if (dueBy.isBefore(today.plusDays(2))) {
    return DateRange.Tomorrow;
  }
  if (dueBy.isBefore(today.plusDays(7))) {
    return DateRange.ThisWeek;
  }
  return DateRange.Later;
}
