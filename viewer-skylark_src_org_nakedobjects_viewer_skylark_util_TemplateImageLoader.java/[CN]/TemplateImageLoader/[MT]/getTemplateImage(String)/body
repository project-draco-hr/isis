{
  final int extensionAt=path.lastIndexOf('.');
  final String root=extensionAt == -1 ? path : path.substring(0,extensionAt);
  if (loadedImages.contains(root)) {
    return (TemplateImage)loadedImages.get(root);
  }
 else   if (missingImages.contains(root)) {
    return null;
  }
 else {
    LOG.debug("searching for image " + path);
    Image image=null;
    if (extensionAt >= 0) {
      image=load(path);
      return TemplateImage.create(image);
    }
 else {
      for (int i=0; i < EXTENSIONS.length; i++) {
        image=load(root + "." + EXTENSIONS[i]);
        if (image != null) {
          return TemplateImage.create(image);
        }
      }
    }
    LOG.debug("failed to find image for " + path);
    missingImages.addElement(root);
    return null;
  }
}
