{
  Oid roleOid=new MockOid(3);
  Oid membersOid=new MockOid(5);
  String personName="Fred";
  person.getName().setValue(personName);
  Team team=new Team();
  team.setupOid(roleOid);
  InternalCollection members=team.getMembers();
  members.setOid(membersOid);
  team.getMembers().add(person);
  Team transactionTeam=(Team)t.getObject(roleOid,team);
  assertTrue(transactionTeam.isResolved());
  InternalCollection transactionMembers=transactionTeam.getMembers();
  assertEquals(membersOid,transactionMembers.getOid());
  assertFalse(members == transactionMembers);
  t.resolve(transactionMembers,team.getMembers());
  assertTrue(transactionMembers.isResolved());
  assertEquals(1,transactionMembers.size());
  Person transactionPerson=(Person)transactionMembers.elementAt(0);
  assertEquals(person,transactionPerson);
  assertEquals("same oid",person.getOid(),transactionPerson.getOid());
  assertFalse("but different instance",person == transactionPerson);
  t.resolve(transactionPerson,person);
  assertEquals("Fred",transactionPerson.getName().stringValue());
}
