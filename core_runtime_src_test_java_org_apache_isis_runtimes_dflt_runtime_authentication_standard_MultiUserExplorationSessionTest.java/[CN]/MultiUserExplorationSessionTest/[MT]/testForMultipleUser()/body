{
  mockery.checking(new Expectations(){
{
      allowing(mockConfiguration).getString(ExplorationAuthenticatorConstants.USERS);
      will(returnValue("fred, sven:admin|sales|marketing, bob:sales, dick"));
    }
  }
);
  authenticator=new ExplorationAuthenticator(mockConfiguration);
  final AuthenticationSession authSession=authenticator.authenticate(new AuthenticationRequestExploration(),"");
  assertThat(authSession,is(instanceOf(MultiUserExplorationSession.class)));
  assertThat(authSession.getUserName(),is(equalTo("fred")));
}
