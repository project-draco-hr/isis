{
  final URL url=Resources.getResourceURL(path);
  if (url == null) {
    LOG.debug("not found image in resources: " + path);
    return null;
  }
  Image image=Toolkit.getDefaultToolkit().getImage(url);
  if (image != null) {
    mt.addImage(image,0);
    try {
      mt.waitForAll();
    }
 catch (    final Exception e) {
      e.printStackTrace();
    }
    if (mt.isErrorAny()) {
      LOG.error("found image but failed to load it from resources: " + url + " "+ mt.getErrorsAny()[0]);
      mt.removeImage(image);
      image=null;
    }
 else {
      mt.removeImage(image);
      LOG.info("image loaded from resources: " + url);
    }
  }
  if (image == null) {
    throw new RuntimeException("null image");
  }
 else {
    if (image.getWidth(null) == -1) {
      throw new RuntimeException(image.toString());
    }
  }
  return image;
}
