{
  try {
    final ByteArrayOutputStream baos=new ByteArrayOutputStream();
    final Serializer serializer=new Serializer(baos,Constants.URL_ENCODING_CHAR_SET);
    serializer.setPreserveBaseURI(true);
    serializer.write(getDocument());
    serializer.flush();
    return new String(baos.toByteArray(),Constants.URL_ENCODING_CHAR_SET);
  }
 catch (  final IOException e) {
    throw new WebApplicationException(e);
  }
}
