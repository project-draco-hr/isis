{
  if (result == null) {
    return createNullData("");
  }
 else   if (result instanceof NakedCollection) {
    return createCollectionData((NakedCollection)result,true,persistentGraphDepth,new Hashtable());
  }
 else   if (result instanceof NakedObject) {
    return createCompletePersistentGraph((NakedObject)result);
  }
 else {
    throw new NakedObjectRuntimeException();
  }
}
