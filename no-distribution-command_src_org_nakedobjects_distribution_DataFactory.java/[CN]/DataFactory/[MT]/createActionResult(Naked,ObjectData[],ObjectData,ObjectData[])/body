{
  Data result;
  if (returns == null) {
    result=createNullData("");
  }
 else   if (returns instanceof NakedCollection) {
    result=createCollectionData((NakedCollection)returns,true,persistentGraphDepth,new Hashtable());
  }
 else   if (returns instanceof NakedObject) {
    result=createCompletePersistentGraph((NakedObject)returns);
  }
 else {
    throw new NakedObjectRuntimeException();
  }
  return createResult(result,updatesData,persistedTarget,persistedParameters);
}
