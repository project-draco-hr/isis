{
  ActionSpecification action;
  if (target instanceof NakedClassSpec) {
    NakedObjectSpecification forNakedClass=((NakedClassSpec)target).forNakedClass();
    action=forNakedClass.getClassAction(ActionSpecification.USER,null,new NakedObjectSpecification[]{source.getSpecification()});
  }
 else {
    action=target.getSpecification().getObjectAction(ActionSpecification.USER,null,new NakedObjectSpecification[]{source.getSpecification()});
  }
  return action;
}
