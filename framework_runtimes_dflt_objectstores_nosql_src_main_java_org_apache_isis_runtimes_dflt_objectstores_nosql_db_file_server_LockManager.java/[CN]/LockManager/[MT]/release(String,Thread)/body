{
  final Lock lock=getLock(id);
  lock.remove(transaction);
  if (lock.isEmpty()) {
    locks.remove(id);
  }
}
