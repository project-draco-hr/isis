{
  NakedObjectField[] fields=new NakedObjectField[fieldPeers.length];
  for (int i=0; i < fieldPeers.length; i++) {
    Object object=fieldPeers[i];
    if (object instanceof OneToOnePeer) {
      fields[i]=reflectionFactory.createField((OneToOnePeer)object);
    }
 else     if (object instanceof OneToManyPeer) {
      fields[i]=reflectionFactory.createField((OneToManyPeer)object);
    }
 else {
      throw new NakedObjectRuntimeException();
    }
  }
  return fields;
}
