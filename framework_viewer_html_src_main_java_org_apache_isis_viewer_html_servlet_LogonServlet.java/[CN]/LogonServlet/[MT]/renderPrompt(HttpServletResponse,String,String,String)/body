{
  response.setContentType("text/html");
  final HtmlComponentFactory factory=new HtmlComponentFactory(getPathBuilder());
  boolean registerLink=getAuthenticationManager().supportsRegistration(RegistrationDetailsPassword.class);
  final LogonFormPage page=factory.createLogonPage(user,password,registerLink,error);
  page.write(response.getWriter());
}
