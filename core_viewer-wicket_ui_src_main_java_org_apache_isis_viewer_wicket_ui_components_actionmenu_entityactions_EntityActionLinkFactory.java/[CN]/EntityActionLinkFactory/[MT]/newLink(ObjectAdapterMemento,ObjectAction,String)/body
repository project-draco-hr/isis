{
  final ObjectAdapter objectAdapter=adapterMemento.getObjectAdapter(ConcurrencyChecking.NO_CHECK);
  final Boolean persistent=objectAdapter.representsPersistent();
  if (!persistent) {
    throw new IllegalArgumentException("Object '" + objectAdapter.titleString(null) + "' is not persistent.");
  }
  final AuthenticationSession session=getAuthenticationSession();
  final Consent visibility=action.isVisible(session,objectAdapter,Where.OBJECT_FORMS);
  if (visibility.isVetoed()) {
    return null;
  }
  final AbstractLink link=newLink(linkId,objectAdapter,action);
  final Consent usability=action.isUsable(session,objectAdapter,Where.OBJECT_FORMS);
  final String disabledReasonIfAny=usability.getReason();
  if (disabledReasonIfAny != null) {
    link.setEnabled(false);
  }
  return newLinkAndLabel(objectAdapter,action,link,disabledReasonIfAny);
}
