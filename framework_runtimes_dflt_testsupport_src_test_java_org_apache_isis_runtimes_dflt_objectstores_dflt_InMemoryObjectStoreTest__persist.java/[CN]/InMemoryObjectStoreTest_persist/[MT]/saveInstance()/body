{
  persistToObjectStore(adapter2);
  system.resetMaps();
  testPojo2.setPropertyUsedForTitle("changed");
  final PersistenceCommand command=store.createSaveObjectCommand(adapter2);
  assertEquals(adapter2,command.onObject());
  store.execute(Collections.<PersistenceCommand>singletonList(command));
  system.resetMaps();
  ObjectAdapter[] retrievedInstance=store.getInstances(new PersistenceQueryFindByTitle(specification,"changed"));
  assertEquals(1,retrievedInstance.length);
  final ObjectAdapter retrievedAdapter=retrievedInstance[0];
  assertNotSame(adapter2,retrievedAdapter);
  assertEquals(((TestPojo)adapter2.getObject()).getPropertyUsedForTitle(),((TestPojo)retrievedAdapter.getObject()).getPropertyUsedForTitle());
  assertEquals(adapter2.getOid(),retrievedAdapter.getOid());
}
