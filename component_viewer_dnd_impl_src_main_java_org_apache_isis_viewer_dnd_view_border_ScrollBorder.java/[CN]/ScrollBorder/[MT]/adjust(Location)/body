{
  final Bounds contentArea=viewportArea();
  final Offset offset=offset();
  final int yOffset=offset.getDeltaY();
  final int xOffset=offset.getDeltaX();
  if (contentArea.contains(location)) {
    location.subtract(left,top);
    location.add(xOffset,yOffset);
    return CENTER;
  }
 else {
    final int x=location.getX();
    final int y=location.getY();
    if (x > contentArea.getX2() && y >= contentArea.getY() && y <= contentArea.getY2()) {
      location.subtract(0,contentArea.getY());
      return EAST;
    }
 else     if (y > contentArea.getY2() && x >= contentArea.getX() && x <= contentArea.getX2()) {
      location.subtract(contentArea.getX(),0);
      return SOUTH;
    }
 else     if (y < contentArea.getY() && x >= contentArea.getX() && x <= contentArea.getX2()) {
      location.subtract(left,0);
      location.add(xOffset,0);
      return NORTH;
    }
 else     if (x < contentArea.getX() && y >= contentArea.getY() && y <= contentArea.getY2()) {
      location.subtract(0,top);
      location.add(0,yOffset);
      return WEST;
    }
 else {
      location.setX(-1);
      location.setY(-1);
      return CORNER;
    }
  }
}
