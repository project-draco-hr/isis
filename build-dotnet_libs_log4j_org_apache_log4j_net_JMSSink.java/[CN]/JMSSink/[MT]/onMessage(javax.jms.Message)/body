{
  LoggingEvent event;
  Logger remoteLogger;
  try {
    if (message instanceof ObjectMessage) {
      ObjectMessage objectMessage=(ObjectMessage)message;
      event=(LoggingEvent)objectMessage.getObject();
      remoteLogger=Logger.getLogger(event.getLoggerName());
      remoteLogger.callAppenders(event);
    }
 else {
      logger.warn("Received message is of type " + message.getJMSType() + ", was expecting ObjectMessage.");
    }
  }
 catch (  JMSException jmse) {
    logger.error("Exception thrown while processing incoming message.",jmse);
  }
}
