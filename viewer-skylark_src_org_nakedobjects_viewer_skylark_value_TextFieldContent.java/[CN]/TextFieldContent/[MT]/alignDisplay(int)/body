{
  int noContentLines=getNoLinesOfContent();
  int lastLine=noContentLines - 1;
  if (noContentLines < noDisplayLines) {
    displayFromLine=0;
    displayToLine=lastLine;
  }
 else {
    if (line > displayToLine) {
      displayToLine=line + 3;
      displayToLine=Math.min(displayToLine,lastLine);
      displayFromLine=displayToLine - noDisplayLines;
      displayFromLine=Math.max(displayFromLine,0);
    }
    noDisplayLines=Math.max(noDisplayLines,displayToLine - displayFromLine + 1);
    if (line < displayFromLine) {
      displayFromLine=line;
      displayToLine=(displayFromLine + noDisplayLines) - 1;
      if (displayToLine >= noContentLines) {
        displayToLine=lastLine;
        displayFromLine=Math.max(0,displayToLine - noDisplayLines);
      }
    }
  }
  LOG.debug("display line " + line + " "+ displayFromLine+ "~"+ displayToLine);
}
