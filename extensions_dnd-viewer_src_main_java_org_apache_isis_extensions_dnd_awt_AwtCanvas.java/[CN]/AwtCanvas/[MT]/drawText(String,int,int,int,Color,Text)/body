{
  useColor(color);
  useFont(style);
  int top=y;
  final StringTokenizer lines=new StringTokenizer(text,"\n\r");
  while (lines.hasMoreTokens()) {
    final String line=lines.nextToken();
    final StringTokenizer words=new StringTokenizer(line," ");
    final StringBuffer l=new StringBuffer();
    int width=0;
    while (words.hasMoreTokens()) {
      final String nextWord=words.nextToken();
      final int wordWidth=style.stringWidth(nextWord);
      width+=wordWidth;
      if (width >= maxWidth) {
        graphics.drawString(l.toString(),x + (line.startsWith("\t") ? 20 : 00),top);
        top+=style.getLineHeight();
        l.setLength(0);
        width=wordWidth;
      }
      l.append(nextWord);
      l.append(" ");
      width+=style.stringWidth(" ");
    }
    graphics.drawString(l.toString(),x + (line.startsWith("\t") ? 20 : 00),top);
    top+=style.getLineHeight();
  }
}
