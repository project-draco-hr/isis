{
  File file=new File(DIRECTORY + filename);
  if (!file.exists()) {
    LOG.error("could not find image file: " + file.getAbsolutePath());
    return null;
  }
 else {
    Toolkit t=Toolkit.getDefaultToolkit();
    Image image=t.getImage(file.getAbsolutePath());
    MediaTracker mt=new MediaTracker(new Canvas());
    if (image != null) {
      mt.addImage(image,0);
      try {
        mt.waitForAll();
      }
 catch (      Exception e) {
        e.printStackTrace();
      }
      if (mt.isErrorAny()) {
        LOG.error("failed to load image from file: " + file.getAbsolutePath());
        mt.removeImage(image);
        image=null;
      }
 else {
        mt.removeImage(image);
        LOG.info("image loaded from file: " + file);
      }
    }
    return image;
  }
}
