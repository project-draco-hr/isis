{
  final ObjectAdapter fieldReference=field.get(object);
  if (fieldReference != null) {
    final String classSection="class=\"" + (className == null ? "field" : className) + "\"";
    request.appendHtml("<span " + classSection + ">");
    if (field.isOneToOneAssociation()) {
      try {
        IsisContext.getPersistenceSession().resolveImmediately(fieldReference);
      }
 catch (      final ObjectNotFoundException e) {
        request.appendHtml(e.getMessage() + "</span>");
      }
    }
    if (!field.getSpecification().containsFacet(ParseableFacet.class) && showIcon) {
      request.appendHtml("<img class=\"small-icon\" src=\"" + request.getContext().imagePath(fieldReference) + "\" alt=\""+ field.getSpecification().getShortIdentifier()+ "\"/>");
    }
    if (linkedField != null) {
      final String id=request.getContext().mapObject(fieldReference,linkedField.getScope(),Scope.INTERACTION);
      request.appendHtml("<a href=\"" + linkedField.getForwardView() + "?"+ linkedField.getVariable()+ "="+ id+ request.getContext().encodedInteractionParameters()+ "\">");
    }
    String value=fieldReference == null ? "" : fieldReference.titleString();
    if (truncateTo > 0 && value.length() > truncateTo) {
      value=value.substring(0,truncateTo) + "...";
    }
    final ObjectSpecification spec=field.getSpecification();
    final BooleanValueFacet facet=spec.getFacet(BooleanValueFacet.class);
    if (facet != null) {
      final boolean flag=facet.isSet(fieldReference);
      final String valueSegment=flag ? " checked=\"checked\"" : "";
      final String disabled=" disabled=\"disabled\"";
      request.appendHtml("<input type=\"checkbox\"" + valueSegment + disabled+ " />");
    }
 else {
      request.appendAsHtmlEncoded(value);
    }
    if (linkedField != null) {
      request.appendHtml("</a>");
    }
    request.appendHtml("</span>");
  }
}
