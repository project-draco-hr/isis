{
  ObjectAdapter fieldReference=field.get(object);
  if (fieldReference != null) {
    String classSection="class=\"" + (className == null ? "field" : className) + "\"";
    request.appendHtml("<span " + classSection + ">");
    if (field.isOneToOneAssociation()) {
      try {
        IsisContext.getPersistenceSession().resolveImmediately((ObjectAdapter)fieldReference);
      }
 catch (      ObjectNotFoundException e) {
        request.appendHtml(e.getMessage() + "</span>");
      }
    }
    if (!field.getSpecification().containsFacet(ParseableFacet.class) && showIcon) {
      request.appendHtml("<img class=\"small-icon\" src=\"" + request.getContext().imagePath(fieldReference) + "\" alt=\""+ field.getSpecification().getShortIdentifier()+ "\"/>");
    }
    if (linkedField != null) {
      String id=request.getContext().mapObject((ObjectAdapter)fieldReference,linkedField.getScope(),Scope.INTERACTION);
      request.appendHtml("<a href=\"" + linkedField.getForwardView() + "?"+ linkedField.getVariable()+ "="+ id+ request.getContext().encodedInteractionParameters()+ "\">");
    }
    String value=fieldReference == null ? "" : fieldReference.titleString();
    if (truncateTo > 0 && value.length() > truncateTo) {
      value=value.substring(0,truncateTo) + "...";
    }
    ObjectSpecification spec=field.getSpecification();
    BooleanValueFacet facet=(BooleanValueFacet)spec.getFacet(BooleanValueFacet.class);
    if (facet != null) {
      boolean flag=facet.isSet(fieldReference);
      String valueSegment=flag ? " checked=\"checked\"" : "";
      String disabled=" disabled=\"disabled\"";
      value="<input type=\"checkbox\"" + valueSegment + disabled+ " />";
    }
    request.appendHtml(value);
    if (linkedField != null) {
      request.appendHtml("</a>");
    }
    request.appendHtml("</span>");
  }
}
