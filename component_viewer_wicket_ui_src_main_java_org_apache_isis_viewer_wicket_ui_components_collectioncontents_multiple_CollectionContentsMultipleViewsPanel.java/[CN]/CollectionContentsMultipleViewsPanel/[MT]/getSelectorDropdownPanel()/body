{
  Component component=this;
  while (component != null) {
    if (component instanceof CollectionSelectorProvider) {
      final CollectionSelectorPanel selectorDropdownPanelIfAny=((CollectionSelectorProvider)component).getSelectorDropdownPanel();
      return selectorDropdownPanelIfAny;
    }
    component=component.getParent();
  }
  throw new IllegalStateException("Could not locate parent that implements HasSelectorDropdownPanel");
}
