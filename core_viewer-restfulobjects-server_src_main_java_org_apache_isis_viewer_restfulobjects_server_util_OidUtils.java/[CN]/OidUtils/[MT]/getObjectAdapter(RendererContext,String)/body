{
  RootOidDefault rootOid=RootOidDefault.deString(oidStrUnencoded,getOidMarshaller());
  final ObjectSpecId specId=rootOid.getObjectSpecId();
  final ObjectSpecification spec=IsisContext.getSpecificationLoader().lookupBySpecId(specId);
  if (spec == null) {
    return null;
  }
  final PersistenceSession persistenceSession=resourceContext.getPersistenceSession();
  if (spec.containsFacet(ViewModelFacet.class)) {
    if (!rootOid.isViewModel()) {
      rootOid=new RootOidDefault(rootOid.getObjectSpecId(),rootOid.getIdentifier(),Oid.State.VIEWMODEL);
    }
    try {
      return persistenceSession.getAdapterManager().adapterFor(rootOid);
    }
 catch (    final ObjectNotFoundException ex) {
      return null;
    }
catch (    final PojoRecreationException ex) {
      return null;
    }
  }
 else {
    try {
      ObjectAdapter objectAdapter=persistenceSession.loadObject(rootOid);
      return objectAdapter.isTransient() ? null : objectAdapter;
    }
 catch (    final ObjectNotFoundException ex) {
      return null;
    }
  }
}
