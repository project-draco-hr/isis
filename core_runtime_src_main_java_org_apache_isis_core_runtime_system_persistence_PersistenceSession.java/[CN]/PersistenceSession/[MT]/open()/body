{
  ensureNotOpened();
  if (LOG.isDebugEnabled()) {
    LOG.debug("opening " + this);
  }
  servicesInjector.injectInto(objectFactory);
  servicesInjector.injectInto(adapterManager);
  adapterManager.open();
  getAdapterManager().injectInto(objectStore);
  getSpecificationLoader().injectInto(objectStore);
  objectStore.objectStoreOpen();
  persistenceManager=objectStore.getPersistenceManager();
  persistenceQueryProcessorByClass.put(PersistenceQueryFindAllInstances.class,new PersistenceQueryFindAllInstancesProcessor(persistenceManager,frameworkSynchronizer));
  persistenceQueryProcessorByClass.put(PersistenceQueryFindUsingApplibQueryDefault.class,new PersistenceQueryFindUsingApplibQueryProcessor(persistenceManager,frameworkSynchronizer));
  initServices();
  setState(State.OPEN);
}
