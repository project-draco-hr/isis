{
  getTransactionManager().executeWithinTransaction(new TransactionalClosureAbstract(){
    @Override public void execute(){
      persistAlgorithm.makePersistent(adapter,PersistenceSession.this);
      PersistenceSession.this.persistentByTransient.clear();
    }
  }
);
}
