{
  NakedObject object;
  try {
    NakedObjectManager objectManager=NakedObjectManager.getInstance();
synchronized (objectManager) {
      NakedObjectSpecification cls=NakedObjectSpecificationLoader.getInstance().loadSpecification(type);
      if (loadedObjects.isLoaded(oid)) {
        object=objectManager.getObject(oid,cls);
      }
 else {
        object=(NakedObject)cls.acquireInstance();
        object.setOid(oid);
        loadedObjects.loaded(object);
      }
    }
  }
 catch (  ResolveException e) {
    throw new RuntimeException("Object already loaded when trying to load.");
  }
  return object;
}
