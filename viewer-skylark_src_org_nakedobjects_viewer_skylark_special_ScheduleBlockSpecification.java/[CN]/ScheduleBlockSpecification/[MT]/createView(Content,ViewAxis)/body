{
  NakedClass nc=((ObjectContent)content).getObject().getNakedClass();
  Field[] flds=nc.getFields();
  Field timePeriodField=null;
  Field colorField=null;
  for (int i=0; i < flds.length; i++) {
    Field field=flds[i];
    if (field.getType().isAssignableFrom(TimePeriod.class)) {
      LOG.debug("Found TimePeriod field " + field);
      timePeriodField=field;
    }
    if (field.getType().isAssignableFrom(org.nakedobjects.object.value.Color.class)) {
      LOG.debug("Found Color field " + field);
      colorField=field;
    }
  }
  if (timePeriodField == null) {
    throw new NakedObjectRuntimeException("Can't create Shedule view without a TimePeriod");
  }
 else {
    return new SimpleIdentifier(new ScheduleBlockView(content,this,axis,timePeriodField,colorField));
  }
}
