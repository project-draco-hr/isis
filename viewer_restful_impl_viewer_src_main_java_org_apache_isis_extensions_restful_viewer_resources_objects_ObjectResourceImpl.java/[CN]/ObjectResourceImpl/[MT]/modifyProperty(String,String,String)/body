{
  init();
  String oidStr=UrlDecoderUtils.urlDecode(oidEncodedStr);
  String propertyId=UrlDecoderUtils.urlDecode(propertyEncodedId);
  String proposedValue=UrlDecoderUtils.urlDecode(proposedEncodedValue);
  final ObjectAdapter nakedObject=getNakedObject(oidStr);
  if (nakedObject == null) {
    throw new WebApplicationException(responseOfGone("could not determine object"));
  }
  final ObjectSpecification noSpec=nakedObject.getSpecification();
  final OneToOneAssociation property=(OneToOneAssociation)noSpec.getAssociation(propertyId);
  final ObjectAdapter proposedValueNO=getNakedObject(proposedValue,nakedObject,property);
  if (proposedValueNO == null) {
    throw new WebApplicationException(responseOfBadRequest("null argument"));
  }
  final Consent consent=property.isAssociationValid(nakedObject,proposedValueNO);
  if (consent.isVetoed()) {
    throw new WebApplicationException(responseOfBadRequest(consent));
  }
  final XhtmlTemplate xhtml=new XhtmlTemplate(nakedObject.titleString() + "." + propertyId,getServletRequest());
  xhtml.appendToBody(asDivNofSession());
  xhtml.appendToBody(resourcesDiv());
  Element div=asDivTableObjectDetails(nakedObject);
  xhtml.appendToBody(div);
  property.setAssociation(nakedObject,proposedValueNO);
  return xhtml.toXML();
}
