{
  if (reader == null || isClosed)   return;
  if (startRemember != 0) {
    if (rememberedText == null)     rememberedText=new StringBuffer(buf.length);
    rememberedText.append(buf,startRemember,start - startRemember);
  }
  boolean extra=(finish > 0) && (start > 0);
  int len;
  if (extra)   start--;
  len=finish - start;
  System.arraycopy(buf,start,buf,0,len);
  start=0;
  finish=len;
  try {
    len=buf.length - len;
    len=reader.read(buf,finish,len);
  }
 catch (  UnsupportedEncodingException e) {
    fatal("P-075",new Object[]{e.getMessage()});
  }
catch (  CharConversionException e) {
    fatal("P-076",new Object[]{e.getMessage()});
  }
  if (len >= 0)   finish+=len;
 else   close();
  if (extra)   start++;
  if (startRemember != 0)   startRemember=1;
}
