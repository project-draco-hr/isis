{
  if (!mode.representsArguments()) {
    if (objectAdapter.representsPersistent()) {
      if (includesSelf) {
        final JsonRepresentation self=linkToBuilder.with(objectAdapter).builder(Rel.SELF).build();
        getLinks().arrayAdd(self);
      }
      representation.mapPut("oid",getOidStr());
    }
  }
  if (!mode.representsArguments()) {
    final String title=objectAdapter.titleString();
    representation.mapPut("title",title);
  }
  if (!mode.representsArguments()) {
    final boolean isService=objectAdapter.getSpecification().isService();
    if (isService) {
      representation.mapPut("serviceId",ServiceUtil.id(objectAdapter.getObject()));
    }
  }
  withMembers(objectAdapter);
  if (mode.includesDescribedBy()) {
    getLinks().arrayAdd(DomainTypeReprRenderer.newLinkToBuilder(getResourceContext(),Rel.DESCRIBEDBY,objectAdapter.getSpecification()).build());
  }
  if (!mode.representsArguments()) {
    addPersistLinkIfTransientAndPersistable();
    addUpdatePropertiesLinkIfPersistent();
    final boolean isService=objectAdapter.getSpecification().isService();
    getExtensions().mapPut("isService",isService);
    getExtensions().mapPut("isPersistent",objectAdapter.representsPersistent());
  }
  return representation;
}
