{
  final ValueFacet valueFacet=objectSpec.getFacet(ValueFacet.class);
  if (valueFacet != null) {
    JsonValueEncoder.appendValueAndFormat(objectSpec,objectAdapter,repr);
    return;
  }
  if (objectAdapter == null) {
    repr.mapPut("value",NullNode.getInstance());
  }
 else {
    final TitleFacet titleFacet=objectSpec.getFacet(TitleFacet.class);
    final String title=titleFacet.title(objectAdapter,resourceContext.getLocalization());
    JsonRepresentation ref=DomainObjectReprRenderer.newLinkToBuilder(resourceContext,Rel.VALUE,objectAdapter).withTitle(title).build();
    repr.mapPut("value",ref);
  }
}
