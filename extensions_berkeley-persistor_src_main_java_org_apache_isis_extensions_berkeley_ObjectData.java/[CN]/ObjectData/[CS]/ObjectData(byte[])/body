{
  try {
    DataInputStream inputStream=new DataInputStream(new ByteArrayInputStream(data));
    String className=inputStream.readUTF();
    ObjectSpecification specification=IsisContext.getSpecificationLoader().loadSpecification(className);
    long id=inputStream.readLong();
    SerialOid oid=SerialOid.createPersistent(id);
    object=getAdapter(specification,oid);
    if (object.getResolveState().isResolved()) {
      return;
    }
    loadState(data,inputStream);
    inputStream.close();
  }
 catch (  IOException e) {
    throw new BerkeleyObjectStoreException(e);
  }
}
