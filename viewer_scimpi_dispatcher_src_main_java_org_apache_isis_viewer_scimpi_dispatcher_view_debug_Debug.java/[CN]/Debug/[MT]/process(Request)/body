{
  if (request.getContext().isDebugDisabled()) {
    return;
  }
  String type=request.getOptionalProperty(TYPE);
  boolean alwaysShow=request.isRequested("force",false);
  if (type != null) {
    if (type.equals("system")) {
      displaySystem(request);
    }
 else     if (type.equals("variables")) {
      displayVariables(request);
    }
 else     if (type.equals("dispatcher")) {
      displayDispatcher(request);
    }
 else     if (type.equals("context")) {
      displayContext(request);
    }
 else     if (type.equals("specifications")) {
      listSpecifications(request);
    }
 else     if (type.equals("specification")) {
      specification(request);
    }
 else     if (type.equals("object")) {
      String value=request.getOptionalProperty(VALUE);
      RequestContext context=request.getContext();
      ObjectAdapter object=context.getMappedObject(value);
      DebugString str=new DebugString();
      Dump.adapter(object,str);
      Dump.graph(object,str,IsisContext.getAuthenticationSession());
      request.appendHtml("<h2>" + object.getSpecification().getFullIdentifier() + "</h2>");
      request.appendHtml("<pre class=\"debug\">" + str + "</pre>");
    }
  }
  if (alwaysShow || request.getContext().getDebug() == RequestContext.Debug.ON) {
    RequestContext context=request.getContext();
    String id=request.getOptionalProperty("object");
    if (id != null) {
      ObjectAdapter object=context.getMappedObject(id);
      if (object instanceof DebuggableWithTitle) {
        DebugString debug=new DebugString();
        ((DebuggableWithTitle)object).debugData(debug);
        request.appendHtml("<pre class=\"debug\">" + debug + "</pre>");
      }
 else {
        request.appendHtml(object.toString());
      }
    }
    String variable=request.getOptionalProperty("variable");
    if (variable != null) {
      Object object=context.getVariable(variable);
      request.appendHtml(variable + " => " + (object == null ? "null" : object.toString()));
    }
    String list=request.getOptionalProperty("list");
    if (list != null) {
      DebugString debug=new DebugString();
      context.append(debug,list);
      request.appendHtml(debug.toString());
    }
    String uri=request.getOptionalProperty("uri");
    if (uri != null) {
      request.appendHtml("<pre class=\"debug\">");
      request.appendHtml(context.getUri());
      request.appendHtml("</pre>");
    }
  }
}
