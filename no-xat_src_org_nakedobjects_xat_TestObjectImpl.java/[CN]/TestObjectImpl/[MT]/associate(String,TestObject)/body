{
  FieldSpecification field=fieldFor(fieldName);
  assertFieldVisible(fieldName,field);
  assertFieldModifiable(fieldName,field);
  TestNaked targetField=getField(fieldName);
  if (targetField instanceof TestValue) {
    throw new IllegalActionError("drop(..) not allowed on value target field; use fieldEntry(..) instead");
  }
  if ((targetField.getForObject() != null) && !(targetField.getForObject() instanceof InternalCollection)) {
    throw new IllegalActionError("Field already contains an object: " + targetField.getForObject());
  }
  AssociationSpecification association=(AssociationSpecification)fieldFor(fieldName);
  NakedObject obj=(NakedObject)object.getForObject();
  if (association.getType() != null && !obj.getSpecification().isOfType(association.getType())) {
    throw new IllegalActionError("Can't drop a " + object.getForObject().getSpecification().getShortName() + " on to the "+ fieldName+ " field (which accepts "+ association.getType()+ ")");
  }
  association.setAssociation((NakedObject)getForObject(),obj);
}
