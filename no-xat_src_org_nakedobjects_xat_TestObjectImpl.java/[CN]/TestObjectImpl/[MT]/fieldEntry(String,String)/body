{
  Field field=fieldFor(fieldName);
  assertFieldVisible(fieldName,field);
  assertFieldModifiable(fieldName,field);
  TestValue testField;
  Object view=fields.get(fieldName);
  if (view instanceof TestValue) {
    testField=(TestValue)view;
    Naked valueObject=(Naked)fieldFor(fieldName).get((NakedObject)getForObject());
    if (valueObject == null) {
      throw new NakedAssertionFailedError("Field " + fieldName + " contains null, but should contain an NakedValue object");
    }
    testField.setForObject(valueObject);
    testField.fieldEntry(value);
    ((NakedObject)getForObject()).objectChanged();
  }
 else {
    throw new IllegalActionError("Can only make an entry (eg by keyboard) into a value field");
  }
}
