{
  super(session,factory);
  setForObject(object);
  fields=new Hashtable();
  if (object != null) {
    viewCache.put(object,this);
    NakedObjectField[] a=object.getSpecification().getFields();
    for (int i=0; i < a.length; i++) {
      NakedObjectField att=a[i];
      if (att instanceof NakedObjectAssociation) {
        TestObject associatedView=null;
        NakedObject associate;
        associate=((PojoAdapter)object).getField(att);
        if (null != associate) {
          associatedView=(TestObject)viewCache.get(associate);
        }
        if (null == associatedView) {
          associatedView=factory.createTestObject(session,associate,viewCache);
        }
        fields.put(a[i].getName(),associatedView);
      }
    }
  }
}
