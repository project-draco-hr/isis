{
  Setter setter=null;
  final Property thisProperty=HibernateUtil.getConfiguration().getClassMapping(theClass.getName()).getProperty(propertyName);
  final MetaAttribute propertyMeta=thisProperty.getMetaAttribute(PropertyHelper.NAKED_PROPERTY);
  if (propertyMeta != null) {
    String access=null;
    final MetaAttribute accessMeta=thisProperty.getMetaAttribute(PropertyHelper.NAKED_ACCESS);
    if (accessMeta != null) {
      access=accessMeta.getValue();
    }
    final PropertyAccessor wrappedAccessor=PropertyAccessorFactory.getPropertyAccessor(access);
    if (wrappedAccessor != null) {
      setter=wrappedAccessor.getSetter(theClass,propertyMeta.getValue());
    }
  }
  return new OptimisticLockSetter(theClass,propertyName,getLongVersionAccessor(),setter);
}
