{
  try {
    final ObjectAdapter targetAdapter=getAdapterManager().getAdapterFor(target);
    LongVersion version=(LongVersion)targetAdapter.getVersion();
    if (version == null) {
      version=new LongVersion();
      targetAdapter.setOptimisticLock(version);
    }
    versionAccessor.set(version,value);
    if (wrappedSetter != null) {
      wrappedSetter.set(target,value,factory);
    }
  }
 catch (  final Exception e) {
    throw new PropertyAccessException(e,"could not set a value by reflection",true,clazz,name);
  }
}
