{
  final int x=left;
  final int width=s.getWidth();
  final int height=s.getHeight();
  final Color borderColor=hasFocus ? Toolkit.getColor(ColorsAndFonts.COLOR_PRIMARY1) : Toolkit.getColor(ColorsAndFonts.COLOR_SECONDARY1);
  canvas.drawRoundedRectangle(0,0,width,height,8,8,borderColor);
  canvas.drawRectangle(LINE_THICKNESS - 1,LINE_THICKNESS - 1,width - LINE_THICKNESS * 2 + 2,height - LINE_THICKNESS * 2 + 2,borderColor);
  final Color titleBarTextColor=hasFocus ? Toolkit.getColor(ColorsAndFonts.COLOR_BLACK) : Toolkit.getColor(ColorsAndFonts.COLOR_SECONDARY1);
  final Color titleBarBackgroundColor=hasFocus ? Toolkit.getColor(ColorsAndFonts.COLOR_PRIMARY3) : Toolkit.getColor(ColorsAndFonts.COLOR_SECONDARY3);
  canvas.drawSolidRectangle(left + 1,LINE_THICKNESS + 1,width - LINE_THICKNESS * 2 - 1,titlebarHeight - 1,titleBarBackgroundColor);
  final int y=LINE_THICKNESS + titlebarHeight;
  canvas.drawLine(LINE_THICKNESS,y,width - LINE_THICKNESS - 1,y,borderColor);
  int controlWidth=View.HPADDING + (WindowControl.WIDTH + View.HPADDING) * controls.length;
  String text=TextUtils.limitText(title,TITLE_STYLE,width - controlWidth - LINE_THICKNESS * 2 - 2);
  canvas.drawText(text,x + controlWidth,baseline,titleBarTextColor,TITLE_STYLE);
}
