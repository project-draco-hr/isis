{
  if (encoding == null)   return new XmlReader(in);
  if ("UTF-8".equalsIgnoreCase(encoding) || "UTF8".equalsIgnoreCase(encoding))   return new Utf8Reader(in);
  if ("US-ASCII".equalsIgnoreCase(encoding) || "ASCII".equalsIgnoreCase(encoding))   return new AsciiReader(in);
  if ("ISO-8859-1".equalsIgnoreCase(encoding))   return new Iso8859_1Reader(in);
  return new InputStreamReader(in,std2java(encoding));
}
