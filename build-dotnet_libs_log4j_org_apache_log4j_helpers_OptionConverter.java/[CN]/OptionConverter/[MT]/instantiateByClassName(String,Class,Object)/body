{
  if (className != null) {
    try {
      Class classObj=Loader.loadClass(className);
      if (!superClass.isAssignableFrom(classObj)) {
        LogLog.error("A \"" + className + "\" object is not assignable to a \""+ superClass.getName()+ "\" variable.");
        LogLog.error("The class \"" + superClass.getName() + "\" was loaded by ");
        LogLog.error("[" + superClass.getClassLoader() + "] whereas object of type ");
        LogLog.error("\"" + classObj.getName() + "\" was loaded by ["+ classObj.getClassLoader()+ "].");
        return defaultValue;
      }
      return classObj.newInstance();
    }
 catch (    Exception e) {
      LogLog.error("Could not instantiate class [" + className + "].",e);
    }
  }
  return defaultValue;
}
