{
  final ObjectAdapter rootAdapter=adapter.getAggregateRoot();
  if (!(rootAdapter.getOid() instanceof RootOid)) {
    throw new NoSqlStoreException("Unexpected aggregated object to save: " + rootAdapter + " ("+ adapter+ ")");
  }
  return new NoSqlSaveObjectCommand(versionCreator,wrtingDataEncrypter,rootAdapter);
}
