{
  final ObjectDataVector data=dataManager.getInstances(patternData);
  final List<ObjectAdapter> instances=Lists.newArrayList();
  for (int i=0; i < data.size(); i++) {
    final ObjectData instanceData=data.element(i);
    if (LOG.isDebugEnabled()) {
      LOG.debug("instance data " + instanceData);
    }
    final RootOid oid=instanceData.getRootOid();
    final ObjectSpecification spec=specFor(instanceData);
    final Object recreatedPojo=spec.createObject();
    final ObjectAdapter adapter=getAdapterManager().mapRecreatedPojo(oid,recreatedPojo);
    if (LOG.isDebugEnabled()) {
      LOG.debug("recreated instance " + adapter);
    }
    initObject(adapter,instanceData);
    if (persistenceQuery == null || persistenceQuery.matches(adapter)) {
      instances.add(adapter);
    }
  }
  return instances;
}
