{
  final RootOidDefault referenceOid=(RootOidDefault)data.get(field.getId());
  LOG.debug("setting up field " + field + " with "+ referenceOid);
  if (referenceOid == null) {
    return;
  }
  final Data fieldData=dataManager.loadData(referenceOid);
  if (fieldData == null) {
    final ObjectAdapter adapter=getPersistenceSession().recreateAdapter(field.getSpecification(),referenceOid);
    if (!adapter.getResolveState().isDestroyed()) {
      adapter.changeState(ResolveState.DESTROYED);
    }
    ((OneToOneAssociation)field).initAssociation(object,adapter);
    LOG.warn("No data found for " + referenceOid + " so field '"+ field.getName()+ "' not set in object '"+ object.titleString()+ "'");
  }
 else {
    final ObjectAdapter reference=getPersistenceSession().recreateAdapter(specFor(fieldData),referenceOid);
    ((OneToOneAssociation)field).initAssociation(object,reference);
  }
}
