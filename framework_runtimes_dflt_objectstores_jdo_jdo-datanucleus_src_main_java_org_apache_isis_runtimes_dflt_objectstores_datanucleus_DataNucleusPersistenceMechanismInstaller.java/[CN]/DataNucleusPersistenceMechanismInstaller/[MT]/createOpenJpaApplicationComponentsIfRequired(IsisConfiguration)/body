{
  if (applicationComponents != null) {
    return;
  }
  final IsisConfiguration dataNucleusConfig=configuration.createSubset("isis.persistor.datanucleus.impl");
  final Map<String,String> props=dataNucleusConfig.asMap();
  applicationComponents=new DataNucleusApplicationComponents(props,getSpecificationLoader().allSpecifications());
}
