{
  final long start=System.currentTimeMillis();
  final List filtered=new ArrayList();
  final int size=mAllEvents.size();
  final Iterator it=mAllEvents.iterator();
  while (it.hasNext()) {
    final EventDetails event=(EventDetails)it.next();
    if (matchFilter(event)) {
      filtered.add(event);
    }
  }
  final EventDetails lastFirst=(mFilteredEvents.length == 0) ? null : mFilteredEvents[0];
  mFilteredEvents=(EventDetails[])filtered.toArray(EMPTY_LIST);
  if (aInsertedToFront && (lastFirst != null)) {
    final int index=filtered.indexOf(lastFirst);
    if (index < 1) {
      LOG.warn("In strange state");
      fireTableDataChanged();
    }
 else {
      fireTableRowsInserted(0,index - 1);
    }
  }
 else {
    fireTableDataChanged();
  }
  final long end=System.currentTimeMillis();
  LOG.debug("Total time [ms]: " + (end - start) + " in update, size: "+ size);
}
