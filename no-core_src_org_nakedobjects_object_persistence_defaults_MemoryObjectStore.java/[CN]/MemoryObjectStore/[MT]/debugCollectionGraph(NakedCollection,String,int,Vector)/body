{
  StringBuffer s=new StringBuffer();
  if (recursiveElements.contains(collection)) {
    s.append("*\n");
  }
 else {
    recursiveElements.addElement(collection);
    Enumeration e=((NakedCollection)collection).elements();
    while (e.hasMoreElements()) {
      indent(s,level);
      NakedObject element;
      try {
        element=((NakedObject)e.nextElement());
      }
 catch (      ClassCastException ex) {
        LOG.error(ex);
        return s.toString();
      }
      s.append(element);
      s.append(debugGraph(element,name,level + 1,recursiveElements));
    }
  }
  return s.toString();
}
