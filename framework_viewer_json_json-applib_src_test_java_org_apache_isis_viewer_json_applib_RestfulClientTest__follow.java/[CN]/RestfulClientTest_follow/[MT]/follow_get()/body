{
  JsonRepresentation jsonRepresentation=new JsonRepresentation(JsonUtils.readJson("map.json"));
  LinkRepresentation getLink=jsonRepresentation.getLink("aLink");
  context.checking(new Expectations(){
{
      one(mockExecutor).createRequest("http://foo/bar");
      will(returnValue(mockClientRequest));
      ignoring(mockClientRequest);
      one(mockExecutor).execute(mockClientRequest);
      will(returnValue(mockClientResponse));
      one(mockClientResponse).setReturnType(String.class);
    }
  }
);
  client.follow(getLink);
}
