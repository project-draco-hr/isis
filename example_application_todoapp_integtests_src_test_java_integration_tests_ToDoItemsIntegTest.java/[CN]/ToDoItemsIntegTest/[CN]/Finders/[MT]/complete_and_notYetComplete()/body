{
  List<ToDoItem> notYetCompleteItems=wrap(service(ToDoItems.class)).notYetComplete();
  final ToDoItem toDoItem=wrap(notYetCompleteItems.get(0));
  toDoItem.completed();
  nextTransaction();
  assertThat(wrap(service(ToDoItems.class)).notYetComplete().size(),is(notYetCompletedSize - 1));
  assertThat(wrap(service(ToDoItems.class)).complete().size(),is(completedSize + 1));
  toDoItem.notYetCompleted();
  nextTransaction();
  assertThat(wrap(service(ToDoItems.class)).notYetComplete().size(),is(notYetCompletedSize));
  assertThat(wrap(service(ToDoItems.class)).complete().size(),is(completedSize));
}
