{
  if (object instanceof NakedClass) {
    return new Allow();
  }
 else {
    NakedObjectSpecification targetType=getOneToOneAssociation().getType();
    NakedObjectSpecification sourceType=object.getSpecification();
    if (!sourceType.isOfType(targetType)) {
      return new Veto("Can only drop objects of type " + targetType.getSingularName());
    }
    if (getParent().getOid() != null && object.getOid() == null) {
      return new Veto("Can't drop a non-persistent into this persistent object");
    }
    if (object instanceof Aggregated) {
      Aggregated aggregated=((Aggregated)object);
      if (aggregated.isAggregated() && aggregated.parent() != getParent()) {
        return new Veto("Object is already associated with another object: " + aggregated.parent());
      }
    }
    Permission perm=getOneToOneAssociation().getAbout(ClientSession.getSession(),getParent(),object).canUse();
    return perm;
  }
}
