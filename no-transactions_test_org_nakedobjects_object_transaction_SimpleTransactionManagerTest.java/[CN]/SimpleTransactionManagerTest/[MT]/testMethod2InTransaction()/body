{
  objectManager.startTransaction();
  Account personal=(Account)objectManager.createInstance(Account.class.getName());
  Account saving=(Account)objectManager.createInstance(Account.class.getName());
  saving.balance.setValue(500.0);
  Transfer transfer=personal.actionCreateTransactionFrom(saving);
  assertNoInstances(0,transfer.getNakedClass());
  objectManager.endTransaction();
  objectManager.startTransaction();
  Transfer transferTo=(Transfer)transactionalObject(transfer);
  transferTo.getAmount().setValue(100);
  objectManager.objectChanged(transfer);
  transferTo.actionApply();
  assertEquals(0.0,personal.getBalance().floatValue(),0.0);
  objectManager.endTransaction();
  assertEquals(100.0,personal.getBalance().floatValue(),0.0);
  assertEquals(400.0,saving.getBalance().floatValue(),0.0);
}
