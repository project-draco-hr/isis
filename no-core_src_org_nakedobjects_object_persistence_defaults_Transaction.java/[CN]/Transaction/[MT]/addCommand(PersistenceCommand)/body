{
  NakedObject onObject=command.onObject();
  if (command instanceof SaveObjectCommand) {
    if (alreadyHasCreate(onObject) || alreadyHasSave(onObject)) {
      LOG.info("ignored command " + command + " as object already created/saved");
      return;
    }
    if (alreadyHasDestroy(onObject)) {
      LOG.info("ignored command " + command + " as object no longer exists");
      return;
    }
  }
  if (command instanceof DestroyObjectCommand) {
    if (alreadyHasCreate(onObject)) {
      removeCreate(onObject);
      LOG.info("ignored both create and destroy command " + command);
      return;
    }
    if (alreadyHasSave(onObject)) {
      removeSave(onObject);
      LOG.info("removed prior save command " + command);
    }
  }
  LOG.debug("add command " + command);
  commands.addElement(command);
}
