{
  final Class<?> candidateClass=candidate.getClass();
  if (SpecificationLoaderSpiAware.class.isAssignableFrom(candidateClass)) {
    final SpecificationLoaderSpiAware cast=SpecificationLoaderSpiAware.class.cast(candidate);
    cast.setSpecificationLoaderSpi(this);
  }
  if (SpecificationLoaderAware.class.isAssignableFrom(candidateClass)) {
    final SpecificationLoaderAware cast=SpecificationLoaderAware.class.cast(candidate);
    cast.setSpecificationLookup(this);
  }
  if (ServicesInjectorAware.class.isAssignableFrom(candidateClass)) {
    final ServicesInjectorAware cast=ServicesInjectorAware.class.cast(candidate);
    final ServicesInjectorDefault servicesInjector=new ServicesInjectorDefault();
    servicesInjector.setSpecificationLookup(this);
    servicesInjector.setServices(this.services);
    cast.setServicesInjector(servicesInjector);
  }
}
