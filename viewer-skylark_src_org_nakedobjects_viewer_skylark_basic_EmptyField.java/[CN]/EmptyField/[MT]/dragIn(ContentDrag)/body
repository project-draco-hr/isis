{
  NakedObject target=((ObjectContent)getParent().getContent()).getObject();
  NakedObject source=((ObjectContent)drag.getSourceContent()).getObject();
  Permission perm=canDrop(source,target);
  if (perm.getReason() != null) {
    getViewManager().setStatus(perm.getReason());
  }
  if (perm.isAllowed()) {
    getState().setCanDrop();
  }
 else {
    getState().setCantDrop();
  }
  markDamaged();
}
