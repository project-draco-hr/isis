{
  LOG.debug("local set association " + getName() + " in "+ inObject+ " with "+ associate);
  NakedObjectManager objectManager=inObject.getContext().getObjectManager();
  objectManager.startTransaction();
  if (addMethod == null) {
    ((NakedCollection)get(inObject)).add((NakedObject)associate);
  }
 else {
    try {
      addMethod.invoke(inObject,new Object[]{associate});
    }
 catch (    IllegalArgumentException e) {
      throw new IllegalArgumentException("set method expects a " + getType().getFullName() + " object; not a "+ associate.getClass().getName()+ ", "+ e.getMessage());
    }
catch (    InvocationTargetException e) {
      invocationException("Exception executing " + addMethod,e);
    }
catch (    IllegalAccessException ignore) {
      LOG.error("Illegal access of " + addMethod,ignore);
      throw new RuntimeException(ignore.getMessage());
    }
  }
  objectManager.endTransaction();
}
