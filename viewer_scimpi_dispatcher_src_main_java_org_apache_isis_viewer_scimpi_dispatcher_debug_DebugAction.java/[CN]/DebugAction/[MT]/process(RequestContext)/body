{
  if (context.isDebugDisabled()) {
    throw new ForbiddenException("Can't access debug action when debug is disabled");
  }
  String action=context.getParameter("action");
  if ("list-i18n".equals(action)) {
    i18n(context,null);
  }
 else   if ("list-authorization".equals(action)) {
    authorization(context,null);
  }
 else   if (context.getParameter("mode") != null) {
    boolean isDebugOn=context.getParameter("mode").equals("debug");
    context.addVariable("debug",isDebugOn,Scope.SESSION);
    context.setRequestPath("/debug/debug.shtml");
  }
 else {
    DebugWriter view=new DebugWriter(context.getWriter(),true);
    view.appendln("<div class=\"links\">");
    view.appendln("<a href=\"debug.app?action=system\">System</a>");
    view.appendln(" | <a href=\"debug.app?action=specifications\">List specifications</a>");
    view.appendln(" | <a href=\"debug.app?action=i18n\">I18N File</a>");
    view.appendln(" | <a href=\"debug.app?action=authorization\">Authorization File</a>");
    view.appendln(" | <a href=\"debug.app?action=context\">Context</a>");
    view.appendln(" | <a href=\"debug.app?action=dispatcher\">Dispatcher</a>");
    view.appendln("</div>");
    if ("specifications".equals(action)) {
      listSpecifications(view);
    }
 else     if ("specification".equals(action)) {
    }
 else     if ("object".equals(action)) {
      object(context,view);
    }
 else     if ("system".equals(action)) {
      system(context,view);
    }
 else     if ("context".equals(action)) {
      context.append(view);
    }
 else     if ("dispatcher".equals(action)) {
      dispatcher.debug(view);
    }
    context.clearRequestedPath();
  }
}
