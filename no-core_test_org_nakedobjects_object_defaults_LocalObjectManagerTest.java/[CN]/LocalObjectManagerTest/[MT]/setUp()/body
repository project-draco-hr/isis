{
  LogManager.getLoggerRepository().setThreshold(Level.OFF);
  MockUpdateNotifier updateNotifier=new MockUpdateNotifier();
  objectStore=new MockObjectStore();
  loadedObjects=(MockLoadedObjects)objectStore.getLoadedObjects();
  objectManager=new LocalObjectManager(objectStore,updateNotifier,new SimpleOidGenerator());
  objectManager.init();
  new NakedObjectSpecificationLoaderImpl();
  NakedObjectSpecificationImpl.setReflectionFactory(new LocalReflectionFactory());
  NakedObjectSpecificationImpl.setReflectorFactory(new JavaReflectorFactory());
  context=objectManager.getContext();
  nc=NakedObjectSpecificationLoader.getInstance().loadSpecification(MockNakedObject.class);
  v=new NakedObject[]{new MockNakedObject(),new MockNakedObject(),new MockNakedObject()};
  objectStore.setupInstances(v,nc);
  super.setUp();
}
