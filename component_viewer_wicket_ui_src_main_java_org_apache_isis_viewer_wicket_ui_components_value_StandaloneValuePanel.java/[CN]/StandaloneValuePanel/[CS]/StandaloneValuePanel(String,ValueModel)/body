{
  super(id,valueModel);
  final ObjectAdapter objectAdapter=getModel().getObject();
  final Object value=objectAdapter.getObject();
  final String label;
  if (value instanceof Clob) {
    final Clob clob=(Clob)value;
    ResourceStreamRequestHandler handler=new ResourceStreamRequestHandler(new StringResourceStream(clob.getChars(),clob.getMimeType().toString()),clob.getName());
    handler.setContentDisposition(ContentDisposition.ATTACHMENT);
    getRequestCycle().scheduleRequestHandlerAfterCurrent(handler);
    label="Downloading: " + clob.getName();
  }
 else   if (value instanceof Blob) {
    final Blob blob=(Blob)value;
    ResourceRequestHandler handler=new ResourceRequestHandler(new ByteArrayResource(blob.getMimeType().toString(),blob.getBytes(),blob.getName()),null);
    getRequestCycle().scheduleRequestHandlerAfterCurrent(handler);
    label="Downloading: " + blob.getName();
  }
 else {
    label=objectAdapter.titleString(null);
  }
  add(new Label(ID_STANDALONE_VALUE,label));
}
