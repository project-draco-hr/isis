{
  FieldSpecification[] fieldChains=new FieldSpecification[fields.length];
  for (int i=0; i < fields.length; i++) {
    Object object=fields[i];
    if (object instanceof ValueField) {
      fieldChains[i]=reflectionFactory.createField((ValueField)object);
    }
 else     if (object instanceof OneToOneAssociation) {
      fieldChains[i]=reflectionFactory.createField((OneToOneAssociation)object);
    }
 else     if (object instanceof OneToManyAssociation) {
      fieldChains[i]=reflectionFactory.createField((OneToManyAssociation)object);
    }
 else {
      throw new NakedObjectRuntimeException();
    }
  }
  return fieldChains;
}
