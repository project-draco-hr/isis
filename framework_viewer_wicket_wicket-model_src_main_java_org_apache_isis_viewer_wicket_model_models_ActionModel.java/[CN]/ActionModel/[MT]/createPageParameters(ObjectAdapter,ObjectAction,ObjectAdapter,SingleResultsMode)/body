{
  final PageParameters pageParameters=EntityModel.createPageParameters(adapter);
  final String actionType=objectAction.getType().name();
  final String actionNameParmsId=determineActionId(objectAction);
  final Mode actionMode=determineActionMode(objectAction,contextAdapter);
  PageParameterNames.ACTION_TYPE.addTo(pageParameters,actionType);
  final ObjectSpecification actionOnTypeSpec=objectAction.getOnType();
  if (actionOnTypeSpec != null) {
    PageParameterNames.ACTION_OWNING_SPEC.addTo(pageParameters,actionOnTypeSpec.getFullIdentifier());
  }
  PageParameterNames.ACTION_NAME_PARMS.addTo(pageParameters,actionNameParmsId);
  PageParameterNames.ACTION_MODE.addTo(pageParameters,actionMode.name());
  PageParameterNames.ACTION_SINGLE_RESULTS_MODE.addTo(pageParameters,singleResultsMode.name());
  addActionParamContextIfPossible(objectAction,contextAdapter,pageParameters);
  return pageParameters;
}
