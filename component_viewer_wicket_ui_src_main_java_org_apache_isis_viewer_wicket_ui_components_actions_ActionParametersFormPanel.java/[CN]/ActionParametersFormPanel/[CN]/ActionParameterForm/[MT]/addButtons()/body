{
  AjaxButton okButton=new AjaxButton(ID_OK_BUTTON){
    private static final long serialVersionUID=1L;
    @Override public void onSubmit(    AjaxRequestTarget target,    Form<?> form){
      boolean succeeded=actionExecutor.executeActionAndProcessResults(target,form);
      if (succeeded) {
        target.appendJavaScript("isisShowVeil();\n");
        send(getPage(),Broadcast.EXACT,new IsisActionCompletedEvent(getActionModel(),target,form));
        target.add(form);
      }
 else {
        if (actionPromptIfAny != null) {
          final StringBuilder builder=new StringBuilder();
          String errorMessagesIfAny=JGrowlUtil.asJGrowlCalls(IsisContext.getMessageBroker());
          builder.append(errorMessagesIfAny);
          builder.append("Wicket.Window.get().autoSizeWindow();\n");
          String buf=builder.toString();
          target.appendJavaScript(buf);
          target.add(form);
        }
      }
    }
    /** 
 * On validation error
 */
    @Override protected void onError(    AjaxRequestTarget target,    Form<?> form){
      super.onError(target,form);
      if (actionPromptIfAny != null) {
        target.appendJavaScript("var ww = Wicket.Window.get();\n ww.autoSizeWindow();");
      }
      target.add(form);
    }
  }
;
  okButton.add(new JGrowlBehaviour());
  add(okButton);
  AjaxButton cancelButton=new AjaxButton(ID_CANCEL_BUTTON){
    private static final long serialVersionUID=1L;
    @Override public void onSubmit(    final AjaxRequestTarget target,    Form<?> form){
      if (actionPromptIfAny != null) {
        actionPromptIfAny.close(target);
      }
    }
  }
;
  cancelButton.setDefaultFormProcessing(false);
  add(cancelButton);
  if (ActionPromptModalWindow.isActionPromptModalDialogDisabled()) {
    cancelButton.setVisible(false);
  }
}
