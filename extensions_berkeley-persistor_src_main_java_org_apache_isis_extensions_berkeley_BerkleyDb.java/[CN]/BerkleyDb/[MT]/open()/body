{
  try {
    EnvironmentConfig envConfig=new EnvironmentConfig();
    envConfig.setTransactional(true);
    envConfig.setAllowCreate(true);
    File file=new File("berkeley");
    if (!file.exists()) {
      file.mkdirs();
    }
    myDbEnvironment=new Environment(file,envConfig);
    DatabaseConfig dbConfig=new DatabaseConfig();
    Transaction txn=null;
    dbConfig.setAllowCreate(true);
    dbConfig.setTransactional(true);
    myDatabase=myDbEnvironment.openDatabase(txn,"sampleDatabase",dbConfig);
    SecondaryConfig mySecConfig=new SecondaryConfig();
    mySecConfig.setAllowCreate(true);
    mySecConfig.setTransactional(true);
    mySecConfig.setSortedDuplicates(true);
    InstanceTypeKeyCreator keyCreator=new InstanceTypeKeyCreator();
    mySecConfig.setKeyCreator(keyCreator);
    mySecDb=myDbEnvironment.openSecondaryDatabase(txn,"mySecondaryDatabase",myDatabase,mySecConfig);
  }
 catch (  DatabaseException e) {
    throw new BerkeleyObjectStoreException(e);
  }
}
