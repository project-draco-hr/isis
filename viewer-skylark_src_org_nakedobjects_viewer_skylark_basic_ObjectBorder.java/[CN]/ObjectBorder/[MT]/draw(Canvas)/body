{
  super.draw(canvas);
  Color color=null;
  ViewState state=getState();
  if (state.isActive()) {
  }
 else   if (state.canDrop()) {
    color=Style.VALID;
  }
 else   if (state.cantDrop()) {
    color=Style.INVALID;
  }
 else   if (state.isObjectIdentified()) {
    color=Style.SECONDARY2;
  }
 else   if (getViewManager().hasFocus(getView())) {
    color=Style.IDENTIFIED;
  }
  Size s=getSize();
  if (getContent().isPersistable() && getContent().isTransient()) {
    int x=s.getWidth() - 13;
    int y=0;
    Image icon=ImageFactory.getInstance().createIcon("transient",8,null);
    if (icon == null) {
      canvas.drawText("*",x,y + Style.NORMAL.getAscent(),Style.BLACK,Style.NORMAL);
    }
 else {
      canvas.drawIcon(icon,x,y,12,12);
    }
  }
  if (color != null) {
    int xExtent=s.getWidth();
    for (int i=0; i < left; i++) {
      canvas.drawRectangle(i,i,xExtent - 2 * i,s.getHeight() - 2 * i,color);
    }
    canvas.drawLine(xExtent - BORDER,left,xExtent - BORDER,left + s.getHeight(),color);
    canvas.drawSolidRectangle(xExtent - BORDER + 1,left,BORDER - 2,s.getHeight() - 2 * left,Style.SECONDARY3);
  }
}
