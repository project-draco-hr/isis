{
  super.draw(canvas);
  Color color=null;
  ViewState state=getState();
  if (state.isActive()) {
    color=Style.ACTIVE;
  }
 else   if (state.canDrop()) {
    color=Style.VALID;
  }
 else   if (state.cantDrop()) {
    color=Style.INVALID;
  }
 else   if (state.isObjectIdentified()) {
    color=Style.SECONDARY2;
  }
 else   if (getViewManager().hasFocus(getView())) {
    color=Style.IDENTIFIED;
  }
  Size s=getSize();
  NakedReference object=(NakedReference)getContent().getNaked();
  if (object != null && object.persistable() == Persistable.USER_PERSISTABLE && object.getResolveState().isTransient()) {
    int x=s.getWidth() - 13;
    int y=0;
    Image icon=ImageFactory.getInstance().createIcon("transient",8,null);
    if (icon == null) {
      canvas.drawText("*",x,y + Style.NORMAL.getAscent(),Style.BLACK,Style.NORMAL);
    }
 else {
      canvas.drawIcon(icon,x,y,12,12);
    }
  }
  if (color != null) {
    int xExtent=s.getWidth() - 1;
    int yExtent=s.getHeight() - 1;
    canvas.drawRectangle(0,0,xExtent,yExtent,Color.GREEN);
    for (int i=0; i < left; i++) {
      canvas.drawRectangle(i,i,xExtent - 2 * i,s.getHeight() - 1 - 2 * i,color);
    }
  }
}
