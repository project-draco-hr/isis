{
  ObjectAdapter fieldObject;
  final String ref=reader.readField(association.getId());
  if (ref == null || ref.equals("null")) {
    fieldObject=null;
  }
 else {
    if (ref.equals("")) {
      throw new NoSqlStoreException("Invalid reference field (an empty string) in data for " + association.getName() + "  in "+ object);
    }
    final OidWithSpecification oid=keyCreator.oidFromReference(ref);
    final ObjectSpecification specification=keyCreator.specificationFromReference(ref);
    fieldObject=getAdapter(specification,oid);
  }
  try {
    association.initAssociation(object,fieldObject);
  }
 catch (  IllegalArgumentException e) {
    throw new NoSqlStoreException("Failed to process field data for " + association.getName() + "  in "+ object+ ": "+ ref);
  }
}
