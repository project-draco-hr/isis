{
  oid=HibernateOid.createTransient(clazz,primaryKey);
  if (hibernateId != -1) {
    oid.setHibernateId(hibernateId);
    oid.makePersistent();
  }
  oid.encode(outputImpl);
  oid2=new HibernateOid(inputImpl);
  assertThat(oid2.getClassName(),is(equalTo(oid.getClassName())));
  assertThat(oid2.getHibernateId(),is(equalTo(oid.getHibernateId())));
  assertThat(oid2.getPrevious(),is(equalTo(oid.getPrevious())));
  assertThat(oid2.getPrimaryKey(),is(equalTo(oid.getPrimaryKey())));
  assertThat(oid2.isTransient(),is(equalTo(oid.isTransient())));
}
