{
  int noUpdates=updates.size();
  LOG.debug(noUpdates + " updates for request");
  ObjectData[] updatesArray=new ObjectData[noUpdates];
  int i=0;
  for (Enumeration e=updates.elements(); e.hasMoreElements(); ) {
    NakedObject object=(NakedObject)e.nextElement();
    ObjectData objectData=factory.createForUpdate(object);
    updatesArray[i++]=objectData;
  }
  updates.removeAllElements();
  return updatesArray;
}
