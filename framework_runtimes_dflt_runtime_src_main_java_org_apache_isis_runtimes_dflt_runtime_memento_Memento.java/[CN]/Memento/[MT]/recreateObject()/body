{
  if (data == null) {
    return null;
  }
  final ObjectSpecification spec=getSpecificationLoader().loadSpecification(data.getClassName());
  ObjectAdapter adapter;
  ResolveState targetState;
  if (getOid().isTransient()) {
    adapter=getHydrator().recreateAdapter(spec,getOid());
    targetState=ResolveState.TRANSIENT;
  }
 else {
    adapter=getHydrator().recreateAdapter(spec,getOid());
    targetState=ResolveState.RESOLVING;
  }
  if (adapter.getSpecification().isParentedOrFreeCollection()) {
    populateCollection(adapter,(CollectionData)data,targetState);
  }
 else {
    updateObject(adapter,data,targetState);
  }
  if (LOG.isDebugEnabled()) {
    LOG.debug("recreated object " + adapter.getOid());
  }
  return adapter;
}
