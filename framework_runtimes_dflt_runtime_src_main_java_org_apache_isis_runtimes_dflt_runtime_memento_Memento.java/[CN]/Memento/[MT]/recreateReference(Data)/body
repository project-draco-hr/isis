{
  final ObjectSpecification spec=getSpecificationLoader().loadSpecification(data.getClassName());
  if (data instanceof StandaloneData) {
    final StandaloneData standaloneData=(StandaloneData)data;
    return standaloneData.getAdapter();
  }
  final Oid oid=data.getOid();
  if (oid == null) {
    return null;
  }
  final Object recreatedPojo=spec.createObject();
  ObjectAdapter referencedAdapter=getAdapterManager().mapRecreatedPojo(oid,recreatedPojo);
  if (data instanceof ObjectData) {
    if (spec.isParented()) {
      updateObject(referencedAdapter,data);
    }
 else     if (oid.isTransient()) {
      updateObject(referencedAdapter,data);
    }
  }
  return referencedAdapter;
}
