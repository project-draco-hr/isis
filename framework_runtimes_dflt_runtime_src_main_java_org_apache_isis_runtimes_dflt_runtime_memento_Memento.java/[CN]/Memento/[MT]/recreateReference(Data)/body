{
  final ObjectSpecification spec=getSpecificationLoader().loadSpecification(data.getClassName());
  if (data instanceof StandaloneData) {
    final StandaloneData standaloneData=(StandaloneData)data;
    return standaloneData.getAdapter();
  }
  final Oid oid=data.getOid();
  if (oid == null) {
    return null;
  }
  ObjectAdapter referencedAdapter=getHydrator().recreateAdapter(spec,oid);
  if (data instanceof ObjectData) {
    if (spec.isParented()) {
      updateObject(referencedAdapter,data,ResolveState.RESOLVING);
    }
 else     if (oid.isTransient()) {
      updateObject(referencedAdapter,data,ResolveState.TRANSIENT);
    }
  }
  return referencedAdapter;
}
