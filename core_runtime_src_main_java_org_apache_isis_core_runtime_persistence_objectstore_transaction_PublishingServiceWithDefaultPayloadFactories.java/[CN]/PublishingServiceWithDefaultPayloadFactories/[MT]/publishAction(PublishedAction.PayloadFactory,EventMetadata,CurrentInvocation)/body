{
  final PublishedAction.PayloadFactory payloadFactoryToUse=annotatedPayloadFactoryIfAny != null ? annotatedPayloadFactoryIfAny : defaultActionPayloadFactory;
  final EventPayload payload=payloadFactoryToUse.payloadFor(currentInvocation.getAction().getIdentifier(),ObjectAdapterUtils.unwrapObject(currentInvocation.getTarget()),ObjectAdapterUtils.unwrapObjects(currentInvocation.getParameters()),ObjectAdapterUtils.unwrapObject(currentInvocation.getResult()));
  publishingService.publish(metadata,payload);
}
