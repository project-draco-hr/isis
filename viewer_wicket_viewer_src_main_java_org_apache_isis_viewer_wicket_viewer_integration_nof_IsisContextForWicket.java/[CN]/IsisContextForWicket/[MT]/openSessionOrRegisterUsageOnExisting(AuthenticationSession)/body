{
  final AuthenticatedWebSessionForIsis webSession=(AuthenticatedWebSessionForIsis)Session.get();
  webSession.registerUseByThread();
  IsisSession isisSession=sessionMap.get(webSession);
  if (isisSession == null) {
    isisSession=getSessionFactoryInstance().openSession(authSession);
    sessionMap.put(webSession,isisSession);
    isisSession.open();
  }
  return isisSession;
}
