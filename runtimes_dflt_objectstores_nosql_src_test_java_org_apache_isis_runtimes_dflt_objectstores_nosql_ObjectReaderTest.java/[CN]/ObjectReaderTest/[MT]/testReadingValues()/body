{
  setupObject1();
  context.checking(new Expectations(){
{
      one(reader1).readObjectType();
      will(returnValue(ExampleValuePojo.class.getName()));
      one(reader1).readId();
      will(returnValue("3"));
      one(reader1).readVersion();
      will(returnValue("3"));
      one(reader1).readUser();
      will(returnValue("username"));
      one(reader1).readTime();
      will(returnValue("1020"));
      one(versionCreator).version("3","username","1020");
      one(keyCreator).oid("3");
      will(returnValue(SerialOid.createPersistent(3)));
      ;
    }
  }
);
  ObjectAdapter readObject=objectReader.load(reader1,keyCreator,versionCreator);
  assertEquals(SerialOid.createPersistent(3),readObject.getOid());
  assertEquals(ResolveState.RESOLVED,readObject.getResolveState());
  ExampleValuePojo pojo=(ExampleValuePojo)readObject.getObject();
  assertEquals("Fred Smith",pojo.getName());
  assertEquals(34,pojo.getSize());
  context.assertIsSatisfied();
}
