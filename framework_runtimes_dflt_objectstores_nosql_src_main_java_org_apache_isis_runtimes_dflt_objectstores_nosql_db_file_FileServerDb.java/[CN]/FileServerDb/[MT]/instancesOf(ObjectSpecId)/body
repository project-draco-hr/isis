{
  final ClientConnection connection=getConnection();
  List<StateReader> instances;
  try {
    instances=new ArrayList<StateReader>();
    connection.request('L',objectSpecId + " 0");
    connection.validateRequest();
    String data;
    while ((data=connection.getResponseData()).length() > 0) {
      data=checkData(data);
      final JsonStateReader reader=new JsonStateReader(data);
      instances.add(reader);
    }
  }
 catch (  final RuntimeException e) {
    LOG.error("aborting instancesOf",e);
    abortConnection(connection);
    throw e;
  }
  returnConnection(connection);
  return instances.iterator();
}
