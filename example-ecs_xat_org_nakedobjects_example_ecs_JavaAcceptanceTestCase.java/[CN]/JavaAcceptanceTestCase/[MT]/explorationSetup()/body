{
  JavaBusinessObjectContainer container=new JavaBusinessObjectContainer();
  ViewUpdateNotifier updateNotifier=new ViewUpdateNotifier();
  LoadedObjectsHashtable loadedObjectsHashtable=new LoadedObjectsHashtable();
  JavaObjectFactory objectFactory=new JavaObjectFactory();
  objectFactory.setContainer(container);
  container.setObjectFactory(objectFactory);
  TransientObjectStore objectStore=new TransientObjectStore();
  objectStore.setLoadedObjects(loadedObjectsHashtable);
  OidGenerator oidGenerator=new TimeBasedOidGenerator();
  LocalObjectManager objectManager=new LocalObjectManager();
  objectManager.setObjectStore(objectStore);
  objectManager.setNotifier(updateNotifier);
  objectManager.setFactory(objectFactory);
  objectManager.setOidGenerator(oidGenerator);
  objectManager.setLoadedObjects(loadedObjectsHashtable);
  container.setObjectManger(objectManager);
  new NakedObjectSpecificationLoaderImpl();
  LocalReflectionFactory reflectionFactory=new LocalReflectionFactory();
  JavaReflectorFactory reflectorFactory=new JavaReflectorFactory();
  NakedObjectSpecificationImpl.setReflectionFactory(reflectionFactory);
  NakedObjectSpecificationLoaderImpl.setReflectorFactory(reflectorFactory);
  reflectorFactory.setObjectFactory(objectFactory);
  NakedObjectContext context=new NakedObjectContext(objectManager);
  SimpleExplorationSetup explorationSetup=new SimpleExplorationSetup();
  explorationSetup.setContext(context);
  return explorationSetup;
}
