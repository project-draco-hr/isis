{
  final List<ObjectAdapter> autoCompleteChoiceAdapters=Lists.newArrayList();
  final ActionParameterAutoCompleteFacet facet=getFacet(ActionParameterAutoCompleteFacet.class);
  if (facet != null) {
    final Object[] autoCompleteChoices=facet.autoComplete(parentAction.realTarget(adapter),searchArg);
    checkChoicesOrAutoCompleteType(getSpecificationLookup(),autoCompleteChoices,getSpecification());
    for (    final Object autoCompleteChoice : autoCompleteChoices) {
      autoCompleteChoiceAdapters.add(getAdapterMap().adapterFor(autoCompleteChoice));
    }
  }
  if (autoCompleteChoiceAdapters.size() == 0 && BoundedFacetUtils.isBoundedSet(getSpecification())) {
    addParameterChoicesForBounded(autoCompleteChoiceAdapters);
  }
  return autoCompleteChoiceAdapters.toArray(new ObjectAdapter[0]);
}
