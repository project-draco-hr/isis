{
  if (entry == null) {
    date=null;
  }
  String dateString=entry.trim();
  if (dateString.equals("")) {
    date=null;
  }
 else {
    if (entry.equals("today") || entry.equals("now")) {
      date=new Date();
    }
 else {
      DateFormat[] formats=new DateFormat[]{LONG_FORMAT,MEDIUM_FORMAT,SHORT_FORMAT,ISO_LONG,ISO_SHORT};
      for (int i=0; i < formats.length; i++) {
        try {
          date=formats[i].parse(dateString);
          break;
        }
 catch (        ParseException e) {
          if ((i + 1) == formats.length) {
            throw new InvalidEntryException("Invalid date " + dateString,e);
          }
        }
      }
    }
  }
}
