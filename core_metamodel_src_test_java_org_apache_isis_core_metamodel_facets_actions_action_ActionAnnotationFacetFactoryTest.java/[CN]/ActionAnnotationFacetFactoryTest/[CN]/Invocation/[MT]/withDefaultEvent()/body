{
class Customer {
    public void someAction(){
    }
  }
  final Class<?> cls=Customer.class;
  actionMethod=findMethod(cls,"someAction");
  allowingLoadSpecificationRequestsFor(cls,actionMethod.getReturnType());
  expectRemoveMethod(actionMethod);
  final ProcessMethodContext processMethodContext=new ProcessMethodContext(cls,null,null,actionMethod,mockMethodRemover,facetedMethod);
  facetFactory.processDomainEvent(processMethodContext);
  final Facet domainEventFacet=facetedMethod.getFacet(ActionDomainEventFacet.class);
  Assert.assertNotNull(domainEventFacet);
  Assert.assertTrue(domainEventFacet instanceof ActionDomainEventFacetDefault);
  final ActionDomainEventFacetDefault domainEventFacetImpl=(ActionDomainEventFacetDefault)domainEventFacet;
  assertThat(domainEventFacetImpl.getEventType(),classEqualTo(ActionDomainEvent.Default.class));
  final Facet invocationFacet=facetedMethod.getFacet(ActionInvocationFacet.class);
  Assert.assertNotNull(invocationFacet);
  Assert.assertTrue(invocationFacet instanceof ActionInvocationFacetForDomainEventFromDefault);
  final ActionInvocationFacetForDomainEventFromDefault invocationFacetImpl=(ActionInvocationFacetForDomainEventFromDefault)invocationFacet;
  assertThat(invocationFacetImpl.getEventType(),classEqualTo(ActionDomainEvent.Default.class));
}
