{
  this.runtimeContext=runtimeContext;
  this.services.add(new DomainObjectContainerDefault());
  this.services.addAll(Arrays.asList(services));
  setConfiguration(new IsisConfigurationDefault());
  this.classSubstitutor=new ClassSubstitutor();
  this.collectionTypeRegistry=new CollectionTypeRegistry();
  this.specificationTraverser=new SpecificationTraverser();
  setFacetDecorators(new TreeSet<FacetDecorator>());
  setProgrammingModelFacets(programmingModel);
  setMetaModelValidator(new MetaModelValidatorDefault());
}
