{
  while (receiving) {
    Object object;
    try {
      object=input.readObject();
      LOG.debug("Recieved " + object);
      if (object instanceof ObjectUpdateMessage) {
        ObjectUpdateMessage update=(ObjectUpdateMessage)object;
        LOG.debug("Received update " + update);
        updates.addUpdate(update);
      }
 else {
        response.setResponse(object);
      }
    }
 catch (    SocketException e) {
      LOG.info("Socket failure (" + e + ")");
      break;
    }
catch (    IOException e) {
      LOG.error("Receive problem; shutting down reciever",e);
      break;
    }
catch (    ClassNotFoundException e) {
      LOG.warn("Unexpected object received",e);
    }
  }
  LOG.info("Thread ending");
}
