{
  final ObjectAdapter objectAdapter=getObjectAdapter(oidStr);
  final OneToOneAssociation property=getPropertyThatIsVisibleAndUsable(objectAdapter,propertyId,Intent.MUTATE);
  ObjectSpecification objectSpec=property.getSpecification();
  ObjectAdapter proposedValueAdapter=objectAdapterFor(objectSpec,proposedValue);
  Consent consent=property.isAssociationValid(objectAdapter,proposedValueAdapter);
  if (consent.isVetoed()) {
    throw new WebApplicationException(responseOfPreconditionFailed(consent.getReason()));
  }
  PropertySetterFacet setterFacet=property.getFacet(PropertySetterFacet.class);
  setterFacet.setProperty(objectAdapter,proposedValueAdapter);
  return responseOfOk();
}
