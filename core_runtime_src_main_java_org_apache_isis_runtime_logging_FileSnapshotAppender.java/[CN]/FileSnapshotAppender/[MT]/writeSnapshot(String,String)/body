{
  SnapshotWriter s;
  try {
    final String contentType=layout.getContentType();
    final String fileExtension=isEmpty(extension) ? contentType.substring(contentType.indexOf('/') + 1) : extension;
    s=new SnapshotWriter(directoryPath,fileName,fileExtension,message);
    s.appendLog(details);
    s.close();
  }
 catch (  final FileNotFoundException e) {
    LOG.error("failed to open log file",e);
  }
catch (  final IOException e) {
    LOG.error("failed to write log file",e);
  }
}
