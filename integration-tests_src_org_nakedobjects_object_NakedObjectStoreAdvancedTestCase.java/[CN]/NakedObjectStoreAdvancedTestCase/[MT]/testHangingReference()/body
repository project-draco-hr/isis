{
  restartObjectStore();
  Role role=new Role();
  role.setContext(context);
  role.setOid(nextOid());
  role.name.setValue("Leader");
  Person person=new Person();
  person.setContext(context);
  person.setOid(nextOid());
  person.getName().setValue("Fred");
  role.referencedObject=person;
  objectStore.createObject(role);
  objectStore.createObject(person);
  Oid roleOid=role.getOid();
  Oid persoOid=role.referencedObject.getOid();
  assertTrue(role.isPersistent());
  assertTrue(person.isPersistent());
  assertFalse("but the object should not be empty",person.getName().isEmpty());
  objectStore.destroyObject(person);
  person=null;
  role=null;
  role=(Role)objectStore.getObject(roleOid,roleClass);
  person=role.getReferencedObject();
  assertNotNull("an empty object of the allowable type should be accessed",person);
  assertEquals("the oid should be the same",persoOid,person.getOid());
}
