{
  final int pos=serviceName.indexOf(DELIMITER);
  if (pos == 0) {
    return null;
  }
  if (pos != -1) {
    final String type=serviceName.substring(0,pos);
    if ("repository".equals(type)) {
      final String className=servicePrefix + serviceName.substring(pos + 1);
      final Class<?> underlying=loadClass(className);
      return new SimpleRepository(underlying);
    }
 else {
      final Class<?> cls=loadClass(type);
      return serviceInstantiator.createInstance(cls);
    }
  }
  final Class<?> cls=loadClass(servicePrefix + serviceName);
  return serviceInstantiator.createInstance(cls);
}
