{
  int index=0;
  NameCacheEntry entry;
  for (int i=0; i < len; i++)   index=index * 31 + value[i];
  index&=0x7fffffff;
  index%=hashtable.length;
  for (entry=hashtable[index]; entry != null; entry=entry.next) {
    if (entry.matches(value,len))     return entry;
  }
  entry=new NameCacheEntry();
  entry.chars=new char[len];
  System.arraycopy(value,0,entry.chars,0,len);
  entry.name=new String(entry.chars);
  entry.name=entry.name.intern();
  entry.next=hashtable[index];
  hashtable[index]=entry;
  return entry;
}
