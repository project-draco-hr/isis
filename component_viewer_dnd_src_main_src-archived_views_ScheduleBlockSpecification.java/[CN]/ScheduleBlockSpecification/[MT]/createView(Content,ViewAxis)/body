{
  ObjectSpecification nc=((ObjectContent)content).getObject().getSpecification();
  ObjectField[] flds=nc.getFields();
  ObjectField timePeriodField=null;
  ObjectField colorField=null;
  for (int i=0; i < flds.length; i++) {
    ObjectField field=flds[i];
    if (field.getType().isOfType(Isis.getSpecificationLoader().loadSpecification(TimePeriod.class))) {
      LOG.debug("found TimePeriod field " + field);
      timePeriodField=field;
    }
    if (field.getType().isOfType(Isis.getSpecificationLoader().loadSpecification(org.apache.isis.application.value.Color.class))) {
      LOG.debug("found Color field " + field);
      colorField=field;
    }
  }
  if (timePeriodField == null) {
    throw new ObjectAdapterRuntimeException("Can't create Shedule view without a TimePeriod");
  }
 else {
    return new SimpleIdentifier(new ScheduleBlockView(content,this,axis,timePeriodField,colorField));
  }
}
