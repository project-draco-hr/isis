{
  if (AttributeDecl.ID == attr.type) {
    if (!XmlNames.isName(value))     error("V-025",new Object[]{value});
    Boolean b=(Boolean)ids.getNonInterned(value);
    if (b == null || b.equals(Boolean.FALSE))     ids.put(value.intern(),Boolean.TRUE);
 else     error("V-026",new Object[]{value});
  }
 else   if (AttributeDecl.IDREF == attr.type) {
    if (!XmlNames.isName(value))     error("V-027",new Object[]{value});
    Boolean b=(Boolean)ids.getNonInterned(value);
    if (b == null)     ids.put(value.intern(),Boolean.FALSE);
  }
 else   if (AttributeDecl.IDREFS == attr.type) {
    StringTokenizer tokenizer=new StringTokenizer(value);
    Boolean b;
    boolean sawValue=false;
    while (tokenizer.hasMoreTokens()) {
      value=tokenizer.nextToken();
      if (!XmlNames.isName(value))       error("V-027",new Object[]{value});
      b=(Boolean)ids.getNonInterned(value);
      if (b == null)       ids.put(value.intern(),Boolean.FALSE);
      sawValue=true;
    }
    if (!sawValue)     error("V-039",null);
  }
 else   if (AttributeDecl.NMTOKEN == attr.type) {
    if (!XmlNames.isNmtoken(value))     error("V-028",new Object[]{value});
  }
 else   if (AttributeDecl.NMTOKENS == attr.type) {
    StringTokenizer tokenizer=new StringTokenizer(value);
    boolean sawValue=false;
    while (tokenizer.hasMoreTokens()) {
      value=tokenizer.nextToken();
      if (!XmlNames.isNmtoken(value))       error("V-028",new Object[]{value});
      sawValue=true;
    }
    if (!sawValue)     error("V-032",null);
  }
 else   if (AttributeDecl.ENUMERATION == attr.type) {
    for (int i=0; i < attr.values.length; i++)     if (value.equals(attr.values[i]))     return;
    error("V-029",new Object[]{value});
  }
 else   if (AttributeDecl.NOTATION == attr.type) {
    for (int i=0; i < attr.values.length; i++)     if (value.equals(attr.values[i]))     return;
    error("V-030",new Object[]{value});
  }
 else   if (AttributeDecl.ENTITY == attr.type) {
    if (!isUnparsedEntity(value))     error("V-031",new Object[]{value});
  }
 else   if (AttributeDecl.ENTITIES == attr.type) {
    StringTokenizer tokenizer=new StringTokenizer(value);
    boolean sawValue=false;
    while (tokenizer.hasMoreTokens()) {
      value=tokenizer.nextToken();
      if (!isUnparsedEntity(value))       error("V-031",new Object[]{value});
      sawValue=true;
    }
    if (!sawValue)     error("V-040",null);
  }
 else   if (AttributeDecl.CDATA != attr.type)   throw new InternalError(attr.type);
}
