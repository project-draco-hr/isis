{
  IsisConfiguration isisConfiguration=getIsisConfiguration();
  final ServicesInstaller servicesInstaller;
  if (isisConfiguration == null) {
    servicesInstaller=new ServicesInstallerFromAnnotation();
  }
 else {
    final ServicesInstallerFromConfigurationAndAnnotation servicesInstallerFromConfigurationAndAnnotation=new ServicesInstallerFromConfigurationAndAnnotation();
    servicesInstallerFromConfigurationAndAnnotation.setConfiguration(isisConfiguration);
    servicesInstaller=servicesInstallerFromConfigurationAndAnnotation;
  }
  servicesInstaller.setIgnoreFailures(true);
  servicesInstaller.init();
  return servicesInstaller.getServices(DeploymentType.SERVER_PROTOTYPE);
}
