{
  try {
    objectStore.execute(Collections.unmodifiableList(commands));
    for (    final PersistenceCommand command : commands) {
      if (command instanceof DestroyObjectCommand) {
        final ObjectAdapter adapter=command.onAdapter();
        adapter.setVersion(null);
        if (!adapter.isDestroyed()) {
          adapter.changeState(ResolveState.DESTROYED);
        }
      }
    }
  }
  finally {
    commands.clear();
  }
}
