{
  iswf.beginTran();
  PrimitiveValuedEntity entity=repo.newEntity();
  ObjectAdapter adapter=iswf.adapterFor(entity);
  assertThat(adapter.representsTransient(),is(true));
  assertThat(adapter.getResolveState(),is(ResolveState.TRANSIENT));
  assertThat(adapter.getOid().isTransient(),is(true));
  entity.setId(1);
  iswf.commitTran();
  iswf.bounceSystem();
  iswf.beginTran();
  final List<PrimitiveValuedEntity> list=repo.list();
  assertThat(list.size(),is(1));
  adapter=iswf.adapterFor(list.get(0));
  assertThat(adapter.getResolveState(),is(ResolveState.GHOST));
  assertThat(adapter.representsTransient(),is(false));
  assertThat(adapter.getOid().enString(),is("PRMV:1"));
  iswf.commitTran();
}
