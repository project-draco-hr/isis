{
  if (factoryListByFeatureType != null) {
    return;
  }
  factoryListByFeatureType=new HashMap<FeatureType,List<FacetFactory>>();
  for (  final FacetFactory factory : factories) {
    final List<FeatureType> featureTypes=factory.getFeatureTypes();
    for (    FeatureType featureType : featureTypes) {
      final List<FacetFactory> factoryList=getList(factoryListByFeatureType,featureType);
      factoryList.add(factory);
    }
  }
}
