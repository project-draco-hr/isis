{
  String BASE_NAME=SqlObjectStore.BASE_NAME;
  NakedObjectConfiguration subset=NakedObjects.getConfiguration().createSubset(BASE_NAME + ".mapper.");
  if (subset.isEmpty()) {
    throw new ConfigurationException("No mappers defined");
  }
  Enumeration e=subset.properties();
  while (e.hasMoreElements()) {
    String className=(String)e.nextElement();
    String value=subset.getString(className);
    if (value.startsWith("auto.")) {
      add(className,mapperFactory.createMapper(className,BASE_NAME + ".automapper." + value.substring(5)+ "."));
    }
 else     if (value.trim().equals("auto")) {
      add(className,mapperFactory.createMapper(className,BASE_NAME + ".automapper.default"));
    }
 else {
      LOG.debug("mapper " + className + "="+ value);
      try {
        add(className,(ObjectMapper)ComponentLoader.loadComponent(value,ObjectMapper.class));
      }
 catch (      ObjectPerstsistenceException ex) {
        throw new ComponentException("Failed to set up mapper for " + className,ex);
      }
    }
  }
}
