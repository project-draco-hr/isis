{
  String BASE_NAME=SqlObjectStore.BASE_NAME;
  try {
    setNakedClassMapper((NakedClassMapper)ComponentLoader.loadComponent(BASE_NAME + ".class-mapper",NakedClassMapper.class));
  }
 catch (  ObjectStoreException e) {
    throw new ComponentException("Failed to set up class mapper",e);
  }
  Properties properties=Configuration.getInstance().getPropertySubset(BASE_NAME + ".mapper");
  Enumeration e=properties.keys();
  while (e.hasMoreElements()) {
    String className=(String)e.nextElement();
    String value=properties.getProperty(className);
    if (value.startsWith("auto.")) {
      add(className,mapperFactory.createMapper(className,BASE_NAME + ".automapper." + value.substring(5)+ "."));
    }
 else     if (value.trim().equals("auto")) {
      add(className,mapperFactory.createMapper(className,BASE_NAME + ".automapper.default"));
    }
 else {
      LOG.debug("mapper " + className + "="+ value);
      try {
        add(className,(ObjectMapper)ComponentLoader.loadNamedComponent(value,ObjectMapper.class));
      }
 catch (      ObjectStoreException ex) {
        throw new ComponentException("Failed to set up mapper for " + className,ex);
      }
    }
  }
}
