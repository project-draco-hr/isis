{
  context.checking(new Expectations(){
{
      one(commandContext).createStateWriter(smpl1Adapter.getSpecification().getSpecId());
      will(returnValue(writer));
      final RootOidDefault oid=RootOidDefault.create(smpl1Adapter.getSpecification().getSpecId(),"1");
      exactly(2).of(writer).writeOid(oid);
      one(writer).writeField("name","ENCFred Smith");
      one(writer).writeField("size","ENC108");
      one(writer).writeField("date",null);
      one(writer).writeField("nullable",null);
      one(writer).writeVersion(null,"2");
      one(writer).writeUser("username");
      one(writer).writeTime("1057");
      one(writer).writeEncryptionType("etc1");
      one(commandContext).insert(writer);
    }
  }
);
  final WriteObjectCommand command=new WriteObjectCommand(WriteObjectCommand.Mode.NON_UPDATE,versionCreator,dataEncrypter,smpl1Adapter);
  command.execute(commandContext);
}
