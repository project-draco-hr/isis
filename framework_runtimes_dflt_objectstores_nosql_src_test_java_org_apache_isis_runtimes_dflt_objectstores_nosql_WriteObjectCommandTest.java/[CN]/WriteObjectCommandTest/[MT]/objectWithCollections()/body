{
  context.checking(new Expectations(){
{
      one(commandContext).createStateWriter(epc1Adapter.getSpecification().getSpecId());
      will(returnValue(writer));
      final RootOidDefault oid=RootOidDefault.create(epc1Adapter.getSpecification().getSpecId(),"1");
      exactly(2).of(writer).writeOid(oid);
      one(writer).writeField("homogeneousCollection","EPV:1|EPV:2|");
      one(writer).writeVersion(null,"2");
      one(writer).writeUser("username");
      one(writer).writeTime("1057");
      one(writer).writeEncryptionType("etc1");
      one(commandContext).insert(writer);
    }
  }
);
  final WriteObjectCommand command=new WriteObjectCommand(WriteObjectCommand.Mode.NON_UPDATE,versionCreator,dataEncrypter,epc1Adapter);
  command.execute(commandContext);
}
