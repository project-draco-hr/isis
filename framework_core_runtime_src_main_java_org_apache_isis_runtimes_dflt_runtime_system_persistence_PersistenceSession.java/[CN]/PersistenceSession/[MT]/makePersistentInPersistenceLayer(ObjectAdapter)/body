{
  getTransactionManager().executeWithinTransaction(new TransactionalClosureAbstract(){
    @Override public void preExecute(){
    }
    @Override public void execute(){
      persistAlgorithm.makePersistent(adapter,PersistenceSession.this);
      PersistenceSession.this.persistentByTransient.clear();
    }
    @Override public void onSuccess(){
    }
    @Override public void onFailure(){
    }
  }
);
}
