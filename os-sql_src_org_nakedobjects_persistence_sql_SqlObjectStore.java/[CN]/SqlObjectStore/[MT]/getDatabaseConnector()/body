{
  Thread thread=Thread.currentThread();
  if (transactionOrientedConnections.contains(thread)) {
    return (DatabaseConnector)transactionOrientedConnections.get(thread);
  }
 else {
    return connectionPool.acquire();
  }
}
