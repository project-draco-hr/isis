{
  final ObjectAdapter valueAdapter=objectMember.get(objectAdapter);
  final ObjectSpecification spec=valueAdapter != null ? valueAdapter.getSpecification() : objectMember.getSpecification();
  final ValueFacet valueFacet=spec.getFacet(ValueFacet.class);
  if (valueFacet != null) {
    String format=null;
    JsonValueEncoder.appendValueAndFormat(spec,valueAdapter,representation,format);
    return;
  }
  final RenderFacet renderFacet=objectMember.getFacet(RenderFacet.class);
  boolean eagerlyRender=renderFacet != null && renderFacet.value() == Type.EAGERLY && rendererContext.canEagerlyRender(valueAdapter);
  if (valueAdapter == null) {
    representation.mapPut("value",NullNode.getInstance());
  }
 else {
    final TitleFacet titleFacet=spec.getFacet(TitleFacet.class);
    final String title=titleFacet.title(valueAdapter,rendererContext.getLocalization());
    final LinkBuilder valueLinkBuilder=DomainObjectReprRenderer.newLinkToBuilder(rendererContext,Rel.VALUE,valueAdapter).withTitle(title);
    if (eagerlyRender) {
      final DomainObjectReprRenderer renderer=new DomainObjectReprRenderer(rendererContext,getLinkFollowSpecs(),JsonRepresentation.newMap());
      renderer.with(valueAdapter);
      if (mode.isEventSerialization()) {
        renderer.asEventSerialization();
      }
      valueLinkBuilder.withValue(renderer.render());
    }
    representation.mapPut("value",valueLinkBuilder.build());
  }
}
