{
  Oid oid=data.getOid();
  String type=data.getType();
  NakedObject object;
  if (oid != null && loadedObjects().isLoaded(oid)) {
    object=loadedObjects().getLoadedObject(oid);
  }
 else {
    NakedObjectSpecification specification=NakedObjects.getSpecificationLoader().loadSpecification(type);
    object=(NakedObject)specification.acquireInstance();
    if (oid != null) {
      object.setOid(oid);
      loadedObjects().loaded(object);
    }
  }
  if (data.isResolved() && !object.isResolved()) {
    object.setResolved();
  }
  recreateObjectsInFields(data,object);
  return object;
}
