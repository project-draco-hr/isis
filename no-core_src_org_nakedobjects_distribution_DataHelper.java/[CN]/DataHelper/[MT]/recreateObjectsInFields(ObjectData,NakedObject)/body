{
  Object[] fieldContent=data.getFieldContent();
  boolean partResolving=object.getResolveState() == ResolveState.RESOLVING_PART;
  if (fieldContent != null && fieldContent.length > 0) {
    NakedObjectField[] fields=object.getSpecification().getFields();
    for (int i=0; i < fields.length; i++) {
      if (fieldContent[i] instanceof NullData && partResolving) {
        continue;
      }
      if (fields[i].isCollection()) {
        if (fieldContent[i] != null) {
          ObjectData collection=(ObjectData)fieldContent[i];
          NakedObject[] instances=new NakedObject[collection.getFieldContent().length];
          for (int j=0; j < instances.length; j++) {
            instances[j]=(NakedObject)recreateNaked(((ObjectData)collection.getFieldContent()[j]));
          }
          object.initOneToManyAssociation((OneToManyAssociation)fields[i],instances);
        }
      }
 else       if (fields[i].isValue()) {
        if (fieldContent[i] != null) {
          object.initValue((OneToOneAssociation)fields[i],fieldContent[i] instanceof NullData ? null : ((ValueData)fieldContent[i]).getValue());
        }
      }
 else {
        if (fieldContent[i] != null) {
          NakedObjectAssociation field=(NakedObjectAssociation)fields[i];
          NakedObject associate=(NakedObject)recreate((Data)fieldContent[i]);
          object.initAssociation(field,associate);
        }
      }
    }
  }
}
