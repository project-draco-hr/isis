{
  if (object.getResolveState().isResolvable(ResolveState.RESOLVING)) {
    objectLoader.start(object,ResolveState.RESOLVING);
    NakedObjectField[] fields=object.getFields();
    for (int i=0; i < fields.length; i++) {
      NakedObjectField field=fields[i];
      if (field.isDerived()) {
        continue;
      }
      if (field.isValue()) {
        object.initValue((OneToOneAssociation)field,data.get(field.getId()));
      }
 else       if (field instanceof OneToManyAssociation) {
        initObjectSetupCollection(object,data,field);
      }
 else {
        initObjectSetupReference(object,data,field);
      }
    }
    objectLoader.end(object);
  }
}
