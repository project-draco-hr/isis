{
  if (field.isOneToManyAssociation()) {
    IsisContext.getPersistenceSession().resolveField(object,field);
    final ObjectAdapter collection=field.get(object);
    final ObjectSpecification elementSpec=collection.getElementSpecification();
    final List<ObjectAssociation> fields=elementSpec.getAssociations(ObjectAssociationFilters.STATICALLY_VISIBLE_ASSOCIATIONS);
    final boolean isFieldEditable=field.isUsable(IsisContext.getAuthenticationSession(),object).isAllowed();
    final String summary="Table of elements in " + field.getName();
    TableView.write(request,summary,object,field,collection,fields,isFieldEditable);
  }
 else {
    FieldValue.write(request,object,field,linkedObject,null,showIcon,0);
  }
}
