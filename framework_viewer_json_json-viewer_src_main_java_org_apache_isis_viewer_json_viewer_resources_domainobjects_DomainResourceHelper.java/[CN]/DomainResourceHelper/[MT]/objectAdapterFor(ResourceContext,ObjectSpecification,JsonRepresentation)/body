{
  if (representation == null) {
    return null;
  }
  if (objectSpec.isEncodeable()) {
    return new JsonValueEncoder().asAdapter(objectSpec,representation);
  }
  if (!representation.isLink()) {
    throw new ExpectedMapRepresentingLinkException();
  }
  final JsonRepresentation argLink=representation.asLink();
  final String oidFromHref=UrlParserUtils.oidFromLink(argLink);
  if (oidFromHref == null) {
    throw new ExpectedMapRepresentingLinkException();
  }
  final ObjectAdapter objectAdapter=OidUtils.getObjectAdapter(resourceContext,oidFromHref);
  if (objectAdapter == null) {
    throw new UnknownOidException(oidFromHref);
  }
  return objectAdapter;
}
