{
  if (body == null) {
    return JsonRepresentation.newMap();
  }
  final String bodyTrimmed=body.trim();
  if (bodyTrimmed.isEmpty()) {
    return JsonRepresentation.newMap();
  }
  try {
    final JsonRepresentation jsonRepr=JsonMapper.instance().read(bodyTrimmed);
    if (!jsonRepr.isMap()) {
      throw JsonApplicationException.create(HttpStatusCode.BAD_REQUEST,"could not read body as a JSON map");
    }
    return jsonRepr;
  }
 catch (  JsonParseException e) {
    throw JsonApplicationException.create(HttpStatusCode.BAD_REQUEST,e,"could not parse body");
  }
catch (  JsonMappingException e) {
    throw JsonApplicationException.create(HttpStatusCode.BAD_REQUEST,e,"could not read body as JSON");
  }
catch (  IOException e) {
    throw JsonApplicationException.create(HttpStatusCode.BAD_REQUEST,e,"could not parse body");
  }
}
