{
  command=createSaveCommand(persistentAdapter1,"command 1");
  command2=createSaveCommand(persistentAdapter2,"command 2");
  command3=createDestroyCommand(persistentAdapter1,"command 3");
  context.checking(new Expectations(){
{
      one(mockObjectStore).execute(with(IsisMatchers.listContainingAll(command2)));
    }
  }
);
  transaction.addCommand(command);
  transaction.addCommand(command2);
  transaction.addCommand(command3);
  transaction.commit();
}
