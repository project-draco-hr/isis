{
  final ObjectSpecification[] childSpecs=persistentClass.subclasses();
  for (int i=0; i < childSpecs.length; i++) {
    final ObjectSpecification childSpec=childSpecs[i];
    if (childSpec.getFullName().equals(subclassToCheck.getFullName())) {
      return true;
    }
    if (isSubclassOf(childSpec,subclassToCheck)) {
      return true;
    }
  }
  return false;
}
