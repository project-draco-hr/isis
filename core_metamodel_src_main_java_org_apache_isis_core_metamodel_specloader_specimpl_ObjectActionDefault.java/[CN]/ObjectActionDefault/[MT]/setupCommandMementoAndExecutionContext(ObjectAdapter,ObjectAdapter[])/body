{
  final CommandMementoService commandMementoService=getCommandMementoService();
  final List<ObjectAdapter> commandTargetAdapters=commandTargetAdaptersHolder.get() != null ? commandTargetAdaptersHolder.get() : Collections.singletonList(targetAdapter);
  final CommandMementoDto dto=commandMementoService.asCommandMemento(commandTargetAdapters,this,argumentAdapters);
  setupCommandMementoAndExecutionContext(dto);
}
