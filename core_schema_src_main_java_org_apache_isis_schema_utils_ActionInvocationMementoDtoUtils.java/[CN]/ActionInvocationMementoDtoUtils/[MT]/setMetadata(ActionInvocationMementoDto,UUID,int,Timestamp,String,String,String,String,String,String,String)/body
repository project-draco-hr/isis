{
  ActionInvocationMementoDto.Metadata metadata=aim.getMetadata();
  if (metadata == null) {
    metadata=new ActionInvocationMementoDto.Metadata();
    aim.setMetadata(metadata);
  }
  metadata.setTransactionId(transactionId.toString());
  metadata.setSequence(sequence);
  metadata.setTimestamp(JavaSqlTimestampXmlGregorianCalendarAdapter.print(timestamp));
  metadata.setTargetClass(targetClass);
  metadata.setTargetAction(targetAction);
  metadata.setActionIdentifier(actionIdentifier);
  final OidDto target=new OidDto();
  target.setObjectType(targetObjectType);
  target.setObjectIdentifier(targetObjectIdentifier);
  metadata.setTarget(target);
  metadata.setTitle(title);
  metadata.setUser(user);
}
