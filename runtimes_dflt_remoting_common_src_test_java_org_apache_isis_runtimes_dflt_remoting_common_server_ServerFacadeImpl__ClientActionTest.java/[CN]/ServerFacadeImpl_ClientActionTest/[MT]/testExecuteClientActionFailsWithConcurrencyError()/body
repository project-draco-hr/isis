{
  final ObjectAdapter adapter=system.createPersistentTestObject();
  adapter.setOptimisticLock(new TestProxyVersion(7));
  final Oid oid=adapter.getOid();
  final DummyIdentityData identityData=new DummyIdentityData(oid,TestProxyAdapter.class.getName(),new TestProxyVersion(6));
  try {
    final ExecuteClientActionRequest request=new ExecuteClientActionRequest(new TestProxySession(),new ReferenceData[]{identityData},new int[]{ClientTransactionEvent.DELETE});
    server.executeClientAction(request);
    fail();
  }
 catch (  final ConcurrencyException expected) {
  }
}
