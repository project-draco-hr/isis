{
  try {
    HibernateUtil.startTransaction();
    final SQLQuery sq=HibernateUtil.getCurrentSession().createSQLQuery(GET_MAX_PERMISSIONS_ID_SQL);
    final Integer id=(Integer)sq.uniqueResult();
    HibernateUtil.commitTransaction();
    return id != null ? id.intValue() + 1 : 0;
  }
 catch (  final Exception e) {
    HibernateUtil.rollbackTransaction();
    throw new IsisException(e);
  }
}
