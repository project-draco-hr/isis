{
  final Calendar newCalendar=Calendar.getInstance();
  newCalendar.setTimeZone(originalCalendar.getTimeZone());
  newCalendar.setTime(originalCalendar.getTime());
  final int firstPossibleDay=originalCalendar.getLeastMaximum(Calendar.DAY_OF_MONTH);
  final int lastPossibleDay=originalCalendar.getMaximum(Calendar.DAY_OF_MONTH);
  int lastValidDay=firstPossibleDay;
  for (int day=firstPossibleDay + 1; day < lastPossibleDay; day++) {
    newCalendar.set(Calendar.DAY_OF_MONTH,day);
    if (newCalendar.get(Calendar.MONTH) != originalCalendar.get(Calendar.MONTH)) {
      return lastValidDay;
    }
    lastValidDay=day;
  }
  return lastPossibleDay;
}
