{
  DebugView errorView=new DebugView(writer,error);
  if (includeHeader) {
    errorView.header();
  }
  errorView.startTable();
  try {
    errorView.exception(exception);
    requestContext.append(errorView);
  }
 catch (  RuntimeException e) {
    errorView.appendln("NOTE - an exception occurred while dumping an exception!");
    errorView.exception(e);
  }
  errorView.divider("Processing");
  errorView.appendDebugTrace(requestContext.getDebugTrace());
  errorView.endTable();
  if (includeHeader) {
    errorView.footer();
  }
  writer.close();
}
