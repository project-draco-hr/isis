{
  if (peer.getFeatureType().isCollection()) {
    return new OneToManyAssociationImpl(peer,getAuthenticationSessionProvider(),getSpecificationLookup(),getAdapterMap(),getQuerySubmitter());
  }
 else {
    return new OneToOneAssociationImpl(peer,getAuthenticationSessionProvider(),getSpecificationLookup(),getAdapterMap(),getQuerySubmitter());
  }
}
