{
  super(id);
  ListView<CssMenuItem> menuItemsView=new ListView<CssMenuItem>("menuItems",menuItems){
    @Override protected void populateItem(    ListItem<CssMenuItem> listItem){
      CssMenuItem menuItem=listItem.getModelObject();
      listItem.add(new Label("name",menuItem.getName()));
      MarkupContainer topMenu=new WebMarkupContainer("topMenu");
      topMenu.add(new CssClassAppender("top-menu-" + CssClassAppender.asCssStyle(menuItem.getName())));
      listItem.add(topMenu);
      List<CssMenuItem> subMenuItems=withSeparators(menuItem);
      if (menuItem.getName().equals("ToDos")) {
        CssMenuItem fakeItem=menuItem.newSubMenuItem("Fake item").build();
        fakeItem.newSubMenuItem("Fake item 1").link(new ExternalLink("menuLink","http://abv.bg")).build();
        CssMenuItem fakeMenu12=fakeItem.newSubMenuItem("Fake item 2").link(new ExternalLink("menuLink","http://google.com")).build();
        fakeMenu12.newSubMenuItem("Fake item 2.1").link(new ExternalLink("menuLink","http://web.de")).build();
      }
      ListView<CssMenuItem> subMenuItemsView=new ListView<CssMenuItem>("subMenuItems",subMenuItems){
        @Override protected void populateItem(        ListItem<CssMenuItem> listItem){
          CssMenuItem subMenuItem=listItem.getModelObject();
          if (subMenuItem.hasSubMenuItems()) {
            addFolderItem(subMenuItem,listItem);
          }
 else {
            addLeafItem(subMenuItem,listItem);
          }
        }
      }
;
      topMenu.add(subMenuItemsView);
    }
  }
;
  add(menuItemsView);
}
