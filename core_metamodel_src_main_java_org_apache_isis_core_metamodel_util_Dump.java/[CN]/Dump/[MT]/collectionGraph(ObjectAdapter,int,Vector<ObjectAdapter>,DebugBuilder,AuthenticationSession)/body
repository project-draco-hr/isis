{
  if (ignoreObjects.contains(collection)) {
    s.append("*\n");
  }
 else {
    ignoreObjects.addElement(collection);
    final CollectionFacet facet=CollectionFacetUtils.getCollectionFacetFromSpec(collection);
    final Enumeration e=facet.elements(collection);
    while (e.hasMoreElements()) {
      graphIndent(s,level);
      final ObjectAdapter element=((ObjectAdapter)e.nextElement());
      s.append(element);
      if (ignoreObjects.contains(element)) {
        s.append("*\n");
      }
 else {
        graph(element,level + 1,ignoreObjects,s,authenticationSession);
      }
    }
  }
}
