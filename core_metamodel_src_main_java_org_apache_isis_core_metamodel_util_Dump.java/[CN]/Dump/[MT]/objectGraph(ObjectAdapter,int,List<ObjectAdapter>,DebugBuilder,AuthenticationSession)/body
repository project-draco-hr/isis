{
  ignoreAdapters.add(adapter);
  try {
    final List<ObjectAssociation> fields=adapter.getSpecification().getAssociations();
    for (int i=0; i < fields.size(); i++) {
      final ObjectAssociation field=fields.get(i);
      final ObjectAdapter obj=field.get(adapter);
      final String name=field.getId();
      graphIndent(level,s);
      if (field.isVisible(authenticationSession,adapter).isVetoed()) {
        s.append(name + ": (not visible)");
        s.append("\n");
      }
 else {
        if (obj == null) {
          s.append(name + ": null\n");
        }
 else {
          if (ignoreAdapters.contains(obj)) {
            s.append(name + ": " + obj+ "*\n");
          }
 else {
            s.append(name + ": " + obj);
            graph(obj,level + 1,ignoreAdapters,authenticationSession,s);
          }
        }
      }
    }
  }
 catch (  final RuntimeException e) {
    s.appendException(e);
  }
}
