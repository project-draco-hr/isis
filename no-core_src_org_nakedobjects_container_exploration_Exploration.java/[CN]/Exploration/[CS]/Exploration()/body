{
  try {
    Properties p=Configuration.loadProperties("log4j.properties");
    PropertyConfigurator.configure(p);
  }
 catch (  ConfigurationException e) {
    BasicConfigurator.configure();
  }
  Logger.getRootLogger().setLevel(Level.WARN);
  SplashWindow splash=null;
  try {
    String name=this.getClass().getName();
    name=name.substring(name.lastIndexOf('.') + 1);
    ConfigurationFactory.setConfiguration(new Configuration(DEFAULT_CONFIG));
    if (ConfigurationFactory.getConfiguration().getString(SHOW_EXPLORATION_OPTIONS) == null) {
      ConfigurationFactory.getConfiguration().add(SHOW_EXPLORATION_OPTIONS,"yes");
    }
    PropertyConfigurator.configure(ConfigurationFactory.getConfiguration().getProperties("log4j"));
    Logger log=Logger.getLogger("Naked Objects");
    log.info(AboutNakedObjects.getName());
    log.info(AboutNakedObjects.getVersion());
    log.info(AboutNakedObjects.getBuildId());
    boolean noSplash=ConfigurationFactory.getConfiguration().getBoolean("nosplash",false);
    if (!noSplash) {
      splash=new SplashWindow();
    }
    setUpLocale();
    explorationSetUp=explorationSetup();
    setUpFixtures();
    explorationSetUp.installFixtures();
    ObjectViewingMechanism viewer=setupViewer();
    viewer.start();
    splash.toFront();
  }
 catch (  ConfigurationException e) {
    throw new NakedObjectRuntimeException(e);
  }
 finally {
    if (splash != null) {
      splash.removeAfterDelay(4);
    }
  }
}
