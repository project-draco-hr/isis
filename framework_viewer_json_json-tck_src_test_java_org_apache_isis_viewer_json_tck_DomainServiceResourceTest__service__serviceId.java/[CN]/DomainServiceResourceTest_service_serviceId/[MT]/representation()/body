{
  Response resp=resource.service("simples");
  RestfulResponse<DomainObjectRepresentation> jsonResp=RestfulResponse.of(resp,DomainObjectRepresentation.class);
  assertThat(jsonResp.getStatus(),is(HttpStatusCode.OK));
  assertThat(jsonResp.getHeader(RestfulResponse.Header.CONTENT_TYPE),is(MediaType.APPLICATION_JSON_TYPE));
  assertThat(jsonResp.getHeader(RestfulResponse.Header.CACHE_CONTROL).isNoCache(),is(true));
  assertThat(jsonResp.getHeader(RestfulResponse.Header.X_REPRESENTATION_TYPE),is(RepresentationType.DOMAIN_OBJECT));
  DomainObjectRepresentation repr=jsonResp.getEntity();
  assertThat(repr,isMap());
  assertThat(repr.getSelf(),isLink().method(Method.GET));
  assertThat(repr.getOid(),matches("OID[:].+"));
  assertThat(repr.getTitle(),matches("Simples"));
  assertThat(repr.getMembers(),isArray());
  assertThat(repr.getLinks(),isArray());
  assertThat(repr.getExtensions(),isMap());
}
