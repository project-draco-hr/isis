{
  BufferedReader reader=null;
  try {
    reader=getReader();
    if (reader == null) {
      return "No help available (no file found)";
    }
    final String className=CLASS_PREFIX + identifier.getClassName().toLowerCase();
    final String name=NAME_PREFIX + identifier.getMemberName().toLowerCase();
    final StringBuffer str=new StringBuffer();
    String line;
    boolean lookingForClass=true;
    boolean lookingForName=identifier.getMemberName().length() > 0;
    while ((line=reader.readLine()) != null) {
      if (line.length() > 0 && line.charAt(0) == '#') {
        continue;
      }
      if (line.toLowerCase().equals(className)) {
        lookingForClass=false;
        continue;
      }
      if (lookingForClass) {
        continue;
      }
 else       if (line.toLowerCase().startsWith(CLASS_PREFIX)) {
        break;
      }
      if (line.toLowerCase().equals(name)) {
        lookingForName=false;
        continue;
      }
      if (lookingForName) {
        continue;
      }
 else       if (line.toLowerCase().startsWith(NAME_PREFIX)) {
        break;
      }
      str.append(line);
      str.append('\n');
    }
    return str.toString();
  }
 catch (  final FileNotFoundException e) {
    LOG.error("opening help file",e);
    return "Failure opening help file: " + e.getMessage();
  }
catch (  final IOException e) {
    LOG.error("reading help file",e);
    return "Failure reading help file: " + e.getMessage();
  }
 finally {
    if (reader != null) {
      try {
        reader.close();
      }
 catch (      final IOException ignore) {
      }
    }
  }
}
