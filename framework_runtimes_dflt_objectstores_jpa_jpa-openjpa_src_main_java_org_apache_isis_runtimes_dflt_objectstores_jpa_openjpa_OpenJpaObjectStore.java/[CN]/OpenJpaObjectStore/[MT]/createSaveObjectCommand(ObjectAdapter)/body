{
  ensureOpened();
  ensureInSession();
  if (!adapter.isPersistent()) {
    throw new IllegalArgumentException("Adapter is not persistent; adapter: " + adapter);
  }
  if (LOG.isDebugEnabled()) {
    LOG.debug("save object - creating command for: " + adapter);
  }
  return new JpaUpdateObjectCommand(adapter,getEntityManager());
}
