{
  ensureOpened();
  ensureInTransaction();
  if (LOG.isDebugEnabled()) {
    LOG.debug("getObject; oid=" + oid);
  }
  if (oid instanceof AggregatedOid) {
    throw new UnsupportedOperationException("Cannot retrieve aggregated objects directly, oid: " + oid.enString());
  }
  final RootOid rootOid=(RootOid)oid;
  Object result=null;
  try {
    final Class<?> cls=clsOf(rootOid);
    final Object idPropValue=idValueOf(rootOid);
    result=getEntityManager().find(cls,idPropValue);
  }
 catch (  final RuntimeException e) {
    throw e;
  }
  if (result == null) {
    throw new ObjectNotFoundException(oid);
  }
  final ObjectAdapter adapter=hydrator.recreateAdapter(oid,result);
  return adapter;
}
