{
  for (  ObjectAction action : actions) {
    Consent visibility=action.isVisible(getSession(),objectAdapter);
    if (!visibility.isAllowed()) {
      continue;
    }
    if (action.getType().isSet()) {
      ObjectActionSet objectActionSet=(ObjectActionSet)action;
      List<ObjectAction> subactions=objectActionSet.getActions();
      withActions(objectAdapter,subactions);
    }
 else {
      final String id=action.getId();
      JsonRepresentation actionRep=ActionRepBuilder.newBuilder(repContext.underAttribute(id),objectAdapter,action).build();
      withMember(id,actionRep);
    }
  }
}
