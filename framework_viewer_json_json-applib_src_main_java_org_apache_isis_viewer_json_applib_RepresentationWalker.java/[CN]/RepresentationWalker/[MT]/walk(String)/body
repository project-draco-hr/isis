{
  Step previousStep=currentStep();
  if (previousStep.error != null) {
    return;
  }
  RestfulResponse<? extends JsonRepresentation> jsonResponse=previousStep.response;
  JsonRepresentation entity;
  try {
    entity=jsonResponse.getEntity();
  }
 catch (  Exception e) {
    addStep(key,null,null,null,"exception: " + e.getMessage(),e);
    return;
  }
  Link link;
  try {
    link=entity.getLink(key);
  }
 catch (  Exception e) {
    addStep(key,null,null,null,"exception: " + e.getMessage(),e);
    return;
  }
  if (link == null) {
    addStep(key,null,null,null,"no such link '" + key + "'",null);
    return;
  }
  Response response;
  try {
    response=restfulClient.follow(link);
  }
 catch (  Exception e) {
    addStep(key,link,null,null,"failed to follow link: " + e.getMessage(),e);
    return;
  }
  addStep(key,link,null,RestfulResponse.of(response,JsonRepresentation.class),null,null);
}
