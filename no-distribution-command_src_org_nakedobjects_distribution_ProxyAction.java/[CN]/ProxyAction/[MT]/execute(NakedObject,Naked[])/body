{
  if (executeRemotely(target)) {
    Data[] parameterObjectData=parameterValues(parameters);
    LOG.debug(debug("execute remotely",getIdentifier(),target,parameters));
    ObjectData targetReference=dataFactory.createDataForActionTarget(target);
    Data result;
    try {
      result=connection.executeAction(NakedObjects.getCurrentSession(),getType().getName(),getIdentifier().getName(),targetReference,parameterObjectData);
    }
 catch (    NakedObjectRuntimeException e) {
      LOG.error("remote exception " + e.getMessage(),e);
      throw e;
    }
    Naked returnedObject;
    returnedObject=result instanceof NullData ? null : DataHelper.restore(result);
    return returnedObject;
  }
 else {
    LOG.debug(debug("execute locally",getIdentifier(),target,parameters));
    return super.execute(target,parameters);
  }
}
