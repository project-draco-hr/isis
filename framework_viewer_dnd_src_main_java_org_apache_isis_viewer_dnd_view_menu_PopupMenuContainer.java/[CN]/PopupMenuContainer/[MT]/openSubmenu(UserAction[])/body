{
  markDamaged();
  submenu=new PopupMenu(this);
  submenu.setParent(this);
  submenu.show(target,options,backgroundColor);
  invalidateLayout();
  final Size size=getRequiredSize(Size.createMax());
  setSize(size);
  layout();
  isLayoutInvalid=false;
  markDamaged();
}
