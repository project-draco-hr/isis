{
  user.getName().setValue(rs.getString("name"));
  long rootObjectId=rs.getLong("root_object");
  if (rootObjectId != 0) {
    String rootObjectClass=rs.getString("root_class");
    SerialOid rootObjectOid=new SerialOid(rootObjectId);
    NakedObject rootObject;
    if (loadedObjects.isLoaded(rootObjectOid)) {
      rootObject=loadedObjects.getLoadedObject(rootObjectOid);
    }
 else {
      NakedObjectSpecification nc=NakedObjectSpecification.getNakedClass(rootObjectClass);
      rootObject=(NakedObject)nc.acquireInstance();
      rootObject.setOid(rootObjectOid);
      loadedObjects.loaded(rootObject);
    }
    user.setRootObject(rootObject);
  }
}
