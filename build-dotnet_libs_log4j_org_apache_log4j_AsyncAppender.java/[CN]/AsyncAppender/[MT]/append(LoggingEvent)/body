{
  event.getNDC();
  event.getThreadName();
  event.getMDCCopy();
  if (locationInfo) {
    event.getLocationInformation();
  }
synchronized (bf) {
    while (bf.isFull()) {
      try {
        bf.wait();
      }
 catch (      InterruptedException e) {
        if (!interruptedWarningMessage) {
          interruptedWarningMessage=true;
          LogLog.warn("AsyncAppender interrupted.",e);
        }
 else {
          LogLog.warn("AsyncAppender interrupted again.");
        }
      }
    }
    bf.put(event);
    if (bf.wasEmpty()) {
      bf.notify();
    }
  }
}
