{
  try {
    ServletRequestContext context=null;
    HttpSession httpSession=request.getSession(false);
    if (httpSession != null) {
      context=(ServletRequestContext)httpSession.getAttribute("scimpi-context");
    }
    if (context == null || !context.isValid()) {
      context=new ServletRequestContext();
    }
    context.startRequest(request,response,getServletContext());
    dispatcher.process(context,request.getServletPath());
  }
 catch (  RuntimeException e) {
    LOG.error("servlet exception",e);
    throw e;
  }
}
