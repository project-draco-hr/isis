{
  final List<CssMenuItem> itemsWithSeparators=Lists.newArrayList();
  for (  CssMenuItem menuItem : subMenuItems) {
    if (menuItem.isSeparator()) {
      if (!itemsWithSeparators.isEmpty()) {
        itemsWithSeparators.add(CssMenuItem.newMenuItem(menuItem.getName() + "-separator").separator(menuItem.isSeparator()).prototyping(menuItem.isPrototyping()).build());
      }
      menuItem.setSeparator(false);
    }
    itemsWithSeparators.add(menuItem);
  }
  return itemsWithSeparators;
}
