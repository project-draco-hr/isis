{
  LogLevel logLevel=null;
  if (level != null) {
    level=level.trim().toUpperCase();
    logLevel=(LogLevel)_logLevelMap.get(level);
  }
  if (logLevel == null && _registeredLogLevelMap.size() > 0) {
    logLevel=(LogLevel)_registeredLogLevelMap.get(level);
  }
  if (logLevel == null) {
    StringBuffer buf=new StringBuffer();
    buf.append("Error while trying to parse (" + level + ") into");
    buf.append(" a LogLevel.");
    throw new LogLevelFormatException(buf.toString());
  }
  return logLevel;
}
