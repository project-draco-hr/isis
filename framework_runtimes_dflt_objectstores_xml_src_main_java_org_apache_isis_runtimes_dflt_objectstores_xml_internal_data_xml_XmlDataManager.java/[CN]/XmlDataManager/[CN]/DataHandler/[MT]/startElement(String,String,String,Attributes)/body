{
  if (object != null) {
    if (tagName.equals("value")) {
      fieldName=attributes.getValue("field");
      data.setLength(0);
    }
 else     if (tagName.equals("association")) {
      final String fieldName=attributes.getValue("field");
      final long id=Long.valueOf(attributes.getValue("ref"),16).longValue();
      object.set(fieldName,SerialOid.createPersistent(id));
    }
 else     if (tagName.equals("element")) {
      final long id=Long.valueOf(attributes.getValue("ref"),16).longValue();
      object.addElement(fieldName,SerialOid.createPersistent(id));
    }
 else     if (tagName.equals("multiple-association")) {
      fieldName=attributes.getValue("field");
      object.initCollection(fieldName);
    }
  }
 else   if (collection != null) {
    if (tagName.equals("element")) {
      final long id=Long.valueOf(attributes.getValue("ref"),16).longValue();
      collection.addElement(SerialOid.createPersistent(id));
    }
  }
 else {
    if (tagName.equals("isis")) {
      final String typeName=attributes.getValue("type");
      final long version=Long.valueOf(attributes.getValue("ver"),16).longValue();
      final String user=attributes.getValue("user");
      final long id=Long.valueOf(attributes.getValue("id"),16).longValue();
      final ObjectSpecification spec=IsisContext.getSpecificationLoader().loadSpecification(typeName);
      final SerialOid oid=SerialOid.createPersistent(id);
      object=new ObjectData(spec,oid,new FileVersion(user,version));
    }
 else     if (tagName.equals("collection")) {
      final String type=attributes.getValue("type");
      final long version=Long.valueOf(attributes.getValue("ver"),16).longValue();
      final String user=attributes.getValue("user");
      final long id=Long.valueOf(attributes.getValue("id"),16).longValue();
      final ObjectSpecification spec=IsisContext.getSpecificationLoader().loadSpecification(type);
      final SerialOid oid=SerialOid.createPersistent(id);
      collection=new CollectionData(spec,oid,new FileVersion(user,version));
    }
 else {
      throw new SAXException("Invalid data");
    }
  }
}
