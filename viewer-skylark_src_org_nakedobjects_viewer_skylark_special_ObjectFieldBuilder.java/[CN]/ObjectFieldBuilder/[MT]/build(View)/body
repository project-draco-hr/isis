{
  Assert.assertEquals(view.getView(),view);
  NakedObject object=((ObjectContent)view.getContent()).getObject();
  LOG.debug("rebuild view " + view + " for "+ object);
  NakedObjectSpecification cls=object.getSpecification();
  FieldSpecification[] flds=cls.getVisibleFields(object,ClientSession.getSession());
  if (view.getSubviews().length == 0) {
    newBuild(view,object,flds);
  }
 else {
    updateBuild(view,object,flds);
  }
}
