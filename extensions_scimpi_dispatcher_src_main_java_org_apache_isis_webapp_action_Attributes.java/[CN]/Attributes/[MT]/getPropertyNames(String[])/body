{
  Vector attributes=tagNode.getAttributesEx();
  String[] names=new String[attributes.size()];
  int i=0;
  names:   for (Enumeration e=attributes.elements(); e.hasMoreElements(); ) {
    String name=((Attribute)e.nextElement()).getName();
    if (name == null) {
      continue;
    }
    for (int j=0; j < excluding.length; j++) {
      if (name.equals(excluding[j])) {
        continue names;
      }
    }
    if (tagNode.getAttribute(name) != null) {
      names[i++]=name;
    }
  }
  String[] array=new String[i];
  System.arraycopy(names,0,array,0,i);
  return array;
}
