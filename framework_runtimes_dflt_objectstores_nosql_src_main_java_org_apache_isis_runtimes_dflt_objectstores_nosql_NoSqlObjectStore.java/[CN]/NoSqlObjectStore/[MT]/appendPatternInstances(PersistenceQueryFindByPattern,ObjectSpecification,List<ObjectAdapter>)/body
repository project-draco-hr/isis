{
  final Iterator<StateReader> instanceData=database.instancesOf(specification.getSpecId(),persistenceQuery.getPattern());
  while (instanceData.hasNext()) {
    final StateReader reader=instanceData.next();
    final ObjectAdapter instance=objectReader.load(reader,versionCreator,availableDataEncrypters);
    instances.add(instance);
  }
  for (  final ObjectSpecification spec : specification.subclasses()) {
    appendPatternInstances(persistenceQuery,spec,instances);
  }
}
