{
  ObjectAdapter adapter=getModel().getObject();
  ObjectSpecification typeOfSpec;
  PackageResource imageResource=null;
  if (adapter != null) {
    typeOfSpec=adapter.getSpecification();
    IconFacet iconFacet=typeOfSpec.getFacet(IconFacet.class);
    if (iconFacet != null) {
      String iconName=iconFacet.iconName(adapter);
      imageResource=getImageCache().findImage(iconName);
    }
  }
  if (imageResource == null) {
    typeOfSpec=getModel().getTypeOfSpecification();
    imageResource=getImageCache().findImage(typeOfSpec);
  }
  if (imageResource != null) {
    addOrReplace(new Image(ID_ENTITY_IMAGE,imageResource));
  }
 else {
    permanentlyHide(ID_ENTITY_IMAGE);
  }
}
