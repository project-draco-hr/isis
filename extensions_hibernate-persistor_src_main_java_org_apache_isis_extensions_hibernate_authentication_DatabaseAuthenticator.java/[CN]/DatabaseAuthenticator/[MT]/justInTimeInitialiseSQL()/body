{
  if (!initializedSQL) {
    try {
      HibernateUtil.startTransaction();
      final DatabaseMetaData dbm=HibernateUtil.getCurrentSession().connection().getMetaData();
      HibernateUtil.commitTransaction();
      final String databaseType=getDBType(dbm.getURL());
      SELECT_USER_SQL=IsisContext.getConfiguration().getString(SELECT_USER_CFG + DEFAULT_CFG,SELECT_USER_SQL);
      SELECT_ROLES_SQL=getConfiguration().getString(SELECT_ROLES_CFG + DEFAULT_CFG,SELECT_ROLES_SQL);
      SELECT_USER_SQL=IsisContext.getConfiguration().getString(SELECT_USER_CFG + databaseType,SELECT_USER_SQL);
      SELECT_ROLES_SQL=IsisContext.getConfiguration().getString(SELECT_ROLES_CFG + databaseType,SELECT_ROLES_SQL);
    }
 catch (    final Exception e) {
      HibernateUtil.rollbackTransaction();
      throw new IsisException(e);
    }
    initializedSQL=true;
  }
}
