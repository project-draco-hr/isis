{
  try {
    HibernateUtil.startTransaction();
    final SQLQuery sq=HibernateUtil.getCurrentSession().createSQLQuery(SELECT_ROLES_SQL);
    sq.setString(0,request.getName());
    sq.addScalar("rr",Hibernate.STRING);
    final List<String> roles=sq.list();
    HibernateUtil.commitTransaction();
    request.setRoles(roles);
  }
 catch (  final Exception e) {
    HibernateUtil.rollbackTransaction();
    throw new IsisException(e);
  }
}
