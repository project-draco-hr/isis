{
  WebMarkupContainer header=new WebMarkupContainer(ID_HEADER){
    @Override protected void onConfigure(){
      super.onConfigure();
      setVisible(showHeader);
    }
  }
;
  addOrReplace(header);
  ObjectAdapter targetAdapter=null;
  try {
    targetAdapter=getActionModel().getTargetAdapter();
    getComponentFactoryRegistry().addOrReplaceComponent(this,ComponentType.PARAMETERS,getActionModel());
    getComponentFactoryRegistry().addOrReplaceComponent(header,ComponentType.ENTITY_ICON_AND_TITLE,new EntityModel(targetAdapter));
    final String actionName=getActionModel().getActionMemento().getAction().getName();
    header.add(new Label(ID_ACTION_NAME,Model.of(actionName)));
  }
 catch (  final ConcurrencyException ex) {
    if (targetAdapter == null) {
      targetAdapter=getModel().getTargetAdapter();
    }
    ActionResultResponse resultResponse=ActionResultResponseType.OBJECT.interpretResult(this.getActionModel(),targetAdapter,ex);
    resultResponse.getHandlingStrategy().handleResults(this,resultResponse);
    getMessageBroker().addWarning(ex.getMessage());
  }
}
