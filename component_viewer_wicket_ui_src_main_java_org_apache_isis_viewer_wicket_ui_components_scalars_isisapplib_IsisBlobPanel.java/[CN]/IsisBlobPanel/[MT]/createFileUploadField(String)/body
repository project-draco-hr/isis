{
  final FileUploadField fileUploadField=new FileUploadField(componentId,new IModel<List<FileUpload>>(){
    private static final long serialVersionUID=1L;
    @Override public void setObject(    final List<FileUpload> fileUploads){
      if (fileUploads == null || fileUploads.isEmpty()) {
        return;
      }
      final FileUpload fileUpload=fileUploads.get(0);
      final String contentType=fileUpload.getContentType();
      final String clientFileName=fileUpload.getClientFileName();
      final byte[] bytes=fileUpload.getBytes();
      final Blob blob=new Blob(clientFileName,contentType,bytes);
      final ObjectAdapter adapter=getAdapterManager().adapterFor(blob);
      getModel().setObject(adapter);
    }
    @Override public void detach(){
    }
    @Override public List<FileUpload> getObject(){
      return null;
    }
  }
);
  return fileUploadField;
}
