{
  if (state == null) {
    return null;
  }
 else {
    NakedObjectSpecification spec=NakedObjects.getSpecificationLoader().loadSpecification(state.className);
    PojoAdapterFactory objectLoader=NakedObjects.getPojoAdapterFactory();
    NakedObject object;
    if (getOid() == null) {
      object=objectLoader.createTransientInstance(spec);
    }
 else {
      object=objectLoader.recreateAdapter(getOid(),spec);
    }
    LOG.debug("Recreated object " + object.getOid());
    updateObject(object);
    return object;
  }
}
