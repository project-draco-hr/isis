{
  NakedObjectLoader objectLoader=NakedObjects.getObjectLoader();
synchronized (objectLoader) {
    Oid oid=data.oid;
    NakedObject ref;
    if (oid == null) {
      ref=null;
    }
 else {
      NakedObjectSpecification spec=NakedObjects.getSpecificationLoader().loadSpecification(data.className);
      ref=objectLoader.recreateAdapterForPersistent(oid,spec);
    }
    return ref;
  }
}
