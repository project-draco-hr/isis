{
  final List<T> instances=allMatches(type,pattern);
  if (instances.size() > 1) {
    throw new RepositoryException("Found more that one instance of " + type + " matching pattern "+ pattern);
  }
  return firstInstanceElseNull(instances);
}
