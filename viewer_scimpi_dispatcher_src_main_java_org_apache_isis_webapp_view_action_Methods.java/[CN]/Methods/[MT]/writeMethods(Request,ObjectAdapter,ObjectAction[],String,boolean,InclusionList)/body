{
  actions=inclusionList.includedActions(actions);
  for (int j=0; j < actions.length; j++) {
    ObjectAction action=actions[j];
    if (action instanceof ObjectActionSet) {
      request.appendHtml("<div class=\"actions\">");
      writeMethods(request,adapter,action.getActions(),objectId,showForms,inclusionList);
      request.appendHtml("</div>");
    }
 else     if (action.isContributed() && action.getParameterCount() == 1 && adapter.getSpecification().isOfType(action.getParameters()[0].getSpecification())) {
      if (objectId != null) {
        ObjectAdapter target=(ObjectAdapter)request.getContext().getMappedObject(objectId);
        ObjectAdapter realTarget=action.realTarget(target);
        String realTargetId=request.getContext().mapObject(realTarget,Scope.INTERACTION);
        writeMethod(request,adapter,new String[]{objectId},action,realTargetId,showForms);
      }
 else {
        request.appendHtml("<div class=\"action\">" + action.getName() + "???</div>");
      }
    }
 else {
      writeMethod(request,adapter,new String[0],action,objectId,showForms);
    }
  }
}
