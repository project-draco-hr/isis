{
  if (this.viewFields != null) {
    return viewFields;
  }
  reflector();
  SecurityContext context=Session.getSession().getSecurityContext();
  Field[] viewFields=new Field[fields.length];
  int v=0;
  for (int i=0; i < fields.length; i++) {
    boolean useField=fields[i].canAccess(context,object);
    if (useField) {
      viewFields[v++]=fields[i];
    }
  }
  Field[] selectedFields=new Field[v];
  for (int i=0; i < selectedFields.length; i++) {
    selectedFields[i]=viewFields[i];
  }
  this.viewFields=selectedFields;
  return selectedFields;
}
