{
  NakedObjectManager objectManager=getObjectManager();
  if (createPersistentInstances) {
    objectManager.startTransaction();
  }
  NakedObject object;
  object=(NakedObject)forNakedClass().acquireInstance();
  object.setContext(getContext());
  object.created();
  if (createPersistentInstances) {
    try {
      getObjectManager().makePersistent(object);
      objectManager.endTransaction();
    }
 catch (    NotPersistableException e) {
      object=new NakedError("Failed to create instance of " + this);
      LOG.error("Failed to create instance of " + this,e);
    }
  }
  return object;
}
