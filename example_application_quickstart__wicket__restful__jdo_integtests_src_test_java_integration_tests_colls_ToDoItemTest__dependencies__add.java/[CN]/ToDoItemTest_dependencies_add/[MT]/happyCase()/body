{
  assertThat(toDoItem.getDependencies().size(),is(0));
  toDoItem.add(otherToDoItem);
  assertThat(toDoItem.getDependencies().size(),is(1));
  assertThat(toDoItem.getDependencies().first(),is(unwrap(otherToDoItem)));
  @SuppressWarnings("unchecked") final CollectionAddedToEvent<ToDoItem,ToDoItem> ev=toDoItemSubscriptions.mostRecentlyReceivedEvent(CollectionAddedToEvent.class);
  assertThat(ev,is(not(nullValue())));
  ToDoItem source=ev.getSource();
  assertThat(source,is(equalTo(unwrap(toDoItem))));
  assertThat(ev.getIdentifier().getMemberName(),is("dependencies"));
  assertThat(ev.getValue(),is(unwrap(otherToDoItem)));
}
