{
  super.setUp();
  mockSpecificationLookup=context.mock(SpecificationLoader.class);
  mockAdapterMap=context.mock(AdapterManager.class);
  mockLocalizationProvider=context.mock(LocalizationProvider.class);
  objectAdapter=context.mock(ObjectAdapter.class);
  facetFactory=new TitleAnnotationFacetFactory();
  facetFactory.setAdapterManager(mockAdapterMap);
  facetFactory.setSpecificationLookup(mockSpecificationLookup);
  facetFactory.setLocalizationProvider(mockLocalizationProvider);
  context.checking(new Expectations(){
{
      allowing(mockAdapterMap);
      allowing(mockSpecificationLookup);
      allowing(mockLocalizationProvider).getLocalization();
      will(returnValue(new LocalizationDefault()));
    }
  }
);
}
