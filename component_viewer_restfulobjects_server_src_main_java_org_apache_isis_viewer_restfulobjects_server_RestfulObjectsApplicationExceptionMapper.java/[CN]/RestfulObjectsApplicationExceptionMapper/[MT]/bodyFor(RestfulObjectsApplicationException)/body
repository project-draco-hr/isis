{
  final JsonRepresentation jsonRepresentation=ex.getBody();
  if (jsonRepresentation != null) {
    return jsonRepresentation.toString();
  }
  Throwable cause=ex.getCause();
  if (cause == null) {
    return null;
  }
  try {
    return JsonMapper.instance().write(ExceptionPojo.create(cause));
  }
 catch (  final Exception e) {
    return "{ \"exception\": \"" + ExceptionUtils.getFullStackTrace(cause) + "\" }";
  }
}
