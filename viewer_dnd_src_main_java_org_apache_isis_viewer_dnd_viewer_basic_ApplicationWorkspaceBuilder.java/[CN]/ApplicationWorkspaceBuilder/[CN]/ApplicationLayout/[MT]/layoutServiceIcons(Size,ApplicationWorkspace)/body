{
  final Size size=view.getSize();
  size.contract(view.getPadding());
  final int maxHeight=size.getHeight();
  int xService=PADDING;
  int yService=PADDING;
  int maxServiceWidth=0;
  final View views[]=view.getServiceIconViews();
  for (int i=0; i < views.length; i++) {
    final View v=views[i];
    final Size componentSize=v.getRequiredSize(new Size(size));
    v.setSize(componentSize);
    final int height=componentSize.getHeight() + 6;
    final ObjectAdapter object=v.getContent().getAdapter();
    if (object.getSpecification().isService()) {
      if (yService + height > maxHeight) {
        yService=PADDING;
        xService+=maxServiceWidth + PADDING;
        maxServiceWidth=0;
        LOG.debug("creating new column at " + xService + ", "+ yService);
      }
      LOG.debug("service icon at " + xService + ", "+ yService);
      v.setLocation(new Location(xService,yService));
      maxServiceWidth=Math.max(maxServiceWidth,componentSize.getWidth());
      yService+=height;
    }
    v.limitBoundsWithin(maximumSize);
  }
  return xService + maxServiceWidth;
}
