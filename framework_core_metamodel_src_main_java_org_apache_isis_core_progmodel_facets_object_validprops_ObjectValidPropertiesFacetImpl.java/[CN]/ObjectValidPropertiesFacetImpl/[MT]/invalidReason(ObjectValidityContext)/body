{
  final StringBuilder buf=new StringBuilder();
  final ObjectAdapter adapter=context.getTarget();
  for (  final ObjectAssociation property : adapter.getSpecification().getAssociations(ObjectAssociationFilters.PROPERTIES)) {
    if (property.isVisible(context.getSession(),adapter,where).isVetoed()) {
      continue;
    }
    if (property.isUsable(context.getSession(),adapter,where).isVetoed()) {
      continue;
    }
    final OneToOneAssociation otoa=(OneToOneAssociation)property;
    final ObjectAdapter value=otoa.get(adapter);
    if (otoa.isAssociationValid(adapter,value).isVetoed()) {
      if (buf.length() > 0) {
        buf.append(", ");
      }
      buf.append(property.getName());
    }
  }
  if (buf.length() > 0) {
    return "Invalid properties: " + buf.toString();
  }
  return null;
}
