{
  final HttpServletRequest httpServletRequest=(HttpServletRequest)request;
  final HttpServletResponse httpServletResponse=(HttpServletResponse)response;
  if (!"/".equals(httpServletRequest.getServletPath())) {
    chain.doFilter(request,response);
    return;
  }
  final String acceptHeader=httpServletRequest.getHeader(ACCEPT_HEADER);
  if (acceptHeader != null && acceptHeader.startsWith(APPLICATION_JSON_MIME_TYPE)) {
    chain.doFilter(request,response);
    return;
  }
  httpServletResponse.sendRedirect(redirectTo);
}
