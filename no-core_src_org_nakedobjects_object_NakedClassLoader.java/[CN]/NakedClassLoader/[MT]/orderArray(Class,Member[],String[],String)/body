{
  if (order == null) {
    return original;
  }
 else {
    Member[] ordered=(Member[])Array.newInstance(memberType,original.length);
    int orderedIndex=0;
    ordering:     for (int orderIndex=0; orderIndex < order.length; orderIndex++) {
      for (int memberIndex=0; memberIndex < original.length; memberIndex++) {
        Member member=original[memberIndex];
        if (member == null) {
          continue;
        }
        if (member.getName().equalsIgnoreCase(order[orderIndex])) {
          ordered[orderedIndex++]=original[memberIndex];
          original[memberIndex]=null;
          continue ordering;
        }
      }
      LOG.error("Invalid ordering element '" + order[orderIndex] + "' in "+ nakedClassName);
    }
    Member[] results=(Member[])Array.newInstance(memberType,original.length);
    int index=0;
    for (int i=0; i < ordered.length; i++) {
      Member member=ordered[i];
      if (member != null) {
        results[index++]=member;
      }
    }
    for (int i=0; i < original.length; i++) {
      Member member=original[i];
      if (member != null) {
        results[index++]=member;
      }
    }
    return results;
  }
}
