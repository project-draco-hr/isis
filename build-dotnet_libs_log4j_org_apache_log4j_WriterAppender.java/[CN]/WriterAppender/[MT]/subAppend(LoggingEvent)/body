{
  this.qw.write(this.layout.format(event));
  if (layout.ignoresThrowable()) {
    String[] s=event.getThrowableStrRep();
    if (s != null) {
      int len=s.length;
      for (int i=0; i < len; i++) {
        this.qw.write(s[i]);
        this.qw.write(Layout.LINE_SEP);
      }
    }
  }
  if (this.immediateFlush) {
    this.qw.flush();
  }
}
