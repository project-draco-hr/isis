{
  super.setUp();
  algorithm=new DefaultPersistAlgorithm();
  object=system.createTransientTestObject();
  final TestProxySpecification spec=system.getSpecification(object);
  final ObjectAssociation[] fields=new ObjectAssociation[]{new OneToOneAssociationTest(){
    @Override public void initAssociation(    ObjectAdapter inObject,    ObjectAdapter associate){
    }
    @Override public Consent isAssociationValid(    ObjectAdapter inObject,    ObjectAdapter associate){
      return null;
    }
    @Override public void setAssociation(    ObjectAdapter inObject,    ObjectAdapter associate){
    }
    @Override public void set(    ObjectAdapter owner,    ObjectAdapter newValue){
    }
    @Override public ObjectAdapter get(    ObjectAdapter target){
      return null;
    }
    @Override public ObjectSpecification getSpecification(){
      return null;
    }
    @Override public String debugData(){
      return null;
    }
    @Override public String getId(){
      return null;
    }
    @Override public String getName(){
      return null;
    }
    @Override public FeatureType getFeatureType(){
      return FeatureType.PROPERTY;
    }
  }
};
  spec.setupFields(fields);
  fieldsObject=new TestProxyAdapter();
  fieldsObject.setupResolveState(ResolveState.TRANSIENT);
  fieldsObject.setupSpecification(system.getSpecification(String.class));
  adder=new PersistedObjectAdderSpy();
}
