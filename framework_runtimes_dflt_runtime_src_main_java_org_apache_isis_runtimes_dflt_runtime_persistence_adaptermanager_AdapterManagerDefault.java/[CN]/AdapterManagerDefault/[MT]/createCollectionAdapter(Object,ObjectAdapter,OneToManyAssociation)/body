{
  ensureMapsConsistent(parentAdapter);
  Assert.assertNotNull(pojo);
  final Oid parentOid=parentAdapter.getOid();
  final CollectionOid collectionOid=new CollectionOid((TypedOid)parentOid,otma);
  final ObjectAdapter collectionAdapter=createCollectionAdapterAndInferResolveState(pojo,collectionOid);
  final TypeOfFacet facet=otma.getFacet(TypeOfFacet.class);
  collectionAdapter.setElementSpecificationProvider(ElementSpecificationProviderFromTypeOfFacet.createFrom(facet));
  return collectionAdapter;
}
