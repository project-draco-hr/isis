{
  File dir=new File(DIRECTORY);
  if (!dir.exists()) {
    throw new RuntimeException("No directory " + dir);
  }
  System.out.println(dir.getAbsolutePath());
  files=dir.list();
  images=new Image[files.length];
  for (int i=0; i < files.length; i++) {
    String file=files[i];
    String url=DIRECTORY + file;
    Image image=Toolkit.getDefaultToolkit().createImage(url);
    if (image != null) {
      mt.addImage(image,0);
      try {
        mt.waitForAll();
      }
 catch (      Exception e) {
        e.printStackTrace();
      }
      if (mt.isErrorAny()) {
        System.err.println("Failed to load image from resource: " + url + " "+ mt.getErrorsAny()[0]);
        mt.removeImage(image);
        image=null;
      }
    }
    System.out.println("Image " + image + " loaded from "+ url);
    images[i]=image;
    if (images[i] == null) {
      System.err.println(file + " not loaded");
    }
  }
  addWindowListener(new WindowAdapter(){
    public void windowClosing(    final WindowEvent e){
      dispose();
    }
  }
);
  setSize(300,300);
  show();
}
