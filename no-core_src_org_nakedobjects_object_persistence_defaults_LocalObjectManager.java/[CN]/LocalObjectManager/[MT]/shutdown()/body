{
  try {
    LOG.info("shutting down " + this);
    if (transaction != null) {
      try {
        abortTransaction();
      }
 catch (      Exception e2) {
        ExceptionHelper.log(ActionTransaction.class,"Failure during abort",e2);
      }
    }
    objectsToBeSaved.shutdown();
    if (objectsToRefreshViewsFor != null) {
      objectsToRefreshViewsFor.shutdown();
    }
    oidGenerator.shutdown();
    oidGenerator=null;
    objectStore.shutdown();
    objectStore=null;
    nakedClasses.clear();
  }
 catch (  ObjectStoreException e) {
    throw new NakedObjectRuntimeException(e);
  }
  super.shutdown();
}
