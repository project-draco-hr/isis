{
  transactionLevel--;
  if (transactionLevel == 0) {
    try {
      saveChanges();
      getTransaction().commit(objectStore);
      transaction=null;
    }
 catch (    ObjectStoreException e) {
      throw new NakedObjectRuntimeException(e);
    }
  }
}
