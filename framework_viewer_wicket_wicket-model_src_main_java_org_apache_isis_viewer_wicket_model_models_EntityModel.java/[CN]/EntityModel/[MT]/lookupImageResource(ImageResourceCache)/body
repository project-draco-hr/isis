{
  PackageResource imageResource=null;
  try {
    final ObjectAdapter objectAdapter=getObject();
    ObjectSpecification typeOfSpec=objectAdapter.getSpecification();
    final IconFacet iconFacet=typeOfSpec.getFacet(IconFacet.class);
    if (iconFacet != null) {
      final String iconName=iconFacet.iconName(objectAdapter);
      imageResource=imageResourceCache.findImageResource(iconName);
    }
    if (imageResource != null) {
      return imageResource;
    }
    typeOfSpec=getTypeOfSpecification();
    imageResource=imageResourceCache.findImage(typeOfSpec);
    if (imageResource != null) {
      return imageResource;
    }
    return null;
  }
  finally {
    if (imageResource != null) {
      imageResource.setCacheable(true);
    }
  }
}
