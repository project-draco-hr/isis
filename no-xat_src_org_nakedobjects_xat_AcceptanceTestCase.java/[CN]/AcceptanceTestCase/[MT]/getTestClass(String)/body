{
  TestClass view=(TestClass)classes.get(name.toLowerCase());
  NakedObject object=(NakedObject)view.getForNaked();
  if (object.getResolveState().isPersistent()) {
    NakedObjects.getPersistenceManager().resolveImmediately(object);
  }
  if (view == null) {
    throw new IllegalArgumentException("Invalid class name " + name);
  }
 else {
    return view;
  }
}
