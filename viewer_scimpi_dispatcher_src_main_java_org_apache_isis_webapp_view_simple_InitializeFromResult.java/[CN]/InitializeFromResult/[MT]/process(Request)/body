{
  String name=request.getRequiredProperty(NAME);
  String defaultId=request.getOptionalProperty(DEFAULT);
  String objectId=request.getOptionalProperty(OBJECT);
  String scopeName=request.getOptionalProperty(SCOPE);
  Scope scope=RequestContext.scope(scopeName,Scope.REQUEST);
  if (defaultId != null && objectId != null) {
    throw new ScimpiException("Cannot specify both " + OBJECT + " and "+ DEFAULT+ " for the "+ getName()+ " element");
  }
  String className=request.getOptionalProperty(TYPE);
  Class<?> cls=null;
  if (className != null) {
    try {
      cls=Class.forName(className);
    }
 catch (    ClassNotFoundException e) {
      throw new ScimpiException("No class for " + className,e);
    }
  }
  if (objectId == null) {
    objectId=(String)request.getContext().getVariable(RequestContext.RESULT);
  }
  initialize(request,name,objectId,defaultId,cls,scope);
}
