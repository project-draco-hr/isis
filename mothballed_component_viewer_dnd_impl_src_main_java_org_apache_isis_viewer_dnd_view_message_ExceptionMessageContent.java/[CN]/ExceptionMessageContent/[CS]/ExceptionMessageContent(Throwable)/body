{
  String fullName=error.getClass().getName();
  fullName=fullName.substring(fullName.lastIndexOf('.') + 1);
  name=StringExtensions.asNaturalName2(fullName);
  message=error.getMessage();
  trace=ThrowableExtensions.stackTraceFor(error);
  if (trace.indexOf("\tat") != -1) {
    trace=trace.substring(trace.indexOf("\tat"));
  }
  if (name == null) {
    name="";
  }
  if (message == null) {
    message="";
  }
  if (trace == null) {
    trace="";
  }
  if (error instanceof IsisApplicationException) {
    title="Application Error";
    icon="application-error";
  }
 else   if (error instanceof ConcurrencyException) {
    title="Concurrency Error";
    icon="concurrency-error";
  }
 else {
    title="System Error";
    icon="system-error";
  }
}
