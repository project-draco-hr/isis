{
  AuthenticationSession session=context.getSession();
  if (session == null) {
    throw new NotLoggedInException();
  }
  String parentId=context.getParameter(OBJECT);
  String rowId=context.getParameter(ELEMENT);
  try {
    ObjectAdapter parent=(ObjectAdapter)context.getMappedObject(parentId);
    ObjectAdapter row=(ObjectAdapter)context.getMappedObject(rowId);
    String fieldName=context.getParameter(FIELD);
    ObjectAssociation field=parent.getSpecification().getAssociation(fieldName);
    if (field == null) {
      throw new ScimpiException("No field " + fieldName + " in "+ parent.getSpecification().getFullIdentifier());
    }
    if (field.isVisible(IsisContext.getAuthenticationSession(),parent).isVetoed()) {
      throw new ForbiddenException(field,ForbiddenException.VISIBLE);
    }
    ((OneToManyAssociation)field).removeElement(parent,row);
    String view=context.getParameter(VIEW);
    String override=context.getParameter(RESULT_OVERRIDE);
    String resultName=context.getParameter(RESULT_NAME);
    resultName=resultName == null ? RequestContext.RESULT : resultName;
    String id=context.mapObject(parent,Scope.REQUEST);
    context.addVariable(resultName,id,Scope.REQUEST);
    if (override != null) {
      context.addVariable(resultName,override,Scope.REQUEST);
    }
    int questionMark=view == null ? -1 : view.indexOf("?");
    if (questionMark > -1) {
      String params=view.substring(questionMark + 1);
      int equals=params.indexOf("=");
      context.addVariable(params.substring(0,equals),params.substring(equals + 1),Scope.REQUEST);
      view=view.substring(0,questionMark);
    }
    context.setRequestPath(view);
  }
 catch (  RuntimeException e) {
    IsisContext.getMessageBroker().getMessages();
    IsisContext.getMessageBroker().getWarnings();
    IsisContext.getUpdateNotifier().clear();
    IsisContext.getUpdateNotifier().clear();
    throw e;
  }
}
