{
  final String targetStr=target.toString();
  final Timestamp fromTs=toTimestampStartOfDayWithOffset(from,0);
  final Timestamp toTs=toTimestampStartOfDayWithOffset(to,1);
  final Query<PublishedEventJdo> query;
  if (from != null) {
    if (to != null) {
      query=new QueryDefault<PublishedEventJdo>(PublishedEventJdo.class,"findByTargetAndTimestampBetween","targetStr",targetStr,"from",fromTs,"to",toTs);
    }
 else {
      query=new QueryDefault<PublishedEventJdo>(PublishedEventJdo.class,"findByTargetAndTimestampAfter","targetStr",targetStr,"from",fromTs);
    }
  }
 else {
    if (to != null) {
      query=new QueryDefault<PublishedEventJdo>(PublishedEventJdo.class,"findByTargetAndTimestampBefore","targetStr",targetStr,"to",toTs);
    }
 else {
      query=new QueryDefault<PublishedEventJdo>(PublishedEventJdo.class,"findByTarget","targetStr",targetStr);
    }
  }
  return allMatches(query);
}
