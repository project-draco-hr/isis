{
  File dir=new File(directoryPath == null || directoryPath.length() == 0 ? "." : directoryPath);
  if (!dir.exists()) {
    dir.mkdirs();
  }
  File indexFile=new File(dir,"index.txt");
  Date date=new Date();
  extension=extension == null || extension.length() == 0 ? "log" : extension;
  File logFile=new File(dir,baseFileName + FORMAT.format(date) + "."+ extension);
  RandomAccessFile index=new RandomAccessFile(indexFile,"rw");
  index.seek(index.length());
  index.writeBytes(logFile.getName() + ": " + message+ "\n");
  index.close();
  os=new PrintStream(new FileOutputStream(logFile));
}
