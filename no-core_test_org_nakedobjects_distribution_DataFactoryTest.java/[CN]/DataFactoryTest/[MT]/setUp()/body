{
  LogManager.getRootLogger().setLevel(Level.OFF);
  system=new TestSystem();
  objectLoader=new DummyObjectLoader();
  system.setObjectLoader(objectLoader);
  system.init();
  factory=new DummyObjectDataFactory();
  rootSpecification=new DummyNakedObjectSpecification();
  rootSpecification.fields=new NakedObjectField[3];
  rootObject=new DummyNakedObject();
  rootObject.setupVersion(new TestVersion(11));
  rootObject.setupResolveState(ResolveState.RESOLVED);
  rootObject.setupSpecification(rootSpecification);
  referencedSpecification=new DummyNakedObjectSpecification();
  referencedSpecification.fields=new NakedObjectField[1];
  rootSpecification.fields[0]=new DummyField("one",referencedSpecification);
  referencedObjectField=new DummyNakedObject();
  referencedObjectField.setupVersion(new TestVersion(12));
  referencedObjectField.setupResolveState(ResolveState.RESOLVED);
  referencedObjectField.setupSpecification(referencedSpecification);
  rootObject.setupFieldValue("one",referencedObjectField);
  valueField=new DummyNakedValue();
  value=new Date();
  valueField.setupObject(value);
  valueSpecification=valueField.getSpecification();
  rootSpecification.fields[1]=new DummyField("two",valueSpecification);
  rootObject.setupFieldValue("two",valueField);
  emtpyFieldSpecification=new DummyNakedObjectSpecification();
  emtpyFieldSpecification.fields=new NakedObjectField[0];
  rootSpecification.fields[2]=new DummyField("three",emtpyFieldSpecification);
  referencedReferencedSpecification=new DummyNakedObjectSpecification();
  referencedReferencedSpecification.fields=new NakedObjectField[0];
  referencedSpecification.fields[0]=new DummyField("four",referencedSpecification);
  referencedReferencedObjectField=new DummyNakedObject();
  referencedReferencedObjectField.setupVersion(new TestVersion(13));
  referencedReferencedObjectField.setupResolveState(ResolveState.RESOLVED);
  referencedReferencedObjectField.setupSpecification(referencedReferencedSpecification);
  referencedObjectField.setupFieldValue("four",referencedReferencedObjectField);
}
