{
  final IsisTransaction transaction=getTransactionManager().getTransaction();
  if (transaction == null) {
    return;
  }
  if (transaction.getState() == IsisTransaction.State.MUST_ABORT) {
    getTransactionManager().abortTransaction();
  }
 else   if (transaction.getState() == IsisTransaction.State.IN_PROGRESS) {
    getTransactionManager().endTransaction();
  }
}
