{
  List<ExceptionRecognizer> exceptionRecognizers=getServicesInjector().lookupServices(ExceptionRecognizer.class);
  String message=new ExceptionRecognizerComposite(exceptionRecognizers).recognize(ex);
  final ErrorPage page=message != null ? new ErrorPage(message) : new ErrorPage(ex);
  return page;
}
