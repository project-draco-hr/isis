{
  Boolean b=(Boolean)cache.get(token);
  boolean retval;
  if (b != null)   return b.booleanValue();
switch (type) {
case '*':
case '?':
case '+':
case 0:
    if (content instanceof String)     retval=(content == token);
 else     retval=((ContentModel)content).first(token);
  break;
case ',':
if (content instanceof String) retval=(content == token);
 else if (((ContentModel)content).first(token)) retval=true;
 else if (!((ContentModel)content).empty()) retval=false;
 else if (next != null) retval=((ContentModel)next).first(token);
 else retval=false;
break;
case '|':
if (content instanceof String && content == token) retval=true;
 else if (((ContentModel)content).first(token)) retval=true;
 else if (next != null) retval=((ContentModel)next).first(token);
 else retval=false;
break;
default :
throw new InternalError();
}
if (retval) cache.put(token,Boolean.TRUE);
 else cache.put(token,Boolean.FALSE);
return retval;
}
