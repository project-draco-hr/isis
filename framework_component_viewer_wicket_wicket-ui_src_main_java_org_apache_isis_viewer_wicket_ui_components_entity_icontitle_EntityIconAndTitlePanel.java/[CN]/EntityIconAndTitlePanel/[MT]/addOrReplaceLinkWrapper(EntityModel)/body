{
  final ObjectAdapter adapter=entityModel.getObject();
  final PageParameters pageParameters=EntityModel.createPageParameters(adapter);
  final Class<? extends Page> pageClass=getPageClassRegistry().getPageClass(PageType.ENTITY);
  final AbstractLink link=newLink(ID_ENTITY_LINK,pageClass,pageParameters);
  label=new Label(ID_ENTITY_TITLE,determineTitle());
  link.add(label);
  final ResourceReference imageResource=imageCache.resourceReferenceFor(adapter);
  image=new Image(ID_ENTITY_ICON,imageResource){
    private static final long serialVersionUID=1L;
    @Override protected boolean shouldAddAntiCacheParameter(){
      return false;
    }
  }
;
  link.addOrReplace(image);
  final WebMarkupContainer entityLinkWrapper=new WebMarkupContainer(ID_ENTITY_LINK_WRAPPER);
  entityLinkWrapper.addOrReplace(link);
  return entityLinkWrapper;
}
