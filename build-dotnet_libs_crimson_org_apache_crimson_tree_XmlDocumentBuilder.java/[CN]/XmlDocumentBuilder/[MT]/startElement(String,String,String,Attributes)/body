{
  AttributeSet attSet=null;
  int length=attributes.getLength();
  if (length != 0) {
    try {
      attSet=AttributeSet.createAttributeSet1(attributes);
    }
 catch (    DOMException ex) {
      throw new SAXParseException(getMessage("XDB-002",new Object[]{ex.getMessage()}),locator,ex);
    }
  }
  ElementNode e=null;
  try {
    e=(ElementNode)document.createElementEx(qName);
  }
 catch (  DOMException ex) {
    throw new SAXParseException(getMessage("XDB-004",new Object[]{ex.getMessage()}),locator,ex);
  }
  if (attributes instanceof AttributesEx) {
    e.setIdAttributeName(((AttributesEx)attributes).getIdAttributeName());
  }
  if (length != 0) {
    e.setAttributes(attSet);
  }
  elementStack[topOfStack++].appendChild(e);
  elementStack[topOfStack]=e;
}
