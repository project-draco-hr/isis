{
  if (!metadata.isMap()) {
    throw new IllegalArgumentException("metadata must be a map");
  }
  representation.put("metadata",metadata);
  return asT(this);
}
