{
  final TableSupport tableSupport=new TableSupport(commandCall);
  tableRow.set(TableRow.HEADER);
  final Row headerRow=tableSupport.getLastHeaderRow();
  commandCall.setElement(headerRow.getElement());
  commandCall.execute(evaluator,resultRecorder);
  tableRow.set(TableRow.BODY);
  final Row[] detailRows=tableSupport.getDetailRows();
  for (  final Row detailRow : detailRows) {
    if (detailRow.getCells().length != tableSupport.getColumnCount()) {
      throw new RuntimeException("The <table> 'execute' command only supports rows with an equal number of columns.");
    }
    commandCall.setElement(detailRow.getElement());
    tableSupport.copyCommandCallsTo(detailRow);
    commandCall.execute(evaluator,resultRecorder);
  }
  tableRow.set(null);
}
