{
  final String variableName=request.getRequiredProperty(NAME);
  final String defaultValue=request.getOptionalProperty(VALUE);
  final String scopeName=request.getOptionalProperty(SCOPE);
  final Scope scope=RequestContext.scope(scopeName,Scope.REQUEST);
  final RequestContext context=request.getContext();
  final Object currentValue=context.getVariable(variableName);
  if (currentValue == null) {
    request.appendDebug("     " + variableName + " set to "+ defaultValue+ " ("+ scope+ ")");
    context.addVariable(variableName,defaultValue,scope);
  }
 else {
    request.appendDebug("     " + variableName + " alreadt set to "+ currentValue);
  }
}
