{
  context.checking(new Expectations(){
{
      allowing(objectSpec).isService();
      will(returnValue(false));
      allowing(objectSpec).isParentedOrFreeCollection();
      will(returnValue(false));
      allowing(objectSpec).persistability();
      will(returnValue(Persistability.PROGRAM_PERSISTABLE));
      never(mockAdder);
    }
  }
);
  final PojoAdapter rootAdapter=PojoAdapterBuilder.create().with(Type.ROOT).with(Persistence.PERSISTENT).with(objectSpec).build();
  persistAlgorithm.makePersistent(rootAdapter,mockAdder);
}
