{
  final Object o=value.getObject();
  if (o instanceof java.sql.Date) {
    final java.sql.Date javaSqlDate=(java.sql.Date)value.getObject();
    final long millisSinceEpoch=javaSqlDate.getTime();
    return new LocalDate(millisSinceEpoch);
  }
 else   if (o instanceof Date) {
    final Date asDate=(Date)value.getObject();
    return new LocalDate(asDate.getMillisSinceEpoch());
  }
 else {
    throw new IsisApplicationException("Unimplemented JdbcDateMapper instance type: " + value.getClass().toString());
  }
}
