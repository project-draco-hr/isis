{
  java.util.Date javaDateValue;
  String columnName=Sql.sqlFieldName(field.getId());
  javaDateValue=rs.getJavaDateOnly(columnName);
  ObjectAdapter restoredValue;
  if (javaDateValue == null) {
    restoredValue=null;
  }
 else {
    final Class<?> correspondingClass=field.getSpecification().getCorrespondingClass();
    if (correspondingClass == java.util.Date.class || correspondingClass == java.sql.Date.class) {
      restoredValue=IsisContext.getPersistenceSession().getAdapterManager().adapterFor(javaDateValue);
    }
 else     if (correspondingClass == Date.class) {
      Date dateValue;
      dateValue=new Date(javaDateValue);
      restoredValue=IsisContext.getPersistenceSession().getAdapterManager().adapterFor(dateValue);
    }
 else {
      throw new PersistFailedException("Unhandled date type: " + correspondingClass.getCanonicalName());
    }
  }
  ((OneToOneAssociation)field).initAssociation(object,restoredValue);
}
