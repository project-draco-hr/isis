{
  java.util.Date javaDateValue;
  String columnName=Sql.sqlFieldName(field.getId());
  String encodedValue=(String)rs.getString(columnName);
  javaDateValue=rs.getDate(columnName);
  ObjectAdapter restoredValue;
  if (javaDateValue == null) {
    restoredValue=null;
  }
 else {
    if (field.getSpecification().getFullIdentifier() == "java.sql.Date") {
      restoredValue=IsisContext.getPersistenceSession().getAdapterManager().adapterFor(javaDateValue);
    }
 else     if (field.getSpecification().getFullIdentifier() == Date.class.getCanonicalName()) {
      Date newDateValue=new Date(javaDateValue.getTime());
      restoredValue=IsisContext.getPersistenceSession().getAdapterManager().adapterFor(newDateValue);
    }
 else {
      throw new ApplicationException("Unhandled date type: " + field.getSpecification().getFullIdentifier());
    }
  }
  ((OneToOneAssociation)field).initAssociation(object,restoredValue);
}
