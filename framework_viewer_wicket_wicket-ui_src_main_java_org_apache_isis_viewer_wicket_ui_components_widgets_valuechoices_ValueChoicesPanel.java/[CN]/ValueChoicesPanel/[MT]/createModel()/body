{
  return new Model<ObjectAdapterMemento>(){
    private static final long serialVersionUID=1L;
    @Override public ObjectAdapterMemento getObject(){
      if (pending != null) {
        if (LOG.isDebugEnabled()) {
          LOG.debug("TextField: pending not null: " + pending.toString());
        }
        return pending;
      }
      if (LOG.isDebugEnabled()) {
        LOG.debug("TextField: pending is null");
      }
      final ObjectAdapter adapter=ValueChoicesPanel.this.getModelValue();
      return ObjectAdapterMemento.createOrNull(adapter);
    }
    @Override public void setObject(    final ObjectAdapterMemento adapterMemento){
      if (adapterMemento != null) {
        if (LOG.isDebugEnabled()) {
          LOG.debug("TextField: setting to: " + adapterMemento.toString());
        }
        pending=adapterMemento;
      }
      if (scalarModel != null && pending != null) {
        if (LOG.isDebugEnabled()) {
          LOG.debug("TextField: setting to pending: " + pending.toString());
        }
        scalarModel.setObject(pending.getObjectAdapter());
      }
    }
  }
;
}
