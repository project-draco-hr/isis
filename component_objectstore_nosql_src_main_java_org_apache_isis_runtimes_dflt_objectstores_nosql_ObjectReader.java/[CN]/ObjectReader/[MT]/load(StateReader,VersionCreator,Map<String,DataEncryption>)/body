{
  final String oidStr=reader.readOid();
  final RootOid rootOid=getOidMarshaller().unmarshal(oidStr,RootOid.class);
  final ObjectAdapter adapter=getAdapter(rootOid);
  if (adapter.isResolved()) {
    Version version=null;
    final String versionString=reader.readVersion();
    if (!versionString.equals("")) {
      final String user=reader.readUser();
      final String time=reader.readTime();
      version=versionCreator.version(versionString,user,time);
    }
    if (version.different(adapter.getVersion())) {
      LOG.warn("while reading data into " + oidStr + " version was "+ version+ " when existing adapter was already "+ adapter.getVersion());
    }
  }
 else {
    loadState(reader,versionCreator,dataEncrypters,adapter);
  }
  return adapter;
}
