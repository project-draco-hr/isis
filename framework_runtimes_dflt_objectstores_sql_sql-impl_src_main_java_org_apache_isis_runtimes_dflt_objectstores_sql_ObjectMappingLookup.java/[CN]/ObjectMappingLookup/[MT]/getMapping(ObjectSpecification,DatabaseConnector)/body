{
  String fullName=spec.getFullIdentifier();
  ObjectMapping mapping=mappings.get(spec);
  if (mapping == null) {
    final String propertiesBase=SqlObjectStore.BASE_NAME + ".automapper.default";
    mapping=objectMappingFactory.createMapper(fullName,propertiesBase,fieldMappingLookup,this);
    add(spec,mapping,connection);
  }
  LOG.debug("  mapper for " + spec.getSingularName() + " -> "+ mapping);
  if (mapping == null) {
    throw new IsisException("No mapper for " + spec + " (no default mapper)");
  }
  return mapping;
}
