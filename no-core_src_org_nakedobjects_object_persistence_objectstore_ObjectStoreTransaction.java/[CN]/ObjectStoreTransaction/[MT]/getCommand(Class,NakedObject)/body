{
  for (Enumeration e=commands.elements(); e.hasMoreElements(); ) {
    PersistenceCommand command=(PersistenceCommand)e.nextElement();
    boolean correctType=commandClass.isAssignableFrom(command.getClass());
    if (correctType && command.onObject().equals(onObject)) {
      return command;
    }
  }
  return null;
}
