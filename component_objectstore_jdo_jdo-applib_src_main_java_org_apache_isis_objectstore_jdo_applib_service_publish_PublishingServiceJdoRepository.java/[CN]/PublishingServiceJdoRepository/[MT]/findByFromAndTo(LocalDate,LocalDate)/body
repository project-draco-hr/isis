{
  final Timestamp fromTs=toTimestampStartOfDayWithOffset(from,0);
  final Timestamp toTs=toTimestampStartOfDayWithOffset(to,1);
  final Query<PublishedEventJdo> query;
  if (from != null) {
    if (to != null) {
      query=new QueryDefault<PublishedEventJdo>(PublishedEventJdo.class,"findByTimestampBetween","from",fromTs,"to",toTs);
    }
 else {
      query=new QueryDefault<PublishedEventJdo>(PublishedEventJdo.class,"findByTimestampAfter","from",fromTs);
    }
  }
 else {
    if (to != null) {
      query=new QueryDefault<PublishedEventJdo>(PublishedEventJdo.class,"findByTimestampBefore","to",toTs);
    }
 else {
      query=new QueryDefault<PublishedEventJdo>(PublishedEventJdo.class,"find");
    }
  }
  return allMatches(query);
}
