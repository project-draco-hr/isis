{
  Logger.getRootLogger().setLevel(Level.OFF);
  new TestClock();
  new AbstractSpecificationLoader();
  NakedObjectSpecificationImpl.setReflectionFactory(new LocalReflectionFactory());
  AbstractSpecificationLoader.setReflectorFactory(new InternalReflectorFactory());
  NakedObjectSpecification nc=NakedObjects.getSpecificationLoader().loadSpecification(Person.class.getIdentifier());
  LoadedObjects loaded=new MockLoadedObjects();
  ins=new Instances(nc,loaded);
  assertEquals(0,ins.numberInstances());
  p1=new Person();
  p1.getIdentifier().setValue("Harry");
  p1.getSalary().setValue(1234);
  p1Oid=new SerialOid(1);
  p1.setupOid(p1Oid);
  ins.create(p1);
  p2=new Person();
  p2.getIdentifier().setValue("Fred");
  p1.getSalary().setValue(2345);
  p2Oid=new SerialOid(2);
  p2.setupOid(p2Oid);
  ins.create(p2);
}
