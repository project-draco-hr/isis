{
  Response resp=resource.user();
  RestfulResponse<UserRepresentation> jsonResp=RestfulResponse.of(resp,UserRepresentation.class);
  assertThat(jsonResp.getStatus().getFamily(),is(Family.SUCCESSFUL));
  assertThat(jsonResp.getStatus(),is(HttpStatusCode.OK));
  assertThat(jsonResp.getHeader(RestfulResponse.Header.CONTENT_TYPE),is(MediaType.APPLICATION_JSON_TYPE));
  assertThat(jsonResp.getHeader(RestfulResponse.Header.CACHE_CONTROL).getMaxAge(),is(3600));
  assertThat(jsonResp.getHeader(RestfulResponse.Header.X_REPRESENTATION_TYPE),is(RepresentationType.USER));
  UserRepresentation repr=jsonResp.getEntity();
  assertThat(repr,is(not(nullValue())));
  assertThat(repr.isMap(),is(true));
  assertThat(repr.getSelf(),isLink(client).method(Method.GET));
  assertThat(repr.getUsername(),is(not(nullValue())));
  assertThat(repr.getFriendlyName(),is(nullValue()));
  assertThat(repr.getEmail(),is(nullValue()));
  assertThat(repr.getRoles(),is(not(nullValue())));
  assertThat(repr.getLinks(),isArray());
  assertThat(repr.getExtensions(),isMap());
}
