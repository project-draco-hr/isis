{
  for (int i=0; i < fields.length; i++) {
    if (fields[i] instanceof ValueFieldSpecification) {
      ValueMapper mapper=ValueMapperLookup.getInstance().mapperFor(fields[i].getType());
      mapper.setFromDBColumn(columnNames[i],fields[i],object,rs);
    }
 else     if (fields[i] instanceof OneToOneAssociationSpecification) {
      NakedObjectSpecification associatedCls=fields[i].getType();
      Oid oid=recreateOid(rs,associatedCls,columnNames[i]);
      if (oid != null) {
        if (associatedCls.isAbstract()) {
          LOG.warn("NOT DEALING WITH POLYMORPHIC ASSOCIATIONS");
        }
 else {
          NakedObject reference=loadObject(associatedCls,oid);
          ((OneToOneAssociationSpecification)fields[i]).initData(object,reference);
        }
      }
    }
 else {
      throw new NakedObjectRuntimeException();
    }
  }
}
