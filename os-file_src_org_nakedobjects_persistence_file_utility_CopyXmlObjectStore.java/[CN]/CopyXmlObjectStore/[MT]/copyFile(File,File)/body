{
  BufferedInputStream bis=null;
  BufferedOutputStream bos=null;
  try {
    bis=new BufferedInputStream(new FileInputStream(from));
    bos=new BufferedOutputStream(new FileOutputStream(to));
    byte buffer[]=new byte[2048];
    int len=0;
    while ((len=bis.read(buffer)) > 0) {
      bos.write(buffer,0,len);
    }
  }
 catch (  IOException e) {
    throw new NakedObjectRuntimeException("Error copying file " + from.getAbsolutePath() + " to "+ to.getAbsolutePath(),e);
  }
 finally {
    if (bis != null) {
      try {
        bis.close();
      }
 catch (      IOException ignore) {
      }
    }
    if (bos != null) {
      try {
        bos.close();
      }
 catch (      IOException ignore) {
      }
    }
  }
}
