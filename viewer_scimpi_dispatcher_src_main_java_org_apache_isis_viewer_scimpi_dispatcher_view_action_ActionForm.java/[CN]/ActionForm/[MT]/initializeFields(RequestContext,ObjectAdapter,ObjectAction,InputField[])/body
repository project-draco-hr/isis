{
  final List<ObjectActionParameter> parameters=action.getParameters();
  for (int i=0; i < fields.length; i++) {
    final InputField field=fields[i];
    final ObjectActionParameter param=parameters.get(i);
    if (action.isContributed() && i == 0) {
      fields[i].setType(InputField.REFERENCE);
      fields[i].setHidden(true);
    }
 else {
      fields[i].setHelpReference("xxxhelp");
      final ObjectAdapter[] optionsForParameter=action.getChoices(object)[i];
      FieldFactory.initializeField(context,object,param,optionsForParameter,!param.isOptional(),field);
    }
  }
}
