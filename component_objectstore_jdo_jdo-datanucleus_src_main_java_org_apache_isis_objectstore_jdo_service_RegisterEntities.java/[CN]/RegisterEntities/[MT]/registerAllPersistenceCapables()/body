{
  for (  final String packagePrefix : Splitter.on(",").split(packagePrefixes)) {
    Reflections reflections=new Reflections(packagePrefix);
    Set<Class<?>> entityTypes=reflections.getTypesAnnotatedWith(PersistenceCapable.class);
    if (noEntitiesIn(entityTypes)) {
      throw new IllegalStateException("Could not locate any @PersistenceCapable entities in package " + packagePrefix);
    }
    for (    Class<?> entityType : entityTypes) {
      getSpecificationLoader().loadSpecification(entityType);
    }
  }
}
