{
  LOG.info("persist " + collectionAdapter);
  if (collectionAdapter.representsTransient()) {
    collectionAdapter.changeState(ResolveState.RESOLVED);
  }
  final CollectionFacet facet=CollectionFacetUtils.getCollectionFacetFromSpec(collectionAdapter);
  for (  ObjectAdapter element : facet.iterable(collectionAdapter)) {
    makePersistent(element,toPersistObjectSet);
  }
}
