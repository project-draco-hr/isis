{
  if (appManifestIfAny != null) {
    throw new IllegalStateException("An appManifest has already been provided; instead use AppManifest#getAdditionalServices()");
  }
  if (packagePrefixes.length == 0) {
    throw new IllegalArgumentException("Specify packagePrefixes to search for @DomainService-annotated services");
  }
  configuration.put(ServicesInstallerFromAnnotation.PACKAGE_PREFIX_KEY,Joiner.on(",").join(packagePrefixes));
  final ServicesInstaller installer=new ServicesInstallerFromConfigurationAndAnnotation(configuration);
  final List<Object> serviceList=installer.getServices();
  this.services.addAll(serviceList);
  installer.init();
  return this;
}
