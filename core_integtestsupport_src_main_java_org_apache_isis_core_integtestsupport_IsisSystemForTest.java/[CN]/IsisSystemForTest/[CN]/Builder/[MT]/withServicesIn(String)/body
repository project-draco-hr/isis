{
  if (globSpecIfAny != null) {
    throw new IllegalStateException("A globSpec has already been provided");
  }
  if (packagePrefixes.length == 0) {
    throw new IllegalArgumentException("Specify packagePrefixes to search for @DomainService-annotated services");
  }
  configuration.put("isis.services.ServicesInstallerFromAnnotation.packagePrefix",Joiner.on(",").join(packagePrefixes));
  final ServicesInstaller installer=new ServicesInstallerFromConfigurationAndAnnotation();
  installer.setConfiguration(configuration);
  final List<Object> serviceList=installer.getServices(null);
  this.services.addAll(serviceList);
  installer.init();
  return this;
}
