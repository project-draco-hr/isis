{
  final LinkBuilder userLinkBuilder=LinkBuilder.newBuilder(getResourceContext(),"user",RepresentationType.USER,"user");
  final PathFollower pathFollower=getPathFollower().follow("user");
  if (!pathFollower.isTerminated()) {
    final RendererFactory factory=RendererFactoryRegistry.instance.find(RepresentationType.USER);
    final UserReprRenderer renderer=(UserReprRenderer)factory.newRenderer(getResourceContext(),pathFollower,JsonRepresentation.newMap());
    renderer.with(getResourceContext().getAuthenticationSession());
    userLinkBuilder.withValue(renderer.render());
  }
  representation.mapPut("user",userLinkBuilder.build());
}
