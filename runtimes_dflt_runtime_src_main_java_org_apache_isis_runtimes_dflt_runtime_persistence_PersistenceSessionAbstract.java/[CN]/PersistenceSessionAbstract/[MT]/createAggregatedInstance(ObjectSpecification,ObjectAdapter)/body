{
  if (LOG.isDebugEnabled()) {
    LOG.debug("creating aggregated instance of " + specification);
  }
  final Object pojo=specification.createAggregatedObject(parent,CreationMode.INITIALIZE);
  ObjectAdapter adapter=getAdapterManager().adapterFor(pojo);
  if (adapter.getResolveState().isGhost()) {
    adapter.changeState(ResolveState.RESOLVING);
  }
  if (adapter.getResolveState().isValidToChangeTo(ResolveState.RESOLVED)) {
    adapter.changeState(ResolveState.RESOLVED);
  }
  return adapter;
}
