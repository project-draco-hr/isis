{
  if (field == null) {
    throw new NullPointerException();
  }
  final GlobalViewFactory factory=Toolkit.getViewFactory();
  ViewSpecification cellSpec;
  Content content;
  if (field instanceof OneToManyAssociation) {
    throw new UnexpectedCallException("no collections allowed");
  }
 else   if (field instanceof OneToOneAssociation) {
    final ObjectSpecification fieldSpecification=field.getSpecification();
    if (fieldSpecification.isParseable()) {
      content=new TextParseableFieldImpl(object,value,(OneToOneAssociation)field);
      if (content.getAdapter() instanceof ImageValueFacet) {
        return new BlankView(content);
      }
      if (!field.isVisible(IsisContext.getAuthenticationSession(),object,where).isAllowed()) {
        return new BlankView(content);
      }
      if (((TextParseableContent)content).getNoLines() > 0) {
        if (fieldSpecification.containsFacet(BooleanValueFacet.class)) {
          cellSpec=new CheckboxField.Specification();
        }
 else {
          cellSpec=new UnlinedTextFieldSpecification();
        }
      }
 else {
        return factory.createView(new ViewRequirement(content,ViewRequirement.CLOSED));
      }
    }
 else {
      content=new OneToOneFieldImpl(object,value,(OneToOneAssociation)field);
      if (!field.isVisible(IsisContext.getAuthenticationSession(),object,where).isAllowed()) {
        return new BlankView(content);
      }
      return factory.createView(new ViewRequirement(content,ViewRequirement.CLOSED | ViewRequirement.SUBVIEW));
    }
  }
 else {
    throw new UnknownTypeException(field);
  }
  return cellSpec.createView(content,axes,-1);
}
