{
  Vector transfers=getFromAccount().getTransfers();
  transfers.add(this);
  transfers=getToAccount().getTransfers();
  transfers.add(this);
  getFromAccount().withdraw(this);
  getToAccount().deposit(this);
  date.today();
  if (getFromAccount().getBalance().floatValue() < 0) {
    throw new TransactionException();
  }
}
