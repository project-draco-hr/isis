{
  Action action;
  if (target.getObject() instanceof NakedClass) {
    NakedObjectSpecification forNakedClass=((NakedClass)target.getObject()).forObjectType();
    action=forNakedClass.getClassAction(Action.USER,null,new NakedObjectSpecification[]{source.getSpecification()});
  }
 else {
    action=target.getSpecification().getObjectAction(Action.USER,null,new NakedObjectSpecification[]{source.getSpecification()});
  }
  return action;
}
