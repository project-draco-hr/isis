{
  final EntityCollectionModel model=getModel();
  if (model.isParented()) {
    permanentlyHide(ID_ENTITY_ACTIONS);
    return;
  }
  final ObjectSpecification typeSpec=model.getTypeOfSpecification();
  @SuppressWarnings("unchecked") final List<ObjectAction> userActions=typeSpec.getObjectActions(ActionType.USER,Contributed.INCLUDED,Filters.and(ObjectActionFilters.withNoBusinessRules(),ObjectActionFilters.contributedAnd1ParamAndVoid()));
  if (!userActions.isEmpty()) {
    final CssMenuLinkFactory linkFactory=new BulkCollectionsLinkFactory(model,dataTable);
    final CssMenuBuilder cssMenuBuilder=new CssMenuBuilder(null,getServiceAdapters(),userActions,linkFactory);
    final CssMenuPanel cssMenuPanel=cssMenuBuilder.buildPanel(ID_ENTITY_ACTIONS,"Actions");
    this.addOrReplace(cssMenuPanel);
  }
 else {
    permanentlyHide(ID_ENTITY_ACTIONS);
  }
}
