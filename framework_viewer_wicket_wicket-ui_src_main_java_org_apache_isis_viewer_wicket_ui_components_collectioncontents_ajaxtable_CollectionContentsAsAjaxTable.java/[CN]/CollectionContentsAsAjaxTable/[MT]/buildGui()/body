{
  final EntityCollectionModel model=getModel();
  final List<IColumn<ObjectAdapter,String>> columns=Lists.newArrayList();
  addTitleColumn(columns);
  addPropertyColumnsIfRequired(columns);
  addSelectedButtonIfRequired(columns);
  final SortableDataProvider<ObjectAdapter,String> dataProvider=new CollectionContentsSortableDataProvider(model);
  final AjaxFallbackDefaultDataTable<ObjectAdapter,String> dataTable=new AjaxFallbackDefaultDataTable<ObjectAdapter,String>("table",columns,dataProvider,model.getPageSize());
  add(dataTable);
}
