{
  if (data == null) {
    str.append("null");
  }
 else   if (data instanceof NullData) {
    str.append("NULL (NullData object)");
  }
 else   if (data instanceof ValueData) {
    ValueData valueData=((ValueData)data);
    str.append("ValueData " + valueData.getType() + ":"+ valueData.getValue());
  }
 else   if (data instanceof ObjectData) {
    ObjectData objectData=((ObjectData)data);
    str.append("ObjectData " + objectData.getType() + ":"+ objectData.getOid()+ ":"+ (objectData.hasCompleteData() ? "C" : "-")+ ":"+ objectData.getVersion());
    Object[] fields=objectData.getFieldContent();
    for (int i=0; fields != null && i < fields.length; i++) {
      str.append("\n");
      str.append(padding(indent));
      str.append(i + 1);
      str.append(") ");
      dump(str,(Data)fields[i],indent + 1);
    }
  }
 else   if (data instanceof CollectionData) {
    CollectionData objectData=((CollectionData)data);
    str.append("CollectionData " + objectData.getType() + ":"+ objectData.getOid()+ ":"+ (objectData.hasAllElements() ? "A" : "-")+ ":"+ objectData.getVersion());
    Object[] elements=objectData.getElements();
    for (int i=0; elements != null && i < elements.length; i++) {
      str.append("\n");
      str.append(padding(indent));
      str.append(i + 1);
      str.append(") ");
      dump(str,(Data)elements[i],indent + 1);
    }
  }
 else   if (data instanceof ReferenceData) {
    ReferenceData referenceData=(ReferenceData)data;
    str.append("ReferenceData " + referenceData.getType() + ":"+ referenceData.getOid()+ ":"+ referenceData.getVersion());
  }
 else {
    str.append("Unknown: " + data);
  }
}
