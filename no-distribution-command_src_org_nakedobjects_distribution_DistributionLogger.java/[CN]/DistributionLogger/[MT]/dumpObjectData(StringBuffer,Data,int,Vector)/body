{
  ObjectData objectData=((ObjectData)data);
  str.append("ObjectData@" + Integer.toHexString(objectData.hashCode()) + " "+ objectData.getType()+ ":"+ objectData.getOid()+ ":"+ (objectData.hasCompleteData() ? "C" : "-")+ ":"+ objectData.getVersion());
  if (complete.contains(objectData)) {
    str.append(" (already detailed)");
    return;
  }
  complete.addElement(objectData);
  NakedObjectSpecification specification=NakedObjects.getSpecificationLoader().loadSpecification(objectData.getType());
  NakedObjectField[] fs=dataStructure.getFields(specification);
  Object[] fields=objectData.getFieldContent();
  for (int i=0; fields != null && i < fields.length; i++) {
    str.append("\n");
    str.append(padding(indent));
    str.append(i + 1);
    str.append(") ");
    str.append(fs[i].getId());
    str.append(": ");
    dump(str,(Data)fields[i],indent + 1,complete);
  }
}
