{
  super(id,exceptionModel);
  add(new Label(ID_MAIN_MESSAGE,exceptionModel.getMainMessage()).setEscapeModelStrings(false));
  MarkupContainer container=new WebMarkupContainer(ID_EXCEPTION_DETAIL){
    private static final long serialVersionUID=1L;
    @Override public void renderHead(    IHeaderResponse response){
      response.render(JavaScriptReferenceHeaderItem.forReference(DIV_TOGGLE_JS));
    }
  }
;
  container.add(new Label(ID_EXCEPTION_MESSAGE,Strings.nullToEmpty(exceptionModel.getExceptionMessage())).setVisible(exceptionModel.isRecognized()));
  container.add(new StackTraceListView(ID_STACK_TRACE_ELEMENT,ExceptionStackTracePanel.ID_LINE,exceptionModel.getStackTrace()));
  add(container);
}
