{
  context.checking(new Expectations(){
{
      never(mockAssociation).containsFacet(HiddenFacet.class);
      allowing(mockAssociation).isVisible(with(any(AuthenticationSession.class)),with(any(ObjectAdapter.class)),with(equalTo(Where.ANYWHERE)));
    }
  }
);
  final Filter<ObjectAssociation> filter=ObjectAssociation.Filters.dynamicallyVisible(mockSession,mockTarget,Where.ANYWHERE);
  filter.accept(mockAssociation);
}
