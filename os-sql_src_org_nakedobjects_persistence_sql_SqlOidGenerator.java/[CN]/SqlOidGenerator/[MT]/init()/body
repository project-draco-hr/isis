{
  String connectorClass=NakedObjects.getConfiguration().getString(BASE_NAME + ".connector");
  connectorFactory=(DatabaseConnectorFactory)ComponentLoader.loadComponent(connectorClass,DatabaseConnectorFactory.class);
  DatabaseConnector db=connectorFactory.createConnector();
  try {
    db.open();
    if (!db.hasTable("no_serial_id")) {
      db.update("create table \"no_serial_id\" (\"number\" INTEGER)");
      db.update("insert into \"no_serial_id\" values (1)");
    }
    Results rs=db.select("select \"number\" from \"no_serial_id\"");
    rs.next();
    number=rs.getLong("number");
    rs.close();
    db.close();
  }
 catch (  ObjectPerstsistenceException e) {
    throw new NakedObjectRuntimeException(e);
  }
}
