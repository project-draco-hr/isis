{
  final Hashtable<Class<? extends Facet>,Facet> facetByType=new Hashtable<Class<? extends Facet>,Facet>();
  final Class<? extends Facet>[] facetsFor=facetHolder.getFacetTypes();
  for (int i=0; i < facetsFor.length; i++) {
    final Class<? extends Facet> facetType=facetsFor[i];
    final Facet facet=facetHolder.getFacet(facetType);
    facetByType.put(facetType,facet);
  }
  return facetByType;
}
