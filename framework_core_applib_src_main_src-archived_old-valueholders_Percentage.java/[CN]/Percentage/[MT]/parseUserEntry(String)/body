{
  if (text.trim().equals("")) {
    clear();
  }
 else {
    try {
      setValue(PERCENTAGE_FORMAT.parse(text).floatValue());
    }
 catch (    ParseException e) {
      try {
        setValue(DECIMAL_FORMAT.parse(text).floatValue());
      }
 catch (      ParseException ee) {
        throw new ValueParseException("Invalid number; can;t parse '" + text + "'",ee);
      }
    }
  }
}
