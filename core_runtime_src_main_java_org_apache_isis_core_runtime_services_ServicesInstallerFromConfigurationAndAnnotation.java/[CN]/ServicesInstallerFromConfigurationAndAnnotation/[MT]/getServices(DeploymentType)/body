{
  LOG.info("installing " + this.getClass().getName());
  List<Object> serviceList=servicesByDeploymentType.get(deploymentType);
  if (serviceList == null) {
    final SortedMap<String,SortedSet<String>> positionedServices=Maps.newTreeMap(new DeweyOrderComparator());
    servicesInstallerFromConfiguration.appendServices(deploymentType,positionedServices);
    servicesInstallerFromAnnotation.appendServices(deploymentType,positionedServices);
    serviceList=ServicesInstallerUtils.instantiateServicesFrom(positionedServices,serviceInstantiator);
    final List<Object> defaultServices=servicesInstallerDefaults.getServices(deploymentType);
    serviceList.addAll(defaultServices);
    servicesByDeploymentType.put(deploymentType,serviceList);
  }
  return serviceList;
}
