{
  this.target=target;
  this.action=action;
  parameterTypes=action.parameters();
  parameterValues=new Naked[parameterTypes.length];
  for (int i=0; i < parameterTypes.length; i++) {
    if (parameterTypes[i].isValue()) {
      parameterValues[i]=parameterTypes[i].acquireInstance();
    }
 else {
      parameterValues[i]=null;
    }
  }
  About about=action.getAbout(ClientSession.getSession(),target,parameterValues);
  String[] labels;
  Naked[] defaultValues;
  if (about instanceof ActionAbout) {
    ActionAbout a=(ActionAbout)about;
    labels=a.getParameterLabels();
    defaultValues=a.getDefaultParameterValues();
  }
 else {
    labels=new String[parameterTypes.length];
    defaultValues=new Naked[parameterTypes.length];
  }
  parameters=new ActionField[parameterTypes.length];
  for (int i=0; i < parameterTypes.length; i++) {
    String label=labels[i] == null ? parameterTypes[i].getShortName() : labels[i];
    Naked value=defaultValues[i] == null ? parameterValues[i] : defaultValues[i];
    if (parameterTypes[i].isValue()) {
      parameters[i]=new ValueParameter(label,value);
    }
 else {
      parameters[i]=new ObjectParameter(label,value,parameterTypes[i]);
    }
  }
}
