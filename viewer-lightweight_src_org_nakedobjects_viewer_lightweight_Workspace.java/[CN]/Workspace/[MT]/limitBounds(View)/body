{
  Location location=view.getLocation();
  Size size=view.getSize();
  int viewLeft=location.x;
  int viewTop=location.y;
  int viewRight=viewLeft + size.width;
  int viewBottom=viewTop + size.height;
  Size wd=viewer.getSize();
  Padding insets=getPadding();
  int limitLeft=insets.left;
  int limitTop=insets.top;
  int limitRight=wd.width - insets.right;
  int limitBottom=wd.height - insets.bottom;
  if (viewRight > limitRight) {
    viewLeft=limitRight - size.width;
  }
  if (viewLeft < limitLeft) {
    viewLeft=limitLeft;
  }
  if (viewBottom > limitBottom) {
    viewTop=limitBottom - size.height;
  }
  if (viewTop < limitTop) {
    viewTop=limitTop;
  }
  location.x=viewLeft;
  location.y=viewTop;
  view.setLocation(location);
}
