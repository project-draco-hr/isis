{
  NakedObject object;
  try {
    object=(NakedObject)cls.acquireInstance();
    NakedObjectManager.getInstance().makePersistent(object);
    object.created();
    object.objectChanged();
  }
 catch (  NotPersistableException e) {
    object=new NakedError("Failed to create instance of " + cls.fullName(),e);
    LOG.error("Failed to create instance of " + cls.fullName());
    e.printStackTrace();
  }
  if (openAView) {
    RootView view=ViewFactory.getViewFactory().createRootView(object);
    view.setLocation(at);
    frame.addRootView(view);
  }
 else {
    DesktopView icon=ViewFactory.getViewFactory().createIconView(object,null);
    icon.setLocation(at);
    frame.addIcon(icon);
  }
}
