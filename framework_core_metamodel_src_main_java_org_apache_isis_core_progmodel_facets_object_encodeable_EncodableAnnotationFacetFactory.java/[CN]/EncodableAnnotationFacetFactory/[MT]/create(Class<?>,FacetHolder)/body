{
  final Encodable annotation=Annotations.getAnnotation(cls,Encodable.class);
  if (annotation != null) {
    final EncodableFacetAnnotation facet=new EncodableFacetAnnotation(cls,getIsisConfiguration(),holder,adapterManager,servicesInjector);
    if (facet.isValid()) {
      return facet;
    }
  }
  final String encoderDecoderName=EncoderDecoderUtil.encoderDecoderNameFromConfiguration(cls,getIsisConfiguration());
  if (!StringUtils.isNullOrEmpty(encoderDecoderName)) {
    final EncodableFacetFromConfiguration facet=new EncodableFacetFromConfiguration(encoderDecoderName,holder,adapterManager,servicesInjector);
    if (facet.isValid()) {
      return facet;
    }
  }
  return null;
}
