{
  ensureThatArg(persistenceSessionFactory,is(not(nullValue())),"persistence session factory required");
  ensureThatArg(adapterFactory,is(not(nullValue())),"adapter factory required");
  ensureThatArg(objectFactory,is(not(nullValue())),"object factory required");
  ensureThatArg(servicesInjector,is(not(nullValue())),"services injector required");
  ensureThatArg(oidGenerator,is(not(nullValue())),"OID generator required");
  ensureThatArg(adapterManager,is(not(nullValue())),"adapter manager required");
  this.persistenceSessionFactory=persistenceSessionFactory;
  this.adapterFactory=adapterFactory;
  this.objectFactory=objectFactory;
  this.servicesInjector=servicesInjector;
  this.oidGenerator=oidGenerator;
  this.adapterManager=adapterManager;
  setState(State.NOT_INITIALIZED);
  if (LOG.isDebugEnabled()) {
    LOG.debug("creating " + this);
  }
  ensureThatArg(persistAlgorithm,is(not(nullValue())),"persist algorithm required");
  ensureThatArg(objectStore,is(not(nullValue())),"object store required");
  this.persistAlgorithm=persistAlgorithm;
  this.objectStore=objectStore;
}
