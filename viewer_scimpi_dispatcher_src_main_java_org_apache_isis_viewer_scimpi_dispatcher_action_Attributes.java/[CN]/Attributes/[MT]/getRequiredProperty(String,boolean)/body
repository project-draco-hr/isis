{
  String attribute=tagNode.getAttribute(name);
  if (attribute == null) {
    throw new RequiredPropertyException("Missing property: " + name);
  }
 else   if (attribute.equals("")) {
    throw new RequiredPropertyException("Property not set: " + name);
  }
 else {
    return context.replaceVariables(attribute,ensureVariablesExists);
  }
}
