{
  try {
    final StringBuffer buffer=new StringBuffer();
    String line;
    while ((line=reader.readLine()) != null && line.length() > 0) {
      buffer.append(line);
      buffer.append('\n');
    }
    return buffer.toString();
  }
 catch (  final Exception e) {
    logFailure();
    LOG.error(e.getMessage(),e);
    throw new RemotingException(e);
  }
}
