{
  View views[]=view.getSubviews();
  for (int i=0; i < views.length; i++) {
    View subview=views[i];
    subview.layout();
  }
  if (layoutInvalid) {
    Size size=view.getSize();
    size.contract(view.getPadding());
    int xClass=10;
    int yClass=10;
    int xObject=size.getWidth() - 10;
    int yObject=10;
    int xField=10;
    int yField=size.getHeight() - 10;
    int xWindow=150;
    int yWindow=10;
    for (int i=0; i < views.length; i++) {
      View v=views[i];
      Size componentSize=v.getRequiredSize();
      v.setSize(componentSize);
      if (v.getLocation().equals(ZERO)) {
        if (v.getSpecification().isOpen()) {
          v.setLocation(new Location(xWindow,yWindow));
          yWindow+=componentSize.getHeight() + 6;
        }
 else         if (v.getContent() instanceof FieldContent) {
          v.setLocation(new Location(xField,yField - componentSize.getHeight()));
          xField+=componentSize.getWidth() + 6;
        }
 else {
          NakedObject object=((ObjectContent)v.getContent()).getObject();
          if (object instanceof NakedClassSpec) {
            v.setLocation(new Location(xClass,yClass));
            yClass+=componentSize.getHeight() + 6;
          }
 else {
            v.setLocation(new Location(xObject - componentSize.getWidth(),yObject));
            yObject+=componentSize.getHeight() + 6;
          }
        }
      }
    }
  }
}
