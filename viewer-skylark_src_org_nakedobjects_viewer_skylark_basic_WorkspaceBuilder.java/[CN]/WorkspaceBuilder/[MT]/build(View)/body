{
  NakedObject object=((ObjectContent)view.getContent()).getObject();
  if (object != null && view.getSubviews().length == 0) {
    NakedObjectField[] flds=object.getVisibleFields();
    ViewFactory viewFactory=Skylark.getViewFactory();
    ContentFactory contentFactory=Skylark.getContentFactory();
    for (int f=0; f < flds.length; f++) {
      NakedObjectField field=flds[f];
      Naked attribute=object.getField(field);
      if (field.getId().equals("classes") && field.isCollection()) {
        Enumeration elements=((InternalCollection)attribute).elements();
        while (elements.hasMoreElements()) {
          NakedObject cls=(NakedObject)elements.nextElement();
          Content content=contentFactory.createRootContent(cls);
          View classIcon=viewFactory.createIcon(content);
          classIcon.setLocation(WorkspaceBuilder.UNPLACED);
          view.addView(classIcon);
        }
      }
 else       if (field.getId().equals("objects") && field.isCollection()) {
        Enumeration elements=((InternalCollection)attribute).elements();
        while (elements.hasMoreElements()) {
          NakedObject obj=(NakedObject)elements.nextElement();
          Content content=contentFactory.createRootContent(obj);
          View objectIcon=viewFactory.createIcon(content);
          view.addView(objectIcon);
        }
      }
    }
  }
}
