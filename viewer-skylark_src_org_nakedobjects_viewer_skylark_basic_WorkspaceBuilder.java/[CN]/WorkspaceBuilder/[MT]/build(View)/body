{
  NakedObject object=((ObjectContent)view.getContent()).getObject();
  if (object != null && view.getSubviews().length == 0) {
    FieldSpecification[] flds=object.getSpecification().getVisibleFields(object,ClientSession.getSession());
    ViewFactory factory=ViewFactory.getViewFactory();
    for (int f=0; f < flds.length; f++) {
      FieldSpecification field=flds[f];
      Naked attribute=field.get(object);
      if (field.getName().equals("classes") && attribute instanceof InternalCollection) {
        Enumeration elements=((InternalCollection)attribute).elements();
        while (elements.hasMoreElements()) {
          NakedObject cls=(NakedObject)elements.nextElement();
          View classIcon=factory.createIconizedRootView(cls);
          classIcon.setLocation(WorkspaceBuilder.UNPLACED);
          view.addView(classIcon);
        }
      }
 else       if (field.getName().equals("objects") && attribute instanceof InternalCollection) {
        Enumeration elements=((InternalCollection)attribute).elements();
        while (elements.hasMoreElements()) {
          NakedObject obj=(NakedObject)elements.nextElement();
          View objectIcon=factory.createIconizedRootView(obj);
          view.addView(objectIcon);
        }
      }
    }
  }
}
