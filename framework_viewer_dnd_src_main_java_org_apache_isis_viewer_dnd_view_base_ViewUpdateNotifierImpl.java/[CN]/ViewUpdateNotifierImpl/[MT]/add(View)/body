{
  final Content content=view.getContent();
  if (content != null && content.isObject()) {
    final ObjectAdapter adapter=content.getAdapter();
    if (adapter != null) {
      Vector<View> viewsToNotify;
      if (viewListByAdapter.containsKey(adapter)) {
        viewsToNotify=viewListByAdapter.get(adapter);
      }
 else {
        viewsToNotify=new Vector<View>();
        viewListByAdapter.put(adapter,viewsToNotify);
      }
      if (viewsToNotify.contains(view)) {
        throw new IsisException(view + " already being notified");
      }
      viewsToNotify.addElement(view);
      if (LOG.isDebugEnabled()) {
        LOG.debug("added " + view + " to observers for "+ adapter);
      }
    }
  }
}
