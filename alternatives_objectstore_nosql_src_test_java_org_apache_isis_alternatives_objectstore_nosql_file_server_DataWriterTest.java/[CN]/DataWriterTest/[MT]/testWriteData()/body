{
  File file=new File("target/test/org.domain.Class/1030.data");
  file.mkdirs();
  file.createNewFile();
  Assert.assertTrue(file.exists());
  List<FileContent> files=new ArrayList<FileContent>();
  files.add(new FileContent('I',"1023","1","2","org.domain.Class","{data1}"));
  files.add(new FileContent('U',"1024","21","22","org.domain.Class","{data2}"));
  files.add(new FileContent('D',"1030","66","","org.domain.Class",""));
  DataWriter writer=new DataWriter(files);
  writer.writeData();
  BufferedReader reader=new BufferedReader(new FileReader("target/test/org.domain.Class/1023.data"));
  Assert.assertEquals("org.domain.Class 1023 2",reader.readLine());
  Assert.assertEquals("{data1}",reader.readLine());
  reader=new BufferedReader(new FileReader("target/test/org.domain.Class/1024.data"));
  Assert.assertEquals("org.domain.Class 1024 22",reader.readLine());
  Assert.assertEquals("{data2}",reader.readLine());
  Assert.assertFalse("file still exists",file.exists());
}
