{
  int current=0;
  int j=0;
  while (j < buf.length) {
    boolean sawSpace=false;
    char c=buf[j++];
    if (c == ' ' || c == '\t' || c == '\n' || c == '\r') {
      c=' ';
      sawSpace=true;
    }
    buf[current++]=c;
    if (sawSpace) {
      while (j < buf.length) {
        c=buf[j];
        if (c == ' ' || c == '\t' || c == '\n' || c == '\r') {
          j++;
          continue;
        }
 else {
          break;
        }
      }
    }
  }
  return current;
}
