{
  ObjectAdapter adapter=getAdapterFor(typedOid);
  if (adapter == null) {
    final Object pojo=pojoRecreator.recreatePojo(typedOid);
    adapter=mapRecreatedPojo(typedOid,pojo);
  }
  Oid adapterOid=adapter.getOid();
  if (adapterOid instanceof RootOid) {
    final RootOid recreatedOid=(RootOid)adapterOid;
    final RootOid originalOid=(RootOid)typedOid;
    try {
      if (concurrencyChecking == ConcurrencyChecking.CHECK) {
        recreatedOid.checkLock(getAuthenticationSession().getUserName(),originalOid);
      }
    }
  finally {
      originalOid.setVersion(recreatedOid.getVersion());
    }
  }
  return adapter;
}
