{
  withLogging(pojo,new Runnable(){
    @Override public void run(){
      ObjectAdapter adapter=getAdapterManager().getAdapterFor(pojo);
      if (adapter == null) {
        adapter=lazilyLoaded(pojo,CalledFrom.EVENT_PREDIRTY);
        if (adapter == null) {
          throw new RuntimeException("DN could not find objectId for pojo (unexpected) and so could not map into Isis; pojo=[" + pojo + "]");
        }
      }
      if (adapter.isTransient()) {
        return;
      }
      CallbackFacet.Util.callCallback(adapter,UpdatingCallbackFacet.class);
      final IsisTransaction transaction=getCurrentTransaction();
      transaction.enlistUpdating(adapter);
      ensureRootObject(pojo);
      ensureFrameworksInAgreement(pojo);
    }
  }
,calledFrom);
}
