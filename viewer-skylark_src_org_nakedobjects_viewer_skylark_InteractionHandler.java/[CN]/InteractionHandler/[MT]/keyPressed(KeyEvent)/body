{
  lastTyped=null;
  try {
    if (ke.getKeyCode() == KeyEvent.VK_ESCAPE) {
      if (drag != null) {
        drag.cancel(viewer);
        drag=null;
      }
      viewer.clearStatus();
      viewer.clearOverlayView();
    }
    keyboardManager.pressed(ke.getKeyCode(),ke.getModifiers());
    redraw();
  }
 catch (  Exception e) {
    log(e);
  }
}
