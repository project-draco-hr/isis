{
  NakedObjectSpecification nc=object.getSpecification();
  StringBuffer str=new StringBuffer();
  FieldSpecification[] fields=nc.getFields();
  for (int i=0; i < fields.length; i++) {
    FieldSpecification field=fields[i];
    if (field instanceof ValueFieldSpecification) {
      ValueFieldSpecification valueHolder=((ValueFieldSpecification)field);
      Naked value=valueHolder.get(object);
      if (value != null) {
        String valueStr=value.titleString();
        str.append(valueStr);
      }
    }
 else     if (field instanceof OneToOneAssociationSpecification) {
      OneToOneAssociationSpecification oneToOneAssociation=((OneToOneAssociationSpecification)field);
      Naked referencedNakedObject=oneToOneAssociation.get(object);
      if (referencedNakedObject != null) {
        String titleStr=referencedNakedObject.titleString();
        str.append(titleStr);
      }
    }
 else     if (field instanceof OneToManyAssociationSpecification) {
      OneToManyAssociationSpecification oneToManyAssociation=(OneToManyAssociationSpecification)field;
      InternalCollection collection=(InternalCollection)oneToManyAssociation.get(object);
      for (int j=0; j < collection.size(); j++) {
        NakedObject element=collection.elementAt(i);
        if (element != null) {
          str.append(element.titleString());
        }
      }
    }
    str.append(",  ");
  }
}
