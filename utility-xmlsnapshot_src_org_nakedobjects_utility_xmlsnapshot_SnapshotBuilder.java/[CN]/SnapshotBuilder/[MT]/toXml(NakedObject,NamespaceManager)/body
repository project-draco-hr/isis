{
  DocumentBuilderFactory dbf=DocumentBuilderFactory.newInstance();
  dbf.setNamespaceAware(true);
  DocumentBuilder db;
  try {
    db=dbf.newDocumentBuilder();
    Document doc=db.newDocument();
    Element rootElement=namespaceManager.createNofElement(doc,"snapshot");
    doc.appendChild(rootElement);
    appendXml(namespaceManager,object,rootElement);
    return rootElement;
  }
 catch (  ParserConfigurationException e) {
    e.printStackTrace(System.err);
    LOG.error("Unable to build snapshot",e);
  }
  return null;
}
