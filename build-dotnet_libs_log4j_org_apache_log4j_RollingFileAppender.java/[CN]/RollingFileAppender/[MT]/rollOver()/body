{
  File target;
  File file;
  LogLog.debug("rolling over count=" + ((CountingQuietWriter)qw).getCount());
  LogLog.debug("maxBackupIndex=" + maxBackupIndex);
  if (maxBackupIndex > 0) {
    file=new File(fileName + '.' + maxBackupIndex);
    if (file.exists())     file.delete();
    for (int i=maxBackupIndex - 1; i >= 1; i--) {
      file=new File(fileName + "." + i);
      if (file.exists()) {
        target=new File(fileName + '.' + (i + 1));
        LogLog.debug("Renaming file " + file + " to "+ target);
        file.renameTo(target);
      }
    }
    target=new File(fileName + "." + 1);
    this.closeFile();
    file=new File(fileName);
    LogLog.debug("Renaming file " + file + " to "+ target);
    file.renameTo(target);
  }
  try {
    this.setFile(fileName,false,bufferedIO,bufferSize);
  }
 catch (  IOException e) {
    LogLog.error("setFile(" + fileName + ", false) call failed.",e);
  }
}
