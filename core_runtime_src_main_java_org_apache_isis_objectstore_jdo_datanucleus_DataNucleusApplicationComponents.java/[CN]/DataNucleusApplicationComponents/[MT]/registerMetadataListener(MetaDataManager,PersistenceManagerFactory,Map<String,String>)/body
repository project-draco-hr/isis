{
  final MetaDataListener listener=createMetaDataListener();
  if (listener == null) {
    return;
  }
  if (listener instanceof PersistenceManagerFactoryAware) {
    ((PersistenceManagerFactoryAware)listener).setPersistenceManagerFactory(persistenceManagerFactory);
  }
  if (listener instanceof DataNucleusPropertiesAware) {
    ((DataNucleusPropertiesAware)listener).setDataNucleusProperties(datanucleusProps);
  }
  metaDataManager.registerListener(listener);
}
