{
  context.checking(new Expectations(){
{
      one(mockResultFactory).getResult();
      will(returnValue(new ByteArrayInputStream(new byte[]{23})));
    }
  }
);
  InputStream is=futureFactory.createFuture(mockResultFactory);
  int firstByte=is.read();
  assertThat(firstByte,is(23));
}
