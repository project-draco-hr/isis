{
  int keyCode=key.getKeyCode();
  if (keyCode == KeyEvent.VK_ESCAPE) {
    key.consume();
    dispose();
  }
 else   if (keyCode == KeyEvent.VK_ENTER) {
    key.consume();
    invoke();
  }
 else   if (keyCode == KeyEvent.VK_UP) {
    key.consume();
    if (optionIdentified == 0) {
      optionIdentified=items.length;
    }
    for (int i=optionIdentified - 1; i >= 0; i--) {
      if (items[i].isBlank) {
        continue;
      }
      if (items[i].isDisabled) {
        continue;
      }
      setOption(i);
      break;
    }
  }
 else   if (keyCode == KeyEvent.VK_DOWN) {
    key.consume();
    if (optionIdentified == items.length - 1) {
      optionIdentified=-1;
    }
    for (int i=optionIdentified + 1; i < items.length; i++) {
      if (items[i].isBlank) {
        continue;
      }
      if (items[i].isDisabled) {
        continue;
      }
      setOption(i);
      break;
    }
  }
}
