{
  final AuthenticationSession authenticationSession=getAuthenticationSession();
  Context context=(Context)authenticationSession.getAttribute(HtmlServletConstants.AUTHENTICATION_SESSION_CONTEXT_KEY);
  if (context == null || !context.isValid()) {
    context=new Context(new HtmlComponentFactory(getHtmlViewerContext()));
    authenticationSession.setAttribute(HtmlServletConstants.AUTHENTICATION_SESSION_CONTEXT_KEY,context);
  }
  return context;
}
