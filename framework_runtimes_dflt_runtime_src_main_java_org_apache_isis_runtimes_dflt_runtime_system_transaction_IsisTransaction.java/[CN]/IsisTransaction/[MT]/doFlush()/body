{
  doAudit(getAuditEntries());
  if (commands.size() > 0) {
    objectStore.execute(Collections.unmodifiableList(commands));
    for (    final PersistenceCommand command : commands) {
      if (command instanceof DestroyObjectCommand) {
        final ObjectAdapter adapter=command.onAdapter();
        adapter.setVersion(null);
        adapter.changeState(ResolveState.DESTROYED);
      }
    }
    commands.clear();
  }
}
