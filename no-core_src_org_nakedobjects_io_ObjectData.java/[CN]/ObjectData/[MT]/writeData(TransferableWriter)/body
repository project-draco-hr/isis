{
  super.writeData(data);
  data.writeInt(fields.size());
  for (Enumeration f=fields.keys(); f.hasMoreElements(); ) {
    String key=(String)f.nextElement();
    Object value=fields.get(key);
    data.writeString(key);
    if (value instanceof Data || value instanceof Null) {
      data.writeString("O");
      data.writeObject((Transferable)value);
    }
 else {
      data.writeString("S");
      data.writeString((String)value);
    }
  }
}
