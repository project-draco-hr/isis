{
  try {
    if (server == null) {
      throw new IllegalStateException("mail server not specified");
    }
    final Socket s=new Socket(server,port);
    final BufferedWriter out=new BufferedWriter(new OutputStreamWriter(s.getOutputStream(),"8859_1"));
    out.write(message + "\n");
    out.write(details + "\n");
    out.flush();
    s.close();
  }
 catch (  final ConnectException e) {
    LOG.info("failed to connect to server " + server);
  }
catch (  final Exception e) {
    LOG.info("failed to send email with log",e);
  }
}
