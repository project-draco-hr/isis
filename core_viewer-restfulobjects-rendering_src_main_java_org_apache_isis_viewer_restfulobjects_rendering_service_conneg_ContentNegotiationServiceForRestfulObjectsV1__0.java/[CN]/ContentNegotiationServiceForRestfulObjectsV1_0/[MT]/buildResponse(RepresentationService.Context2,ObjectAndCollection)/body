{
  final List<MediaType> list=renderContext2.getAcceptableMediaTypes();
  ensureCompatibleAcceptHeader(RepresentationType.OBJECT_COLLECTION,list);
  final ObjectCollectionReprRenderer renderer=new ObjectCollectionReprRenderer(renderContext2);
  renderer.with(objectAndCollection).usingLinkTo(renderContext2.getAdapterLinkTo());
  if (objectAndCollection instanceof ObjectAndCollection2) {
    final ObjectAndCollection2 objectAndCollection2=(ObjectAndCollection2)objectAndCollection;
    renderer.withMemberMode(objectAndCollection2.getMemberReprMode());
  }
  final ResponseBuilder responseBuilder=Responses.ofOk(renderer,Caching.NONE);
  return responseBuilder(responseBuilder);
}
