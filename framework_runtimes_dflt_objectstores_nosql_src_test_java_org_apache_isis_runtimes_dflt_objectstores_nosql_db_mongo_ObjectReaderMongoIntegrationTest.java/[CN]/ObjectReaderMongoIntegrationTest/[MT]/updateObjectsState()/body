{
  setupObject1();
  context.checking(new Expectations(){
{
      one(reader1).readEncrytionType();
      will(returnValue("etc1"));
      one(reader1).readVersion();
      will(returnValue("3"));
      one(reader1).readUser();
      will(returnValue("username"));
      one(reader1).readTime();
      will(returnValue("1020"));
      one(versionCreator).version("3","username","1020");
    }
  }
);
  final ObjectSpecification spec=getSpecificationLoader().loadSpecification(SimpleEntity.class);
  final Object recreatedPojo=spec.createObject();
  final ObjectAdapter readObject=getAdapterManager().mapRecreatedPojo(RootOidDefault.create(ObjectSpecId.of("EVP"),"" + 4),recreatedPojo);
  objectReader.update(reader1,versionCreator,dataEncrypter,readObject);
  final SimpleEntity pojo=(SimpleEntity)readObject.getObject();
  assertEquals("Fred Smith",pojo.getName());
  assertEquals(34,pojo.getSize());
  context.assertIsSatisfied();
}
