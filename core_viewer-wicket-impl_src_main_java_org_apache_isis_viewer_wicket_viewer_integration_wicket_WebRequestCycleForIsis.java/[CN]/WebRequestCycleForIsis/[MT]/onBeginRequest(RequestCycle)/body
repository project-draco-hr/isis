{
  if (!Session.exists()) {
    return;
  }
  final AuthenticatedWebSessionForIsis wicketSession=AuthenticatedWebSessionForIsis.get();
  final AuthenticationSession authenticationSession=wicketSession.getAuthenticationSession();
  if (authenticationSession == null) {
    return;
  }
  IsisContext.getSessionFactory().openSession(authenticationSession);
  getTransactionManager().startTransaction();
}
