{
  try {
    final OutputStream whiteListOutputResource=resourceStreamSource.writeResource(whiteListResourceName);
    if (whiteListOutputResource == null) {
      if (!printedWarning) {
        LOG.warn("unable to write out authorisation details");
        printedWarning=true;
      }
      return;
    }
    if (LOG.isDebugEnabled() && !printedDebug) {
      LOG.debug("writing authorisation details to " + whiteListResourceName);
      printedDebug=true;
    }
    final Set<Entry<String,List<String>>> entrySet=whiteListMap.entrySet();
    final List<Entry<String,List<String>>> entryList=Lists.newArrayList(entrySet);
    final OutputStreamWriter fileWriter=new OutputStreamWriter(whiteListOutputResource);
    final BufferedWriter buffWriter=new BufferedWriter(fileWriter);
    for (    final Map.Entry<String,List<String>> entry : entryList) {
      writeTo(entry,buffWriter);
    }
    buffWriter.flush();
    buffWriter.close();
  }
 catch (  final IOException e) {
    throw new IsisException(e);
  }
}
